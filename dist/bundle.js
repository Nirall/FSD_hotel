!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);var s;i(3),i(2),i(1);(s=i(5)).keys().forEach(s)},function(t,e){class i{constructor(){this.init()}init(){const t=$(".datepicker-1f .datepicker-1f__input-field").datepicker().data("datepicker"),e=$(".datepicker-1f .datepicker-1f__input-field");e.datepicker({onSelect:t=>{let i="";if(t)if(t.split(" - ").length>1){let e=t.toLowerCase().split(" - ");e=e.map(t=>t.match(/\d{2}\s[а-яА-Я]{3}/)[0]),i=e.join(" - ")}else i=t.match(/\d{2}\s[а-яА-Я]{3}/)[0];e.val(i)}}),e.datepicker({clearButton:!0}),e.datepicker({todayButton:!0}),e.datepicker({dateFormat:"dd MM"}),e.datepicker({prevHtml:'<i class = "db-arrow material-icons">arrow_back</i>'}),e.datepicker({nextHtml:'<i class = "db-arrow material-icons">arrow_forward</i>'});let i=$('.datepicker--button[data-action="today"]');i.html("Применить"),i.on("click",()=>{t&&t.hide()}),$(".datepicker-1f__wrapper-input-field").on("click",()=>t.show())}}if($(".js-datepicker-1f")){new i}},function(t,e){class i{constructor(){this.init()}init(){const t=$(".js-datepicker-2f__input-field").datepicker().data("datepicker"),e=$(".js-datepicker-2f__out-date-field"),i=$(".js-datepicker-2f__input-field");i.datepicker({onSelect:t=>{let s=t.match(/.+?(?=\s|$)/)?t.match(/.+?(?=\s|$)/)[0]:"",n=t.match(/(?<=\s-\s).+/)?t.match(/(?<=\s-\s).+/)[0]:"";i.val(s),e.val(n)}}),i.datepicker({clearButton:!0}),i.datepicker({todayButton:!0}),i.datepicker({prevHtml:'<i class = "db-arrow material-icons">arrow_back</i>'}),i.datepicker({nextHtml:'<i class = "db-arrow material-icons">arrow_forward</i>'});const s=$('.datepicker--button[data-action="today"]');s.html("Применить"),s.on("click",()=>t.hide()),$(".js-datepicker-2f__wrapper-input-field").on("click",()=>t.show())}}if($(".js-datepicker-2f")){new i}},function(t,e){!function(t,e,i){var s,n,a,r,o,c,l;r=!1,o={classes:"",inline:!1,language:"ru",startDate:new Date,firstDay:"",weekends:[6,0],dateFormat:"",altField:"",altFieldDateFormat:"@",toggleSelected:!0,keyboardNav:!0,position:"bottom left",offset:12,view:"days",minView:"days",showOtherMonths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:"",maxDate:"",disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:",",range:!1,todayButton:!1,clearButton:!1,showEvent:"focus",autoClose:!1,monthsField:"monthsShort",prevHtml:'<svg><path d="M 17,12 l -5,5 l 5,5"></path></svg>',nextHtml:'<svg><path d="M 14,12 l 5,5 l -5,5"></path></svg>',navTitles:{days:"MM <i>yyyy</i>",months:"yyyy",years:"yyyy1 - yyyy2"},timepicker:!1,onlyTimepicker:!1,dateTimeSeparator:" ",timeFormat:"",minHours:0,maxHours:24,minMinutes:0,maxMinutes:59,hoursStep:1,minutesStep:1,onSelect:"",onShow:"",onHide:"",onChangeMonth:"",onChangeYear:"",onChangeDecade:"",onChangeView:"",onRenderCell:""},c={ctrlRight:[17,39],ctrlUp:[17,38],ctrlLeft:[17,37],ctrlDown:[17,40],shiftRight:[16,39],shiftUp:[16,38],shiftLeft:[16,37],shiftDown:[16,40],altUp:[18,38],altRight:[18,39],altLeft:[18,37],altDown:[18,40],ctrlShiftUp:[16,17,38]},(a=l=function(t,i){this.el=t,this.$el=e(t),this.opts=e.extend(!0,{},o,i,this.$el.data()),null==s&&(s=e("body")),this.opts.startDate||(this.opts.startDate=new Date),"INPUT"==this.el.nodeName&&(this.elIsInput=!0),this.opts.altField&&(this.$altField="string"==typeof this.opts.altField?e(this.opts.altField):this.opts.altField),this.inited=!1,this.visible=!1,this.silent=!1,this.currentDate=this.opts.startDate,this.currentView=this.opts.view,this._createShortCuts(),this.selectedDates=[],this.views={},this.keys=[],this.minRange="",this.maxRange="",this._prevOnSelectValue="",this.init()}).prototype={VERSION:"2.2.3",viewIndexes:["days","months","years"],init:function(){r||this.opts.inline||!this.elIsInput||this._buildDatepickersContainer(),this._buildBaseHtml(),this._defineLocale(this.opts.language),this._syncWithMinMaxDates(),this.elIsInput&&(this.opts.inline||(this._setPositionClasses(this.opts.position),this._bindEvents()),this.opts.keyboardNav&&!this.opts.onlyTimepicker&&this._bindKeyboardEvents(),this.$datepicker.on("mousedown",this._onMouseDownDatepicker.bind(this)),this.$datepicker.on("mouseup",this._onMouseUpDatepicker.bind(this))),this.opts.classes&&this.$datepicker.addClass(this.opts.classes),this.opts.timepicker&&(this.timepicker=new e.fn.datepicker.Timepicker(this,this.opts),this._bindTimepickerEvents()),this.opts.onlyTimepicker&&this.$datepicker.addClass("-only-timepicker-"),this.views[this.currentView]=new e.fn.datepicker.Body(this,this.currentView,this.opts),this.views[this.currentView].show(),this.nav=new e.fn.datepicker.Navigation(this,this.opts),this.view=this.currentView,this.$el.on("clickCell.adp",this._onClickCell.bind(this)),this.$datepicker.on("mouseenter",".datepicker--cell",this._onMouseEnterCell.bind(this)),this.$datepicker.on("mouseleave",".datepicker--cell",this._onMouseLeaveCell.bind(this)),this.inited=!0},_createShortCuts:function(){this.minDate=this.opts.minDate?this.opts.minDate:new Date(-86399999136e5),this.maxDate=this.opts.maxDate?this.opts.maxDate:new Date(86399999136e5)},_bindEvents:function(){this.$el.on(this.opts.showEvent+".adp",this._onShowEvent.bind(this)),this.$el.on("mouseup.adp",this._onMouseUpEl.bind(this)),this.$el.on("blur.adp",this._onBlur.bind(this)),this.$el.on("keyup.adp",this._onKeyUpGeneral.bind(this)),e(t).on("resize.adp",this._onResize.bind(this)),e("body").on("mouseup.adp",this._onMouseUpBody.bind(this))},_bindKeyboardEvents:function(){this.$el.on("keydown.adp",this._onKeyDown.bind(this)),this.$el.on("keyup.adp",this._onKeyUp.bind(this)),this.$el.on("hotKey.adp",this._onHotKey.bind(this))},_bindTimepickerEvents:function(){this.$el.on("timeChange.adp",this._onTimeChange.bind(this))},isWeekend:function(t){return-1!==this.opts.weekends.indexOf(t)},_defineLocale:function(t){"string"==typeof t?(this.loc=e.fn.datepicker.language[t],this.loc||(console.warn("Can't find language \""+t+'" in Datepicker.language, will use "ru" instead'),this.loc=e.extend(!0,{},e.fn.datepicker.language.ru)),this.loc=e.extend(!0,{},e.fn.datepicker.language.ru,e.fn.datepicker.language[t])):this.loc=e.extend(!0,{},e.fn.datepicker.language.ru,t),this.opts.dateFormat&&(this.loc.dateFormat=this.opts.dateFormat),this.opts.timeFormat&&(this.loc.timeFormat=this.opts.timeFormat),""!==this.opts.firstDay&&(this.loc.firstDay=this.opts.firstDay),this.opts.timepicker&&(this.loc.dateFormat=[this.loc.dateFormat,this.loc.timeFormat].join(this.opts.dateTimeSeparator)),this.opts.onlyTimepicker&&(this.loc.dateFormat=this.loc.timeFormat);var i=this._getWordBoundaryRegExp;(this.loc.timeFormat.match(i("aa"))||this.loc.timeFormat.match(i("AA")))&&(this.ampm=!0)},_buildDatepickersContainer:function(){r=!0,s.append('<div class="datepickers-container" id="datepickers-container"></div>'),n=e("#datepickers-container")},_buildBaseHtml:function(){var t,i=e('<div class="datepicker-inline">');t="INPUT"==this.el.nodeName?this.opts.inline?i.insertAfter(this.$el):n:i.appendTo(this.$el),this.$datepicker=e('<div class="datepicker"><i class="datepicker--pointer"></i><nav class="datepicker--nav"></nav><div class="datepicker--content"></div></div>').appendTo(t),this.$content=e(".datepicker--content",this.$datepicker),this.$nav=e(".datepicker--nav",this.$datepicker)},_triggerOnChange:function(){if(!this.selectedDates.length){if(""===this._prevOnSelectValue)return;return this._prevOnSelectValue="",this.opts.onSelect("","",this)}var t,e=this.selectedDates,i=a.getParsedDate(e[0]),s=this,n=new Date(i.year,i.month,i.date,i.hours,i.minutes);t=e.map((function(t){return s.formatDate(s.loc.dateFormat,t)})).join(this.opts.multipleDatesSeparator),(this.opts.multipleDates||this.opts.range)&&(n=e.map((function(t){var e=a.getParsedDate(t);return new Date(e.year,e.month,e.date,e.hours,e.minutes)}))),this._prevOnSelectValue=t,this.opts.onSelect(t,n,this)},next:function(){var t=this.parsedDate,e=this.opts;switch(this.view){case"days":this.date=new Date(t.year,t.month+1,1),e.onChangeMonth&&e.onChangeMonth(this.parsedDate.month,this.parsedDate.year);break;case"months":this.date=new Date(t.year+1,t.month,1),e.onChangeYear&&e.onChangeYear(this.parsedDate.year);break;case"years":this.date=new Date(t.year+10,0,1),e.onChangeDecade&&e.onChangeDecade(this.curDecade)}},prev:function(){var t=this.parsedDate,e=this.opts;switch(this.view){case"days":this.date=new Date(t.year,t.month-1,1),e.onChangeMonth&&e.onChangeMonth(this.parsedDate.month,this.parsedDate.year);break;case"months":this.date=new Date(t.year-1,t.month,1),e.onChangeYear&&e.onChangeYear(this.parsedDate.year);break;case"years":this.date=new Date(t.year-10,0,1),e.onChangeDecade&&e.onChangeDecade(this.curDecade)}},formatDate:function(t,e){e=e||this.date;var i,s=t,n=this._getWordBoundaryRegExp,r=this.loc,o=a.getLeadingZeroNum,c=a.getDecade(e),l=a.getParsedDate(e),u=l.fullHours,h=l.hours,d=t.match(n("aa"))||t.match(n("AA")),p="am",m=this._replacer;switch(this.opts.timepicker&&this.timepicker&&d&&(u=o((i=this.timepicker._getValidHoursFromDate(e,d)).hours),h=i.hours,p=i.dayPeriod),!0){case/@/.test(s):s=s.replace(/@/,e.getTime());case/aa/.test(s):s=m(s,n("aa"),p);case/AA/.test(s):s=m(s,n("AA"),p.toUpperCase());case/dd/.test(s):s=m(s,n("dd"),l.fullDate);case/d/.test(s):s=m(s,n("d"),l.date);case/DD/.test(s):s=m(s,n("DD"),r.days[l.day]);case/D/.test(s):s=m(s,n("D"),r.daysShort[l.day]);case/mm/.test(s):s=m(s,n("mm"),l.fullMonth);case/m/.test(s):s=m(s,n("m"),l.month+1);case/MM/.test(s):s=m(s,n("MM"),this.loc.months[l.month]);case/M/.test(s):s=m(s,n("M"),r.monthsShort[l.month]);case/ii/.test(s):s=m(s,n("ii"),l.fullMinutes);case/i/.test(s):s=m(s,n("i"),l.minutes);case/hh/.test(s):s=m(s,n("hh"),u);case/h/.test(s):s=m(s,n("h"),h);case/yyyy/.test(s):s=m(s,n("yyyy"),l.year);case/yyyy1/.test(s):s=m(s,n("yyyy1"),c[0]);case/yyyy2/.test(s):s=m(s,n("yyyy2"),c[1]);case/yy/.test(s):s=m(s,n("yy"),l.year.toString().slice(-2))}return s},_replacer:function(t,e,i){return t.replace(e,(function(t,e,s,n){return e+i+n}))},_getWordBoundaryRegExp:function(t){var e="\\s|\\.|-|/|\\\\|,|\\$|\\!|\\?|:|;";return new RegExp("(^|>|"+e+")("+t+")($|<|"+e+")","g")},selectDate:function(t){var e=this,i=e.opts,s=e.parsedDate,n=e.selectedDates.length,r="";if(Array.isArray(t))t.forEach((function(t){e.selectDate(t)}));else if(t instanceof Date){if(this.lastSelectedDate=t,this.timepicker&&this.timepicker._setTime(t),e._trigger("selectDate",t),this.timepicker&&(t.setHours(this.timepicker.hours),t.setMinutes(this.timepicker.minutes)),"days"==e.view&&t.getMonth()!=s.month&&i.moveToOtherMonthsOnSelect&&(r=new Date(t.getFullYear(),t.getMonth(),1)),"years"==e.view&&t.getFullYear()!=s.year&&i.moveToOtherYearsOnSelect&&(r=new Date(t.getFullYear(),0,1)),r&&(e.silent=!0,e.date=r,e.silent=!1,e.nav._render()),i.multipleDates&&!i.range){if(n===i.multipleDates)return;e._isSelected(t)||e.selectedDates.push(t)}else i.range?2==n?(e.selectedDates=[t],e.minRange=t,e.maxRange=""):1==n?(e.selectedDates.push(t),e.maxRange?e.minRange=t:e.maxRange=t,a.bigger(e.maxRange,e.minRange)&&(e.maxRange=e.minRange,e.minRange=t),e.selectedDates=[e.minRange,e.maxRange]):(e.selectedDates=[t],e.minRange=t):e.selectedDates=[t];e._setInputValue(),i.onSelect&&e._triggerOnChange(),i.autoClose&&!this.timepickerIsActive&&(i.multipleDates||i.range?i.range&&2==e.selectedDates.length&&e.hide():e.hide()),e.views[this.currentView]._render()}},removeDate:function(t){var e=this.selectedDates,i=this;if(t instanceof Date)return e.some((function(s,n){if(a.isSame(s,t))return e.splice(n,1),i.selectedDates.length?i.lastSelectedDate=i.selectedDates[i.selectedDates.length-1]:(i.minRange="",i.maxRange="",i.lastSelectedDate=""),i.views[i.currentView]._render(),i._setInputValue(),i.opts.onSelect&&i._triggerOnChange(),!0}))},today:function(){this.silent=!0,this.view=this.opts.minView,this.silent=!1,this.date=new Date,this.opts.todayButton instanceof Date&&this.selectDate(this.opts.todayButton)},clear:function(){this.selectedDates=[],this.minRange="",this.maxRange="",this.views[this.currentView]._render(),this._setInputValue(),this.opts.onSelect&&this._triggerOnChange()},update:function(t,i){var s=arguments.length,n=this.lastSelectedDate;return 2==s?this.opts[t]=i:1==s&&"object"==typeof t&&(this.opts=e.extend(!0,this.opts,t)),this._createShortCuts(),this._syncWithMinMaxDates(),this._defineLocale(this.opts.language),this.nav._addButtonsIfNeed(),this.opts.onlyTimepicker||this.nav._render(),this.views[this.currentView]._render(),this.elIsInput&&!this.opts.inline&&(this._setPositionClasses(this.opts.position),this.visible&&this.setPosition(this.opts.position)),this.opts.classes&&this.$datepicker.addClass(this.opts.classes),this.opts.onlyTimepicker&&this.$datepicker.addClass("-only-timepicker-"),this.opts.timepicker&&(n&&this.timepicker._handleDate(n),this.timepicker._updateRanges(),this.timepicker._updateCurrentTime(),n&&(n.setHours(this.timepicker.hours),n.setMinutes(this.timepicker.minutes))),this._setInputValue(),this},_syncWithMinMaxDates:function(){var t=this.date.getTime();this.silent=!0,this.minTime>t&&(this.date=this.minDate),this.maxTime<t&&(this.date=this.maxDate),this.silent=!1},_isSelected:function(t,e){var i=!1;return this.selectedDates.some((function(s){if(a.isSame(s,t,e))return i=s,!0})),i},_setInputValue:function(){var t,e=this,i=e.opts,s=e.loc.dateFormat,n=i.altFieldDateFormat,a=e.selectedDates.map((function(t){return e.formatDate(s,t)}));i.altField&&e.$altField.length&&(t=(t=this.selectedDates.map((function(t){return e.formatDate(n,t)}))).join(this.opts.multipleDatesSeparator),this.$altField.val(t)),a=a.join(this.opts.multipleDatesSeparator),this.$el.val(a)},_isInRange:function(t,e){var i=t.getTime(),s=a.getParsedDate(t),n=a.getParsedDate(this.minDate),r=a.getParsedDate(this.maxDate),o=new Date(s.year,s.month,n.date).getTime(),c=new Date(s.year,s.month,r.date).getTime(),l={day:i>=this.minTime&&i<=this.maxTime,month:o>=this.minTime&&c<=this.maxTime,year:s.year>=n.year&&s.year<=r.year};return e?l[e]:l.day},_getDimensions:function(t){var e=t.offset();return{width:t.outerWidth(),height:t.outerHeight(),left:e.left,top:e.top}},_getDateFromCell:function(t){var e=this.parsedDate,i=t.data("year")||e.year,s=null==t.data("month")?e.month:t.data("month"),n=t.data("date")||1;return new Date(i,s,n)},_setPositionClasses:function(t){var e=(t=t.split(" "))[0],i="datepicker -"+e+"-"+t[1]+"- -from-"+e+"-";this.visible&&(i+=" active"),this.$datepicker.removeAttr("class").addClass(i)},setPosition:function(t){t=t||this.opts.position;var e,i,s=this._getDimensions(this.$el),n=this._getDimensions(this.$datepicker),a=t.split(" "),r=this.opts.offset,o=a[0],c=a[1];switch(o){case"top":e=s.top-n.height-r;break;case"right":i=s.left+s.width+r;break;case"bottom":e=s.top+s.height+r;break;case"left":i=s.left-n.width-r}switch(c){case"top":e=s.top;break;case"right":i=s.left+s.width-n.width;break;case"bottom":e=s.top+s.height-n.height;break;case"left":i=s.left;break;case"center":/left|right/.test(o)?e=s.top+s.height/2-n.height/2:i=s.left+s.width/2-n.width/2}this.$datepicker.css({left:i,top:e})},show:function(){var t=this.opts.onShow;this.setPosition(this.opts.position),this.$datepicker.addClass("active"),this.visible=!0,t&&this._bindVisionEvents(t)},hide:function(){var t=this.opts.onHide;this.$datepicker.removeClass("active").css({left:"-100000px"}),this.focused="",this.keys=[],this.inFocus=!1,this.visible=!1,this.$el.blur(),t&&this._bindVisionEvents(t)},down:function(t){this._changeView(t,"down")},up:function(t){this._changeView(t,"up")},_bindVisionEvents:function(t){this.$datepicker.off("transitionend.dp"),t(this,!1),this.$datepicker.one("transitionend.dp",t.bind(this,this,!0))},_changeView:function(t,e){t=t||this.focused||this.date;var i="up"==e?this.viewIndex+1:this.viewIndex-1;i>2&&(i=2),i<0&&(i=0),this.silent=!0,this.date=new Date(t.getFullYear(),t.getMonth(),1),this.silent=!1,this.view=this.viewIndexes[i]},_handleHotKey:function(t){var e,i,s,n=a.getParsedDate(this._getFocusedDate()),r=this.opts,o=!1,c=!1,l=!1,u=n.year,h=n.month,d=n.date;switch(t){case"ctrlRight":case"ctrlUp":h+=1,o=!0;break;case"ctrlLeft":case"ctrlDown":h-=1,o=!0;break;case"shiftRight":case"shiftUp":c=!0,u+=1;break;case"shiftLeft":case"shiftDown":c=!0,u-=1;break;case"altRight":case"altUp":l=!0,u+=10;break;case"altLeft":case"altDown":l=!0,u-=10;break;case"ctrlShiftUp":this.up()}s=a.getDaysCount(new Date(u,h)),i=new Date(u,h,d),s<d&&(d=s),i.getTime()<this.minTime?i=this.minDate:i.getTime()>this.maxTime&&(i=this.maxDate),this.focused=i,e=a.getParsedDate(i),o&&r.onChangeMonth&&r.onChangeMonth(e.month,e.year),c&&r.onChangeYear&&r.onChangeYear(e.year),l&&r.onChangeDecade&&r.onChangeDecade(this.curDecade)},_registerKey:function(t){this.keys.some((function(e){return e==t}))||this.keys.push(t)},_unRegisterKey:function(t){var e=this.keys.indexOf(t);this.keys.splice(e,1)},_isHotKeyPressed:function(){var t,e=!1,i=this.keys.sort();for(var s in c)t=c[s],i.length==t.length&&t.every((function(t,e){return t==i[e]}))&&(this._trigger("hotKey",s),e=!0);return e},_trigger:function(t,e){this.$el.trigger(t,e)},_focusNextCell:function(t,e){e=e||this.cellType;var i=a.getParsedDate(this._getFocusedDate()),s=i.year,n=i.month,r=i.date;if(!this._isHotKeyPressed()){switch(t){case 37:"day"==e&&(r-=1),"month"==e&&(n-=1),"year"==e&&(s-=1);break;case 38:"day"==e&&(r-=7),"month"==e&&(n-=3),"year"==e&&(s-=4);break;case 39:"day"==e&&(r+=1),"month"==e&&(n+=1),"year"==e&&(s+=1);break;case 40:"day"==e&&(r+=7),"month"==e&&(n+=3),"year"==e&&(s+=4)}var o=new Date(s,n,r);o.getTime()<this.minTime?o=this.minDate:o.getTime()>this.maxTime&&(o=this.maxDate),this.focused=o}},_getFocusedDate:function(){var t=this.focused||this.selectedDates[this.selectedDates.length-1],e=this.parsedDate;if(!t)switch(this.view){case"days":t=new Date(e.year,e.month,(new Date).getDate());break;case"months":t=new Date(e.year,e.month,1);break;case"years":t=new Date(e.year,0,1)}return t},_getCell:function(t,i){i=i||this.cellType;var s,n=a.getParsedDate(t),r='.datepicker--cell[data-year="'+n.year+'"]';switch(i){case"month":r='[data-month="'+n.month+'"]';break;case"day":r+='[data-month="'+n.month+'"][data-date="'+n.date+'"]'}return(s=this.views[this.currentView].$el.find(r)).length?s:e("")},destroy:function(){this.$el.off(".adp").data("datepicker",""),this.selectedDates=[],this.focused="",this.views={},this.keys=[],this.minRange="",this.maxRange="",this.opts.inline||!this.elIsInput?this.$datepicker.closest(".datepicker-inline").remove():this.$datepicker.remove()},_handleAlreadySelectedDates:function(t,e){this.opts.range?this.opts.toggleSelected?this.removeDate(e):2!=this.selectedDates.length&&this._trigger("clickCell",e):this.opts.toggleSelected&&this.removeDate(e),this.opts.toggleSelected||(this.lastSelectedDate=t,this.opts.timepicker&&(this.timepicker._setTime(t),this.timepicker.update()))},_onShowEvent:function(t){this.visible||this.show()},_onBlur:function(){!this.inFocus&&this.visible&&this.hide()},_onMouseDownDatepicker:function(t){this.inFocus=!0},_onMouseUpDatepicker:function(t){this.inFocus=!1,t.originalEvent.inFocus=!0,t.originalEvent.timepickerFocus||this.$el.focus()},_onKeyUpGeneral:function(t){this.$el.val()||this.clear()},_onResize:function(){this.visible&&this.setPosition()},_onMouseUpBody:function(t){t.originalEvent.inFocus||this.visible&&!this.inFocus&&this.hide()},_onMouseUpEl:function(t){t.originalEvent.inFocus=!0,setTimeout(this._onKeyUpGeneral.bind(this),4)},_onKeyDown:function(t){var e=t.which;if(this._registerKey(e),e>=37&&e<=40&&(t.preventDefault(),this._focusNextCell(e)),13==e&&this.focused){if(this._getCell(this.focused).hasClass("-disabled-"))return;if(this.view!=this.opts.minView)this.down();else{var i=this._isSelected(this.focused,this.cellType);if(!i)return this.timepicker&&(this.focused.setHours(this.timepicker.hours),this.focused.setMinutes(this.timepicker.minutes)),void this.selectDate(this.focused);this._handleAlreadySelectedDates(i,this.focused)}}27==e&&this.hide()},_onKeyUp:function(t){var e=t.which;this._unRegisterKey(e)},_onHotKey:function(t,e){this._handleHotKey(e)},_onMouseEnterCell:function(t){var i=e(t.target).closest(".datepicker--cell"),s=this._getDateFromCell(i);this.silent=!0,this.focused&&(this.focused=""),i.addClass("-focus-"),this.focused=s,this.silent=!1,this.opts.range&&1==this.selectedDates.length&&(this.minRange=this.selectedDates[0],this.maxRange="",a.less(this.minRange,this.focused)&&(this.maxRange=this.minRange,this.minRange=""),this.views[this.currentView]._update())},_onMouseLeaveCell:function(t){e(t.target).closest(".datepicker--cell").removeClass("-focus-"),this.silent=!0,this.focused="",this.silent=!1},_onTimeChange:function(t,e,i){var s=new Date,n=!1;this.selectedDates.length&&(n=!0,s=this.lastSelectedDate),s.setHours(e),s.setMinutes(i),n||this._getCell(s).hasClass("-disabled-")?(this._setInputValue(),this.opts.onSelect&&this._triggerOnChange()):this.selectDate(s)},_onClickCell:function(t,e){this.timepicker&&(e.setHours(this.timepicker.hours),e.setMinutes(this.timepicker.minutes)),this.selectDate(e)},set focused(t){if(!t&&this.focused){var e=this._getCell(this.focused);e.length&&e.removeClass("-focus-")}this._focused=t,this.opts.range&&1==this.selectedDates.length&&(this.minRange=this.selectedDates[0],this.maxRange="",a.less(this.minRange,this._focused)&&(this.maxRange=this.minRange,this.minRange="")),this.silent||(this.date=t)},get focused(){return this._focused},get parsedDate(){return a.getParsedDate(this.date)},set date(t){if(t instanceof Date)return this.currentDate=t,this.inited&&!this.silent&&(this.views[this.view]._render(),this.nav._render(),this.visible&&this.elIsInput&&this.setPosition()),t},get date(){return this.currentDate},set view(t){if(this.viewIndex=this.viewIndexes.indexOf(t),!(this.viewIndex<0))return this.prevView=this.currentView,this.currentView=t,this.inited&&(this.views[t]?this.views[t]._render():this.views[t]=new e.fn.datepicker.Body(this,t,this.opts),this.views[this.prevView].hide(),this.views[t].show(),this.nav._render(),this.opts.onChangeView&&this.opts.onChangeView(t),this.elIsInput&&this.visible&&this.setPosition()),t},get view(){return this.currentView},get cellType(){return this.view.substring(0,this.view.length-1)},get minTime(){var t=a.getParsedDate(this.minDate);return new Date(t.year,t.month,t.date).getTime()},get maxTime(){var t=a.getParsedDate(this.maxDate);return new Date(t.year,t.month,t.date).getTime()},get curDecade(){return a.getDecade(this.date)}},a.getDaysCount=function(t){return new Date(t.getFullYear(),t.getMonth()+1,0).getDate()},a.getParsedDate=function(t){return{year:t.getFullYear(),month:t.getMonth(),fullMonth:t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,date:t.getDate(),fullDate:t.getDate()<10?"0"+t.getDate():t.getDate(),day:t.getDay(),hours:t.getHours(),fullHours:t.getHours()<10?"0"+t.getHours():t.getHours(),minutes:t.getMinutes(),fullMinutes:t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes()}},a.getDecade=function(t){var e=10*Math.floor(t.getFullYear()/10);return[e,e+9]},a.template=function(t,e){return t.replace(/#\{([\w]+)\}/g,(function(t,i){if(e[i]||0===e[i])return e[i]}))},a.isSame=function(t,e,i){if(!t||!e)return!1;var s=a.getParsedDate(t),n=a.getParsedDate(e),r=i||"day";return{day:s.date==n.date&&s.month==n.month&&s.year==n.year,month:s.month==n.month&&s.year==n.year,year:s.year==n.year}[r]},a.less=function(t,e,i){return!(!t||!e)&&e.getTime()<t.getTime()},a.bigger=function(t,e,i){return!(!t||!e)&&e.getTime()>t.getTime()},a.getLeadingZeroNum=function(t){return parseInt(t)<10?"0"+t:t},a.resetTime=function(t){if("object"==typeof t)return t=a.getParsedDate(t),new Date(t.year,t.month,t.date)},e.fn.datepicker=function(t){return this.each((function(){if(e.data(this,"datepicker")){var i=e.data(this,"datepicker");i.opts=e.extend(!0,i.opts,t),i.update()}else e.data(this,"datepicker",new l(this,t))}))},e.fn.datepicker.Constructor=l,e.fn.datepicker.language={ru:{days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],daysShort:["Вос","Пон","Вто","Сре","Чет","Пят","Суб"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",clear:"Очистить",dateFormat:"dd.mm.yyyy",timeFormat:"hh:ii",firstDay:1}},e((function(){e(".datepicker-here").datepicker()})),function(){var t={days:'<div class="datepicker--days datepicker--body"><div class="datepicker--days-names"></div><div class="datepicker--cells datepicker--cells-days"></div></div>',months:'<div class="datepicker--months datepicker--body"><div class="datepicker--cells datepicker--cells-months"></div></div>',years:'<div class="datepicker--years datepicker--body"><div class="datepicker--cells datepicker--cells-years"></div></div>'},i=e.fn.datepicker,s=i.Constructor;i.Body=function(t,i,s){this.d=t,this.type=i,this.opts=s,this.$el=e(""),this.opts.onlyTimepicker||this.init()},i.Body.prototype={init:function(){this._buildBaseHtml(),this._render(),this._bindEvents()},_bindEvents:function(){this.$el.on("click",".datepicker--cell",e.proxy(this._onClickCell,this))},_buildBaseHtml:function(){this.$el=e(t[this.type]).appendTo(this.d.$content),this.$names=e(".datepicker--days-names",this.$el),this.$cells=e(".datepicker--cells",this.$el)},_getDayNamesHtml:function(t,e,i,s){return i=i||"",(s=null!=s?s:0)>7?i:7==(e=null!=e?e:t)?this._getDayNamesHtml(t,0,i,++s):(i+='<div class="datepicker--day-name'+(this.d.isWeekend(e)?" -weekend-":"")+'">'+this.d.loc.daysMin[e]+"</div>",this._getDayNamesHtml(t,++e,i,++s))},_getCellContents:function(t,e){var i="datepicker--cell datepicker--cell-"+e,n=new Date,a=this.d,r=s.resetTime(a.minRange),o=s.resetTime(a.maxRange),c=a.opts,l=s.getParsedDate(t),u={},h=l.date;switch(e){case"day":a.isWeekend(l.day)&&(i+=" -weekend-"),l.month!=this.d.parsedDate.month&&(i+=" -other-month-",c.selectOtherMonths||(i+=" -disabled-"),c.showOtherMonths||(h=""));break;case"month":h=a.loc[a.opts.monthsField][l.month];break;case"year":var d=a.curDecade;h=l.year,(l.year<d[0]||l.year>d[1])&&(i+=" -other-decade-",c.selectOtherYears||(i+=" -disabled-"),c.showOtherYears||(h=""))}return c.onRenderCell&&(h=(u=c.onRenderCell(t,e)||{}).html?u.html:h,i+=u.classes?" "+u.classes:""),c.range&&(s.isSame(r,t,e)&&(i+=" -range-from-"),s.isSame(o,t,e)&&(i+=" -range-to-"),1==a.selectedDates.length&&a.focused?((s.bigger(r,t)&&s.less(a.focused,t)||s.less(o,t)&&s.bigger(a.focused,t))&&(i+=" -in-range-"),s.less(o,t)&&s.isSame(a.focused,t)&&(i+=" -range-from-"),s.bigger(r,t)&&s.isSame(a.focused,t)&&(i+=" -range-to-")):2==a.selectedDates.length&&s.bigger(r,t)&&s.less(o,t)&&(i+=" -in-range-")),s.isSame(n,t,e)&&(i+=" -current-"),a.focused&&s.isSame(t,a.focused,e)&&(i+=" -focus-"),a._isSelected(t,e)&&(i+=" -selected-"),a._isInRange(t,e)&&!u.disabled||(i+=" -disabled-"),{html:h,classes:i}},_getDaysHtml:function(t){for(var e,i,n=s.getDaysCount(t),a=new Date(t.getFullYear(),t.getMonth(),1).getDay(),r=new Date(t.getFullYear(),t.getMonth(),n).getDay(),o=a-this.d.loc.firstDay,c=6-r+this.d.loc.firstDay,l="",u=1-(o=o<0?o+7:o),h=n+(c=c>6?c-7:c);u<=h;u++)i=t.getFullYear(),e=t.getMonth(),l+=this._getDayHtml(new Date(i,e,u));return l},_getDayHtml:function(t){var e=this._getCellContents(t,"day");return'<div class="'+e.classes+'" data-date="'+t.getDate()+'" data-month="'+t.getMonth()+'" data-year="'+t.getFullYear()+'">'+e.html+"</div>"},_getMonthsHtml:function(t){for(var e="",i=s.getParsedDate(t),n=0;n<12;)e+=this._getMonthHtml(new Date(i.year,n)),n++;return e},_getMonthHtml:function(t){var e=this._getCellContents(t,"month");return'<div class="'+e.classes+'" data-month="'+t.getMonth()+'">'+e.html+"</div>"},_getYearsHtml:function(t){s.getParsedDate(t);for(var e=s.getDecade(t),i="",n=e[0]-1;n<=e[1]+1;n++)i+=this._getYearHtml(new Date(n,0));return i},_getYearHtml:function(t){var e=this._getCellContents(t,"year");return'<div class="'+e.classes+'" data-year="'+t.getFullYear()+'">'+e.html+"</div>"},_renderTypes:{days:function(){var t=this._getDayNamesHtml(this.d.loc.firstDay),e=this._getDaysHtml(this.d.currentDate);this.$cells.html(e),this.$names.html(t)},months:function(){var t=this._getMonthsHtml(this.d.currentDate);this.$cells.html(t)},years:function(){var t=this._getYearsHtml(this.d.currentDate);this.$cells.html(t)}},_render:function(){this.opts.onlyTimepicker||this._renderTypes[this.type].bind(this)()},_update:function(){var t,i,s,n=e(".datepicker--cell",this.$cells),a=this;n.each((function(n,r){i=e(this),s=a.d._getDateFromCell(e(this)),t=a._getCellContents(s,a.d.cellType),i.attr("class",t.classes)}))},show:function(){this.opts.onlyTimepicker||(this.$el.addClass("active"),this.acitve=!0)},hide:function(){this.$el.removeClass("active"),this.active=!1},_handleClick:function(t){var e=t.data("date")||1,i=t.data("month")||0,s=t.data("year")||this.d.parsedDate.year,n=this.d;if(n.view==this.opts.minView){var a=new Date(s,i,e),r=this.d._isSelected(a,this.d.cellType);r?n._handleAlreadySelectedDates.bind(n,r,a)():n._trigger("clickCell",a)}else n.down(new Date(s,i,e))},_onClickCell:function(t){var i=e(t.target).closest(".datepicker--cell");i.hasClass("-disabled-")||this._handleClick.bind(this)(i)}}}(),function(){var t=e.fn.datepicker,i=t.Constructor;t.Navigation=function(t,e){this.d=t,this.opts=e,this.$buttonsContainer="",this.init()},t.Navigation.prototype={init:function(){this._buildBaseHtml(),this._bindEvents()},_bindEvents:function(){this.d.$nav.on("click",".datepicker--nav-action",e.proxy(this._onClickNavButton,this)),this.d.$nav.on("click",".datepicker--nav-title",e.proxy(this._onClickNavTitle,this)),this.d.$datepicker.on("click",".datepicker--button",e.proxy(this._onClickNavButton,this))},_buildBaseHtml:function(){this.opts.onlyTimepicker||this._render(),this._addButtonsIfNeed()},_addButtonsIfNeed:function(){this.opts.todayButton&&this._addButton("today"),this.opts.clearButton&&this._addButton("clear")},_render:function(){var t=this._getTitle(this.d.currentDate),s=i.template('<div class="datepicker--nav-action" data-action="prev">#{prevHtml}</div><div class="datepicker--nav-title">#{title}</div><div class="datepicker--nav-action" data-action="next">#{nextHtml}</div>',e.extend({title:t},this.opts));this.d.$nav.html(s),"years"==this.d.view&&e(".datepicker--nav-title",this.d.$nav).addClass("-disabled-"),this.setNavStatus()},_getTitle:function(t){return this.d.formatDate(this.opts.navTitles[this.d.view],t)},_addButton:function(t){this.$buttonsContainer.length||this._addButtonsContainer();var s={action:t,label:this.d.loc[t]},n=i.template('<span class="datepicker--button" data-action="#{action}">#{label}</span>',s);e("[data-action="+t+"]",this.$buttonsContainer).length||this.$buttonsContainer.append(n)},_addButtonsContainer:function(){this.d.$datepicker.append('<div class="datepicker--buttons"></div>'),this.$buttonsContainer=e(".datepicker--buttons",this.d.$datepicker)},setNavStatus:function(){if((this.opts.minDate||this.opts.maxDate)&&this.opts.disableNavWhenOutOfRange){var t=this.d.parsedDate,e=t.month,s=t.year,n=t.date;switch(this.d.view){case"days":this.d._isInRange(new Date(s,e-1,1),"month")||this._disableNav("prev"),this.d._isInRange(new Date(s,e+1,1),"month")||this._disableNav("next");break;case"months":this.d._isInRange(new Date(s-1,e,n),"year")||this._disableNav("prev"),this.d._isInRange(new Date(s+1,e,n),"year")||this._disableNav("next");break;case"years":var a=i.getDecade(this.d.date);this.d._isInRange(new Date(a[0]-1,0,1),"year")||this._disableNav("prev"),this.d._isInRange(new Date(a[1]+1,0,1),"year")||this._disableNav("next")}}},_disableNav:function(t){e('[data-action="'+t+'"]',this.d.$nav).addClass("-disabled-")},_activateNav:function(t){e('[data-action="'+t+'"]',this.d.$nav).removeClass("-disabled-")},_onClickNavButton:function(t){var i=e(t.target).closest("[data-action]").data("action");this.d[i]()},_onClickNavTitle:function(t){if(!e(t.target).hasClass("-disabled-"))return"days"==this.d.view?this.d.view="months":void(this.d.view="years")}}}(),function(){var t=e.fn.datepicker,i=t.Constructor;t.Timepicker=function(t,e){this.d=t,this.opts=e,this.init()},t.Timepicker.prototype={init:function(){var t="input";this._setTime(this.d.date),this._buildHTML(),navigator.userAgent.match(/trident/gi)&&(t="change"),this.d.$el.on("selectDate",this._onSelectDate.bind(this)),this.$ranges.on(t,this._onChangeRange.bind(this)),this.$ranges.on("mouseup",this._onMouseUpRange.bind(this)),this.$ranges.on("mousemove focus ",this._onMouseEnterRange.bind(this)),this.$ranges.on("mouseout blur",this._onMouseOutRange.bind(this))},_setTime:function(t){var e=i.getParsedDate(t);this._handleDate(t),this.hours=e.hours<this.minHours?this.minHours:e.hours,this.minutes=e.minutes<this.minMinutes?this.minMinutes:e.minutes},_setMinTimeFromDate:function(t){this.minHours=t.getHours(),this.minMinutes=t.getMinutes(),this.d.lastSelectedDate&&this.d.lastSelectedDate.getHours()>t.getHours()&&(this.minMinutes=this.opts.minMinutes)},_setMaxTimeFromDate:function(t){this.maxHours=t.getHours(),this.maxMinutes=t.getMinutes(),this.d.lastSelectedDate&&this.d.lastSelectedDate.getHours()<t.getHours()&&(this.maxMinutes=this.opts.maxMinutes)},_setDefaultMinMaxTime:function(){var t=this.opts;this.minHours=t.minHours<0||t.minHours>23?0:t.minHours,this.minMinutes=t.minMinutes<0||t.minMinutes>59?0:t.minMinutes,this.maxHours=t.maxHours<0||t.maxHours>23?23:t.maxHours,this.maxMinutes=t.maxMinutes<0||t.maxMinutes>59?59:t.maxMinutes},_validateHoursMinutes:function(t){this.hours<this.minHours?this.hours=this.minHours:this.hours>this.maxHours&&(this.hours=this.maxHours),this.minutes<this.minMinutes?this.minutes=this.minMinutes:this.minutes>this.maxMinutes&&(this.minutes=this.maxMinutes)},_buildHTML:function(){var t=i.getLeadingZeroNum,s={hourMin:this.minHours,hourMax:t(this.maxHours),hourStep:this.opts.hoursStep,hourValue:this.hours,hourVisible:t(this.displayHours),minMin:this.minMinutes,minMax:t(this.maxMinutes),minStep:this.opts.minutesStep,minValue:t(this.minutes)},n=i.template('<div class="datepicker--time"><div class="datepicker--time-current">   <span class="datepicker--time-current-hours">#{hourVisible}</span>   <span class="datepicker--time-current-colon">:</span>   <span class="datepicker--time-current-minutes">#{minValue}</span></div><div class="datepicker--time-sliders">   <div class="datepicker--time-row">      <input type="range" name="hours" value="#{hourValue}" min="#{hourMin}" max="#{hourMax}" step="#{hourStep}"/>   </div>   <div class="datepicker--time-row">      <input type="range" name="minutes" value="#{minValue}" min="#{minMin}" max="#{minMax}" step="#{minStep}"/>   </div></div></div>',s);this.$timepicker=e(n).appendTo(this.d.$datepicker),this.$ranges=e('[type="range"]',this.$timepicker),this.$hours=e('[name="hours"]',this.$timepicker),this.$minutes=e('[name="minutes"]',this.$timepicker),this.$hoursText=e(".datepicker--time-current-hours",this.$timepicker),this.$minutesText=e(".datepicker--time-current-minutes",this.$timepicker),this.d.ampm&&(this.$ampm=e('<span class="datepicker--time-current-ampm">').appendTo(e(".datepicker--time-current",this.$timepicker)).html(this.dayPeriod),this.$timepicker.addClass("-am-pm-"))},_updateCurrentTime:function(){var t=i.getLeadingZeroNum(this.displayHours),e=i.getLeadingZeroNum(this.minutes);this.$hoursText.html(t),this.$minutesText.html(e),this.d.ampm&&this.$ampm.html(this.dayPeriod)},_updateRanges:function(){this.$hours.attr({min:this.minHours,max:this.maxHours}).val(this.hours),this.$minutes.attr({min:this.minMinutes,max:this.maxMinutes}).val(this.minutes)},_handleDate:function(t){this._setDefaultMinMaxTime(),t&&(i.isSame(t,this.d.opts.minDate)?this._setMinTimeFromDate(this.d.opts.minDate):i.isSame(t,this.d.opts.maxDate)&&this._setMaxTimeFromDate(this.d.opts.maxDate)),this._validateHoursMinutes(t)},update:function(){this._updateRanges(),this._updateCurrentTime()},_getValidHoursFromDate:function(t,e){var s=t;t instanceof Date&&(s=i.getParsedDate(t).hours);var n="am";if(e||this.d.ampm)switch(!0){case 0==s:s=12;break;case 12==s:n="pm";break;case s>11:s-=12,n="pm"}return{hours:s,dayPeriod:n}},set hours(t){this._hours=t;var e=this._getValidHoursFromDate(t);this.displayHours=e.hours,this.dayPeriod=e.dayPeriod},get hours(){return this._hours},_onChangeRange:function(t){var i=e(t.target),s=i.attr("name");this.d.timepickerIsActive=!0,this[s]=i.val(),this._updateCurrentTime(),this.d._trigger("timeChange",[this.hours,this.minutes]),this._handleDate(this.d.lastSelectedDate),this.update()},_onSelectDate:function(t,e){this._handleDate(e),this.update()},_onMouseEnterRange:function(t){var i=e(t.target).attr("name");e(".datepicker--time-current-"+i,this.$timepicker).addClass("-focus-")},_onMouseOutRange:function(t){var i=e(t.target).attr("name");this.d.inFocus||e(".datepicker--time-current-"+i,this.$timepicker).removeClass("-focus-")},_onMouseUpRange:function(t){this.d.timepickerIsActive=!1}}}()}(window,jQuery)},function(t,e,i){var s,n,a;/*! nouislider - 14.5.0 - 5/11/2020 */n=[],void 0===(a="function"==typeof(s=function(){"use strict";var t="14.5.0";function e(t){t.parentElement.removeChild(t)}function i(t){return null!=t}function s(t){t.preventDefault()}function n(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function a(t,e,i){i>0&&(l(t,e),setTimeout((function(){u(t,e)}),i))}function r(t){return Math.max(Math.min(t,100),0)}function o(t){return Array.isArray(t)?t:[t]}function c(t){var e=(t=String(t)).split(".");return e.length>1?e[1].length:0}function l(t,e){t.classList&&!/\s/.test(e)?t.classList.add(e):t.className+=" "+e}function u(t,e){t.classList&&!/\s/.test(e)?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function h(t){var e=void 0!==window.pageXOffset,i="CSS1Compat"===(t.compatMode||"");return{x:e?window.pageXOffset:i?t.documentElement.scrollLeft:t.body.scrollLeft,y:e?window.pageYOffset:i?t.documentElement.scrollTop:t.body.scrollTop}}function d(t,e){return 100/(e-t)}function p(t,e,i){return 100*e/(t[i+1]-t[i])}function m(t,e){for(var i=1;t>=e[i];)i+=1;return i}function f(t,e,i){if(i>=t.slice(-1)[0])return 100;var s=m(i,t),n=t[s-1],a=t[s],r=e[s-1],o=e[s];return r+function(t,e){return p(t,t[0]<0?e+Math.abs(t[0]):e-t[0],0)}([n,a],i)/d(r,o)}function g(t,e,i,s){if(100===s)return s;var n=m(s,t),a=t[n-1],r=t[n];return i?s-a>(r-a)/2?r:a:e[n-1]?t[n-1]+function(t,e){return Math.round(t/e)*e}(s-t[n-1],e[n-1]):s}function v(t,e,i){var s;if("number"==typeof e&&(e=[e]),!Array.isArray(e))throw new Error("noUiSlider (14.5.0): 'range' contains invalid value.");if(!n(s="min"===t?0:"max"===t?100:parseFloat(t))||!n(e[0]))throw new Error("noUiSlider (14.5.0): 'range' value isn't numeric.");i.xPct.push(s),i.xVal.push(e[0]),s?i.xSteps.push(!isNaN(e[1])&&e[1]):isNaN(e[1])||(i.xSteps[0]=e[1]),i.xHighestCompleteStep.push(0)}function y(t,e,i){if(e)if(i.xVal[t]!==i.xVal[t+1]){i.xSteps[t]=p([i.xVal[t],i.xVal[t+1]],e,0)/d(i.xPct[t],i.xPct[t+1]);var s=(i.xVal[t+1]-i.xVal[t])/i.xNumSteps[t],n=Math.ceil(Number(s.toFixed(3))-1),a=i.xVal[t]+i.xNumSteps[t]*n;i.xHighestCompleteStep[t]=a}else i.xSteps[t]=i.xHighestCompleteStep[t]=i.xVal[t]}function b(t,e,i){var s;this.xPct=[],this.xVal=[],this.xSteps=[i||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=e;var n=[];for(s in t)t.hasOwnProperty(s)&&n.push([t[s],s]);for(n.length&&"object"==typeof n[0][0]?n.sort((function(t,e){return t[0][0]-e[0][0]})):n.sort((function(t,e){return t[0]-e[0]})),s=0;s<n.length;s++)v(n[s][1],n[s][0],this);for(this.xNumSteps=this.xSteps.slice(0),s=0;s<this.xNumSteps.length;s++)y(s,this.xNumSteps[s],this)}b.prototype.getDistance=function(t){var e,i=[];for(e=0;e<this.xNumSteps.length-1;e++){var s=this.xNumSteps[e];if(s&&t/s%1!=0)throw new Error("noUiSlider (14.5.0): 'limit', 'margin' and 'padding' of "+this.xPct[e]+"% range must be divisible by step.");i[e]=p(this.xVal,t,e)}return i},b.prototype.getAbsoluteDistance=function(t,e,i){var s,n=0;if(t<this.xPct[this.xPct.length-1])for(;t>this.xPct[n+1];)n++;else t===this.xPct[this.xPct.length-1]&&(n=this.xPct.length-2);i||t!==this.xPct[n+1]||n++;var a=1,r=e[n],o=0,c=0,l=0,u=0;for(s=i?(t-this.xPct[n])/(this.xPct[n+1]-this.xPct[n]):(this.xPct[n+1]-t)/(this.xPct[n+1]-this.xPct[n]);r>0;)o=this.xPct[n+1+u]-this.xPct[n+u],e[n+u]*a+100-100*s>100?(c=o*s,a=(r-100*s)/e[n+u],s=1):(c=e[n+u]*o/100*a,a=0),i?(l-=c,this.xPct.length+u>=1&&u--):(l+=c,this.xPct.length-u>=1&&u++),r=e[n+u]*a;return t+l},b.prototype.toStepping=function(t){return t=f(this.xVal,this.xPct,t)},b.prototype.fromStepping=function(t){return function(t,e,i){if(i>=100)return t.slice(-1)[0];var s=m(i,e),n=t[s-1],a=t[s],r=e[s-1];return function(t,e){return e*(t[1]-t[0])/100+t[0]}([n,a],(i-r)*d(r,e[s]))}(this.xVal,this.xPct,t)},b.prototype.getStep=function(t){return t=g(this.xPct,this.xSteps,this.snap,t)},b.prototype.getDefaultStep=function(t,e,i){var s=m(t,this.xPct);return(100===t||e&&t===this.xPct[s-1])&&(s=Math.max(s-1,1)),(this.xVal[s]-this.xVal[s-1])/i},b.prototype.getNearbySteps=function(t){var e=m(t,this.xPct);return{stepBefore:{startValue:this.xVal[e-2],step:this.xNumSteps[e-2],highestStep:this.xHighestCompleteStep[e-2]},thisStep:{startValue:this.xVal[e-1],step:this.xNumSteps[e-1],highestStep:this.xHighestCompleteStep[e-1]},stepAfter:{startValue:this.xVal[e],step:this.xNumSteps[e],highestStep:this.xHighestCompleteStep[e]}}},b.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(c);return Math.max.apply(null,t)},b.prototype.convert=function(t){return this.getStep(this.toStepping(t))};var k={to:function(t){return void 0!==t&&t.toFixed(2)},from:Number},_={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"};function w(t){if(function(t){return"object"==typeof t&&"function"==typeof t.to&&"function"==typeof t.from}(t))return!0;throw new Error("noUiSlider (14.5.0): 'format' requires 'to' and 'from' methods.")}function D(t,e){if(!n(e))throw new Error("noUiSlider (14.5.0): 'step' is not numeric.");t.singleStep=e}function x(t,e){if("object"!=typeof e||Array.isArray(e))throw new Error("noUiSlider (14.5.0): 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw new Error("noUiSlider (14.5.0): Missing 'min' or 'max' in 'range'.");if(e.min===e.max)throw new Error("noUiSlider (14.5.0): 'range' 'min' and 'max' cannot be equal.");t.spectrum=new b(e,t.snap,t.singleStep)}function S(t,e){if(e=o(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider (14.5.0): 'start' option is incorrect.");t.handles=e.length,t.start=e}function C(t,e){if(t.snap=e,"boolean"!=typeof e)throw new Error("noUiSlider (14.5.0): 'snap' option must be a boolean.")}function M(t,e){if(t.animate=e,"boolean"!=typeof e)throw new Error("noUiSlider (14.5.0): 'animate' option must be a boolean.")}function E(t,e){if(t.animationDuration=e,"number"!=typeof e)throw new Error("noUiSlider (14.5.0): 'animationDuration' option must be a number.")}function $(t,e){var i,s=[!1];if("lower"===e?e=[!0,!1]:"upper"===e&&(e=[!1,!0]),!0===e||!1===e){for(i=1;i<t.handles;i++)s.push(e);s.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==t.handles+1)throw new Error("noUiSlider (14.5.0): 'connect' option doesn't match handle count.");s=e}t.connect=s}function N(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider (14.5.0): 'orientation' option is invalid.")}}function T(t,e){if(!n(e))throw new Error("noUiSlider (14.5.0): 'margin' option must be numeric.");0!==e&&(t.margin=t.spectrum.getDistance(e))}function H(t,e){if(!n(e))throw new Error("noUiSlider (14.5.0): 'limit' option must be numeric.");if(t.limit=t.spectrum.getDistance(e),!t.limit||t.handles<2)throw new Error("noUiSlider (14.5.0): 'limit' option is only supported on linear sliders with 2 or more handles.")}function j(t,e){var i;if(!n(e)&&!Array.isArray(e))throw new Error("noUiSlider (14.5.0): 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(e)&&2!==e.length&&!n(e[0])&&!n(e[1]))throw new Error("noUiSlider (14.5.0): 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==e){for(Array.isArray(e)||(e=[e,e]),t.padding=[t.spectrum.getDistance(e[0]),t.spectrum.getDistance(e[1])],i=0;i<t.spectrum.xNumSteps.length-1;i++)if(t.padding[0][i]<0||t.padding[1][i]<0)throw new Error("noUiSlider (14.5.0): 'padding' option must be a positive number(s).");var s=e[0]+e[1],a=t.spectrum.xVal[0];if(s/(t.spectrum.xVal[t.spectrum.xVal.length-1]-a)>1)throw new Error("noUiSlider (14.5.0): 'padding' option must not exceed 100% of the range.")}}function P(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1;break;default:throw new Error("noUiSlider (14.5.0): 'direction' option was not recognized.")}}function R(t,e){if("string"!=typeof e)throw new Error("noUiSlider (14.5.0): 'behaviour' must be a string containing options.");var i=e.indexOf("tap")>=0,s=e.indexOf("drag")>=0,n=e.indexOf("fixed")>=0,a=e.indexOf("snap")>=0,r=e.indexOf("hover")>=0,o=e.indexOf("unconstrained")>=0;if(n){if(2!==t.handles)throw new Error("noUiSlider (14.5.0): 'fixed' behaviour must be used with 2 handles");T(t,t.start[1]-t.start[0])}if(o&&(t.margin||t.limit))throw new Error("noUiSlider (14.5.0): 'unconstrained' behaviour cannot be used with margin or limit");t.events={tap:i||a,drag:s,fixed:n,snap:a,hover:r,unconstrained:o}}function V(t,e){if(!1!==e)if(!0===e){t.tooltips=[];for(var i=0;i<t.handles;i++)t.tooltips.push(!0)}else{if(t.tooltips=o(e),t.tooltips.length!==t.handles)throw new Error("noUiSlider (14.5.0): must pass a formatter for all handles.");t.tooltips.forEach((function(t){if("boolean"!=typeof t&&("object"!=typeof t||"function"!=typeof t.to))throw new Error("noUiSlider (14.5.0): 'tooltips' must be passed a formatter or 'false'.")}))}}function F(t,e){t.ariaFormat=e,w(e)}function L(t,e){t.format=e,w(e)}function O(t,e){if(t.keyboardSupport=e,"boolean"!=typeof e)throw new Error("noUiSlider (14.5.0): 'keyboardSupport' option must be a boolean.")}function A(t,e){t.documentElement=e}function U(t,e){if("string"!=typeof e&&!1!==e)throw new Error("noUiSlider (14.5.0): 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function B(t,e){if("object"!=typeof e)throw new Error("noUiSlider (14.5.0): 'cssClasses' must be an object.");if("string"==typeof t.cssPrefix)for(var i in t.cssClasses={},e)e.hasOwnProperty(i)&&(t.cssClasses[i]=t.cssPrefix+e[i]);else t.cssClasses=e}function I(t){var e={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:k,format:k},s={step:{r:!1,t:D},start:{r:!0,t:S},connect:{r:!0,t:$},direction:{r:!0,t:P},snap:{r:!1,t:C},animate:{r:!1,t:M},animationDuration:{r:!1,t:E},range:{r:!0,t:x},orientation:{r:!1,t:N},margin:{r:!1,t:T},limit:{r:!1,t:H},padding:{r:!1,t:j},behaviour:{r:!0,t:R},ariaFormat:{r:!1,t:F},format:{r:!1,t:L},tooltips:{r:!1,t:V},keyboardSupport:{r:!0,t:O},documentElement:{r:!1,t:A},cssPrefix:{r:!0,t:U},cssClasses:{r:!0,t:B}},n={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:_};t.format&&!t.ariaFormat&&(t.ariaFormat=t.format),Object.keys(s).forEach((function(a){if(!i(t[a])&&void 0===n[a]){if(s[a].r)throw new Error("noUiSlider (14.5.0): '"+a+"' is required.");return!0}s[a].t(e,i(t[a])?t[a]:n[a])})),e.pips=t.pips;var a=document.createElement("div"),r=void 0!==a.style.msTransform,o=void 0!==a.style.transform;return e.transformRule=o?"transform":r?"msTransform":"webkitTransform",e.style=[["left","top"],["right","bottom"]][e.dir][e.ort],e}function q(t,i,n){var c,d,p,m,f,g,v,y,b=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},k=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),_=t,w=i.spectrum,D=[],x=[],S=[],C=0,M={},E=t.ownerDocument,$=i.documentElement||E.documentElement,N=E.body,T="rtl"===E.dir||1===i.ort?0:100;function H(t,e){var i=E.createElement("div");return e&&l(i,e),t.appendChild(i),i}function j(t,e){var s=H(t,i.cssClasses.origin),n=H(s,i.cssClasses.handle);return H(n,i.cssClasses.touchArea),n.setAttribute("data-handle",e),i.keyboardSupport&&(n.setAttribute("tabindex","0"),n.addEventListener("keydown",(function(t){return function(t,e){if(V()||F(e))return!1;var s=["Left","Right"],n=["Down","Up"],a=["PageDown","PageUp"],r=["Home","End"];i.dir&&!i.ort?s.reverse():i.ort&&!i.dir&&(n.reverse(),a.reverse());var o,c=t.key.replace("Arrow",""),l=c===a[0],u=c===a[1],h=c===n[0]||c===s[0]||l,d=c===n[1]||c===s[1]||u,p=c===r[0],m=c===r[1];if(!(h||d||p||m))return!0;if(t.preventDefault(),d||h){var f=h?0:1,g=dt(e)[f];if(null===g)return!1;!1===g&&(g=w.getDefaultStep(x[e],h,10)),(u||l)&&(g*=5),g=Math.max(g,1e-7),g*=h?-1:1,o=D[e]+g}else o=m?i.spectrum.xVal[i.spectrum.xVal.length-1]:i.spectrum.xVal[0];return ot(e,w.toStepping(o),!0,!0),et("slide",e),et("update",e),et("change",e),et("set",e),!1}(t,e)}))),n.setAttribute("role","slider"),n.setAttribute("aria-orientation",i.ort?"vertical":"horizontal"),0===e?l(n,i.cssClasses.handleLower):e===i.handles-1&&l(n,i.cssClasses.handleUpper),s}function P(t,e){return!!e&&H(t,i.cssClasses.connect)}function R(t,e){return!!i.tooltips[e]&&H(t.firstChild,i.cssClasses.tooltip)}function V(){return _.hasAttribute("disabled")}function F(t){return d[t].hasAttribute("disabled")}function L(){f&&(tt("update.tooltips"),f.forEach((function(t){t&&e(t)})),f=null)}function O(){L(),f=d.map(R),J("update.tooltips",(function(t,e,s){if(f[e]){var n=t[e];!0!==i.tooltips[e]&&(n=i.tooltips[e].to(s[e])),f[e].innerHTML=n}}))}function A(t,e,s){var n=E.createElement("div"),a=[];a[0]=i.cssClasses.valueNormal,a[1]=i.cssClasses.valueLarge,a[2]=i.cssClasses.valueSub;var r=[];r[0]=i.cssClasses.markerNormal,r[1]=i.cssClasses.markerLarge,r[2]=i.cssClasses.markerSub;var o=[i.cssClasses.valueHorizontal,i.cssClasses.valueVertical],c=[i.cssClasses.markerHorizontal,i.cssClasses.markerVertical];function u(t,e){var s=e===i.cssClasses.value,n=s?a:r;return e+" "+(s?o:c)[i.ort]+" "+n[t]}return l(n,i.cssClasses.pips),l(n,0===i.ort?i.cssClasses.pipsHorizontal:i.cssClasses.pipsVertical),Object.keys(t).forEach((function(a){!function(t,a,r){if(-1!==(r=e?e(a,r):r)){var o=H(n,!1);o.className=u(r,i.cssClasses.marker),o.style[i.style]=t+"%",r>0&&((o=H(n,!1)).className=u(r,i.cssClasses.value),o.setAttribute("data-value",a),o.style[i.style]=t+"%",o.innerHTML=s.to(a))}}(a,t[a][0],t[a][1])})),n}function U(){m&&(e(m),m=null)}function B(t){U();var e=t.mode,i=t.density||1,s=t.filter||!1,n=function(t,e,i){if("range"===t||"steps"===t)return w.xVal;if("count"===t){if(e<2)throw new Error("noUiSlider (14.5.0): 'values' (>= 2) required for mode 'count'.");var s=e-1,n=100/s;for(e=[];s--;)e[s]=s*n;e.push(100),t="positions"}return"positions"===t?e.map((function(t){return w.fromStepping(i?w.getStep(t):t)})):"values"===t?i?e.map((function(t){return w.fromStepping(w.getStep(w.toStepping(t)))})):e:void 0}(e,t.values||!1,t.stepped||!1),a=function(t,e,i){var s,n={},a=w.xVal[0],r=w.xVal[w.xVal.length-1],o=!1,c=!1,l=0;return s=i.slice().sort((function(t,e){return t-e})),(i=s.filter((function(t){return!this[t]&&(this[t]=!0)}),{}))[0]!==a&&(i.unshift(a),o=!0),i[i.length-1]!==r&&(i.push(r),c=!0),i.forEach((function(s,a){var r,u,h,d,p,m,f,g,v,y,b=s,k=i[a+1],_="steps"===e;if(_&&(r=w.xNumSteps[a]),r||(r=k-b),!1!==b&&void 0!==k)for(r=Math.max(r,1e-7),u=b;u<=k;u=(u+r).toFixed(7)/1){for(g=(p=(d=w.toStepping(u))-l)/t,y=p/(v=Math.round(g)),h=1;h<=v;h+=1)n[(m=l+h*y).toFixed(5)]=[w.fromStepping(m),0];f=i.indexOf(u)>-1?1:_?2:0,!a&&o&&u!==k&&(f=0),u===k&&c||(n[d.toFixed(5)]=[u,f]),l=d}})),n}(i,e,n),r=t.format||{to:Math.round};return m=_.appendChild(A(a,s,r))}function q(){var t=c.getBoundingClientRect(),e="offset"+["Width","Height"][i.ort];return 0===i.ort?t.width||c[e]:t.height||c[e]}function Y(t,e,s,n){var a=function(a){return!!(a=function(t,e,i){var s,n,a=0===t.type.indexOf("touch"),r=0===t.type.indexOf("mouse"),o=0===t.type.indexOf("pointer");if(0===t.type.indexOf("MSPointer")&&(o=!0),a){var c=function(t){return t.target===i||i.contains(t.target)||t.target.shadowRoot&&t.target.shadowRoot.contains(i)};if("touchstart"===t.type){var l=Array.prototype.filter.call(t.touches,c);if(l.length>1)return!1;s=l[0].pageX,n=l[0].pageY}else{var u=Array.prototype.find.call(t.changedTouches,c);if(!u)return!1;s=u.pageX,n=u.pageY}}return e=e||h(E),(r||o)&&(s=t.clientX+e.x,n=t.clientY+e.y),t.pageOffset=e,t.points=[s,n],t.cursor=r||o,t}(a,n.pageOffset,n.target||e))&&!(V()&&!n.doNotReject)&&(r=_,o=i.cssClasses.tap,!((r.classList?r.classList.contains(o):new RegExp("\\b"+o+"\\b").test(r.className))&&!n.doNotReject)&&!(t===b.start&&void 0!==a.buttons&&a.buttons>1)&&(!n.hover||!a.buttons)&&(k||a.preventDefault(),a.calcPoint=a.points[i.ort],void s(a,n)));var r,o},r=[];return t.split(" ").forEach((function(t){e.addEventListener(t,a,!!k&&{passive:!0}),r.push([t,a])})),r}function z(t){var e,s,n,a,o,l,u=100*(t-(e=c,s=i.ort,n=e.getBoundingClientRect(),a=e.ownerDocument,o=a.documentElement,l=h(a),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(l.x=0),s?n.top+l.y-o.clientTop:n.left+l.x-o.clientLeft))/q();return u=r(u),i.dir?100-u:u}function K(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&Q(t,e)}function W(t,e){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==e.buttonsProperty)return Q(t,e);var s=(i.dir?-1:1)*(t.calcPoint-e.startCalcPoint);nt(s>0,100*s/e.baseSize,e.locations,e.handleNumbers)}function Q(t,e){e.handle&&(u(e.handle,i.cssClasses.active),C-=1),e.listeners.forEach((function(t){$.removeEventListener(t[0],t[1])})),0===C&&(u(_,i.cssClasses.drag),rt(),t.cursor&&(N.style.cursor="",N.removeEventListener("selectstart",s))),e.handleNumbers.forEach((function(t){et("change",t),et("set",t),et("end",t)}))}function X(t,e){if(e.handleNumbers.some(F))return!1;var n;1===e.handleNumbers.length&&(n=d[e.handleNumbers[0]].children[0],C+=1,l(n,i.cssClasses.active)),t.stopPropagation();var a=[],r=Y(b.move,$,W,{target:t.target,handle:n,listeners:a,startCalcPoint:t.calcPoint,baseSize:q(),pageOffset:t.pageOffset,handleNumbers:e.handleNumbers,buttonsProperty:t.buttons,locations:x.slice()}),o=Y(b.end,$,Q,{target:t.target,handle:n,listeners:a,doNotReject:!0,handleNumbers:e.handleNumbers}),c=Y("mouseout",$,K,{target:t.target,handle:n,listeners:a,doNotReject:!0,handleNumbers:e.handleNumbers});a.push.apply(a,r.concat(o,c)),t.cursor&&(N.style.cursor=getComputedStyle(t.target).cursor,d.length>1&&l(_,i.cssClasses.drag),N.addEventListener("selectstart",s,!1)),e.handleNumbers.forEach((function(t){et("start",t)}))}function Z(t){t.stopPropagation();var e=z(t.calcPoint),s=function(t){var e=100,i=!1;return d.forEach((function(s,n){if(!F(n)){var a=x[n],r=Math.abs(a-t);(r<e||r<=e&&t>a||100===r&&100===e)&&(i=n,e=r)}})),i}(e);if(!1===s)return!1;i.events.snap||a(_,i.cssClasses.tap,i.animationDuration),ot(s,e,!0,!0),rt(),et("slide",s,!0),et("update",s,!0),et("change",s,!0),et("set",s,!0),i.events.snap&&X(t,{handleNumbers:[s]})}function G(t){var e=z(t.calcPoint),i=w.getStep(e),s=w.fromStepping(i);Object.keys(M).forEach((function(t){"hover"===t.split(".")[0]&&M[t].forEach((function(t){t.call(g,s)}))}))}function J(t,e){M[t]=M[t]||[],M[t].push(e),"update"===t.split(".")[0]&&d.forEach((function(t,e){et("update",e)}))}function tt(t){var e=t&&t.split(".")[0],i=e&&t.substring(e.length);Object.keys(M).forEach((function(t){var s=t.split(".")[0],n=t.substring(s.length);e&&e!==s||i&&i!==n||delete M[t]}))}function et(t,e,s){Object.keys(M).forEach((function(n){var a=n.split(".")[0];t===a&&M[n].forEach((function(t){t.call(g,D.map(i.format.to),e,D.slice(),s||!1,x.slice(),g)}))}))}function it(t,e,s,n,a,o){var c;return d.length>1&&!i.events.unconstrained&&(n&&e>0&&(c=w.getAbsoluteDistance(t[e-1],i.margin,0),s=Math.max(s,c)),a&&e<d.length-1&&(c=w.getAbsoluteDistance(t[e+1],i.margin,1),s=Math.min(s,c))),d.length>1&&i.limit&&(n&&e>0&&(c=w.getAbsoluteDistance(t[e-1],i.limit,0),s=Math.min(s,c)),a&&e<d.length-1&&(c=w.getAbsoluteDistance(t[e+1],i.limit,1),s=Math.max(s,c))),i.padding&&(0===e&&(c=w.getAbsoluteDistance(0,i.padding[0],0),s=Math.max(s,c)),e===d.length-1&&(c=w.getAbsoluteDistance(100,i.padding[1],1),s=Math.min(s,c))),!((s=r(s=w.getStep(s)))===t[e]&&!o)&&s}function st(t,e){var s=i.ort;return(s?e:t)+", "+(s?t:e)}function nt(t,e,i,s){var n=i.slice(),a=[!t,t],r=[t,!t];s=s.slice(),t&&s.reverse(),s.length>1?s.forEach((function(t,i){var s=it(n,t,n[t]+e,a[i],r[i],!1);!1===s?e=0:(e=s-n[t],n[t]=s)})):a=r=[!0];var o=!1;s.forEach((function(t,s){o=ot(t,i[t]+e,a[s],r[s])||o})),o&&s.forEach((function(t){et("update",t),et("slide",t)}))}function at(t,e){return i.dir?100-t-e:t}function rt(){S.forEach((function(t){var e=x[t]>50?-1:1,i=3+(d.length+e*t);d[t].style.zIndex=i}))}function ot(t,e,s,n){return!1!==(e=it(x,t,e,s,n,!1))&&(function(t,e){x[t]=e,D[t]=w.fromStepping(e);var s="translate("+st(10*(at(e,0)-T)+"%","0")+")";d[t].style[i.transformRule]=s,ct(t),ct(t+1)}(t,e),!0)}function ct(t){if(p[t]){var e=0,s=100;0!==t&&(e=x[t-1]),t!==p.length-1&&(s=x[t]);var n=s-e,a="translate("+st(at(e,n)+"%","0")+")",r="scale("+st(n/100,"1")+")";p[t].style[i.transformRule]=a+" "+r}}function lt(t,e){return null===t||!1===t||void 0===t?x[e]:("number"==typeof t&&(t=String(t)),t=i.format.from(t),!1===(t=w.toStepping(t))||isNaN(t)?x[e]:t)}function ut(t,e){var s=o(t),n=void 0===x[0];e=void 0===e||!!e,i.animate&&!n&&a(_,i.cssClasses.tap,i.animationDuration),S.forEach((function(t){ot(t,lt(s[t],t),!0,!1)}));for(var r=1===S.length?0:1;r<S.length;++r)S.forEach((function(t){ot(t,x[t],!0,!0)}));rt(),S.forEach((function(t){et("update",t),null!==s[t]&&e&&et("set",t)}))}function ht(){var t=D.map(i.format.to);return 1===t.length?t[0]:t}function dt(t){var e=x[t],s=w.getNearbySteps(e),n=D[t],a=s.thisStep.step,r=null;if(i.snap)return[n-s.stepBefore.startValue||null,s.stepAfter.startValue-n||null];!1!==a&&n+a>s.stepAfter.startValue&&(a=s.stepAfter.startValue-n),r=n>s.thisStep.startValue?s.thisStep.step:!1!==s.stepBefore.step&&n-s.stepBefore.highestStep,100===e?a=null:0===e&&(r=null);var o=w.countStepDecimals();return null!==a&&!1!==a&&(a=Number(a.toFixed(o))),null!==r&&!1!==r&&(r=Number(r.toFixed(o))),[r,a]}return l(v=_,i.cssClasses.target),0===i.dir?l(v,i.cssClasses.ltr):l(v,i.cssClasses.rtl),0===i.ort?l(v,i.cssClasses.horizontal):l(v,i.cssClasses.vertical),l(v,"rtl"===getComputedStyle(v).direction?i.cssClasses.textDirectionRtl:i.cssClasses.textDirectionLtr),c=H(v,i.cssClasses.base),function(t,e){var s=H(e,i.cssClasses.connects);d=[],(p=[]).push(P(s,t[0]));for(var n=0;n<i.handles;n++)d.push(j(e,n)),S[n]=n,p.push(P(s,t[n+1]))}(i.connect,c),(y=i.events).fixed||d.forEach((function(t,e){Y(b.start,t.children[0],X,{handleNumbers:[e]})})),y.tap&&Y(b.start,c,Z,{}),y.hover&&Y(b.move,c,G,{hover:!0}),y.drag&&p.forEach((function(t,e){if(!1!==t&&0!==e&&e!==p.length-1){var s=d[e-1],n=d[e],a=[t];l(t,i.cssClasses.draggable),y.fixed&&(a.push(s.children[0]),a.push(n.children[0])),a.forEach((function(t){Y(b.start,t,X,{handles:[s,n],handleNumbers:[e-1,e]})}))}})),ut(i.start),i.pips&&B(i.pips),i.tooltips&&O(),J("update",(function(t,e,s,n,a){S.forEach((function(t){var e=d[t],n=it(x,t,0,!0,!0,!0),r=it(x,t,100,!0,!0,!0),o=a[t],c=i.ariaFormat.to(s[t]);n=w.fromStepping(n).toFixed(1),r=w.fromStepping(r).toFixed(1),o=w.fromStepping(o).toFixed(1),e.children[0].setAttribute("aria-valuemin",n),e.children[0].setAttribute("aria-valuemax",r),e.children[0].setAttribute("aria-valuenow",o),e.children[0].setAttribute("aria-valuetext",c)}))})),g={destroy:function(){for(var t in i.cssClasses)i.cssClasses.hasOwnProperty(t)&&u(_,i.cssClasses[t]);for(;_.firstChild;)_.removeChild(_.firstChild);delete _.noUiSlider},steps:function(){return S.map(dt)},on:J,off:tt,get:ht,set:ut,setHandle:function(t,e,i){if(!((t=Number(t))>=0&&t<S.length))throw new Error("noUiSlider (14.5.0): invalid handle number, got: "+t);ot(t,lt(e,t),!0,!0),et("update",t),i&&et("set",t)},reset:function(t){ut(i.start,t)},__moveHandles:function(t,e,i){nt(t,e,x,i)},options:n,updateOptions:function(t,e){var s=ht(),a=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];a.forEach((function(e){void 0!==t[e]&&(n[e]=t[e])}));var r=I(n);a.forEach((function(e){void 0!==t[e]&&(i[e]=r[e])})),w=r.spectrum,i.margin=r.margin,i.limit=r.limit,i.padding=r.padding,i.pips?B(i.pips):U(),i.tooltips?O():L(),x=[],ut(t.start||s,e)},target:_,removePips:U,removeTooltips:L,getTooltips:function(){return f},getOrigins:function(){return d},pips:B}}return{__spectrum:b,version:t,cssClasses:_,create:function(t,e){if(!t||!t.nodeName)throw new Error("noUiSlider (14.5.0): create requires a single element, got: "+t);if(t.noUiSlider)throw new Error("noUiSlider (14.5.0): Slider was already initialized.");var i=q(t,I(e),e);return t.noUiSlider=i,i}}})?s.apply(e,n):s)||(t.exports=a)},function(t,e,i){var s={"./blocks/apartment-card/apartment-card.scss":6,"./blocks/apartment-card/images/room-350.jpg":7,"./blocks/apartment-card/images/room-352.jpg":8,"./blocks/apartment-card/images/room-444.jpg":9,"./blocks/apartment-card/images/room-450.jpg":10,"./blocks/apartment-card/images/room-666.jpg":11,"./blocks/apartment-card/images/room-678.jpg":12,"./blocks/apartment-card/images/room-740.jpg":13,"./blocks/apartment-card/images/room-840.jpg":14,"./blocks/apartment-card/images/room-856.jpg":15,"./blocks/apartment-card/images/room-888.jpg":16,"./blocks/apartment-card/images/room-980.jpg":17,"./blocks/apartment-card/images/room-982.jpg":18,"./blocks/apartment-form/Apartment-form.js":19,"./blocks/apartment-form/apartment-form.scss":20,"./blocks/apartments-finder/apartments-finder.scss":21,"./blocks/button-with-arrow/button-with-arrow.scss":22,"./blocks/button/button.scss":23,"./blocks/checkbox-item/checkbox-item.scss":24,"./blocks/datepicker-1f/Datepicker-1f.js":1,"./blocks/datepicker-1f/datepicker-1f.scss":25,"./blocks/datepicker-2f/Datepicker-2f.js":2,"./blocks/datepicker-2f/datepicker-2f.scss":26,"./blocks/datepicker-2f/datepicker.css":27,"./blocks/datepicker-2f/datepicker.js":3,"./blocks/dropdown/Dropdown.js":28,"./blocks/dropdown/dropdown.scss":29,"./blocks/email/email.scss":30,"./blocks/footer-large/footer-large.scss":31,"./blocks/footer-large/images/logo-toxin.png":32,"./blocks/footer-medium/footer-medium.scss":33,"./blocks/footer-medium/images/facebook-icon.png":34,"./blocks/footer-medium/images/instagram-icon.png":35,"./blocks/footer-medium/images/tweeter-icon.png":36,"./blocks/footer-small/footer-small.scss":37,"./blocks/footer-small/images/facebook-icon.png":38,"./blocks/footer-small/images/instagram-icon.png":39,"./blocks/footer-small/images/tweeter-icon.png":40,"./blocks/in-form/in-form.scss":41,"./blocks/info-apartment/info-apartment.scss":42,"./blocks/like-button/like-button.scss":43,"./blocks/navbar/Navbar.js":44,"./blocks/navbar/images/logo-toxin.png":45,"./blocks/navbar/navbar.scss":46,"./blocks/pie-chart-legend/pie-chart-legend.scss":47,"./blocks/pie-chart/pie-chart.scss":48,"./blocks/radio-button/radio-button.scss":49,"./blocks/receipt/receipt.scss":50,"./blocks/registration-form/registration-form.scss":51,"./blocks/slider/Slider.js":52,"./blocks/slider/nouislider.js":4,"./blocks/slider/slider.css":53,"./blocks/toggle-button/toggle-button.scss":54,"./blocks/visitor-review/images/guest-1.jpg":55,"./blocks/visitor-review/images/guest-2.jpg":56,"./blocks/visitor-review/visitor-review.scss":57,"./favicons/android-chrome-144x144.png":58,"./favicons/apple-touch-icon.png":59,"./favicons/favicon-16x16.png":60,"./favicons/favicon-32x32.png":61,"./favicons/mstile-150x150.png":62,"./favicons/safari-pinned-tab.svg":63,"./fonts.scss":64,"./fonts/Montserrat-Bold.svg":65,"./fonts/Montserrat-Light.svg":66,"./fonts/Montserrat-Medium.svg":67,"./fonts/Montserrat-Regular.svg":68,"./fonts/Montserrat-SemiBold.svg":69,"./fonts/Quicksand-Bold.svg":70,"./fonts/Quicksand-Regular.svg":71,"./index.js":0,"./index.scss":72,"./pages/landing-page/images/landingpage-bg.jpg":73,"./pages/landing-page/landing-page.scss":74,"./pages/registration/Registration.js":75,"./pages/registration/images/registration-bg.jpg":76,"./pages/registration/registration.scss":77,"./pages/room-details/images/room-888a.jpg":78,"./pages/room-details/images/room-888b.jpg":79,"./pages/room-details/images/room-888c.jpg":80,"./pages/room-details/room-details.scss":81,"./pages/search-room/search-room.scss":82,"./pages/ui-cards/ui-cards.scss":83,"./pages/ui-colors/ui-colors.scss":84,"./pages/ui-form-elements/ui-form-elements.js":85,"./pages/ui-form-elements/ui-form-elements.scss":86,"./pages/ui-headers/ui-headers.scss":87,"./template.scss":88,"./variables.scss":89};function n(t){var e=a(t);return i(e)}function a(t){if(!i.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}n.keys=function(){return Object.keys(s)},n.resolve=a,t.exports=n,n.id=5},function(t,e,i){},function(t,e,i){"use strict";i.r(e),e.default=i.p+"images/room-350.jpg"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"images/room-352.jpg"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"images/room-444.jpg"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"images/room-450.jpg"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"images/room-666.jpg"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"images/room-678.jpg"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"images/room-740.jpg"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"images/room-840.jpg"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"images/room-856.jpg"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"images/room-888.jpg"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"images/room-980.jpg"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"images/room-982.jpg"},function(t,e){class i{constructor(){this.init()}init(){const t=document.getElementsByClassName("js-apartment-form__dropdown-title");for(let e of t)e.onclick=()=>{const t=e.parentNode.querySelector(".js-apartment-form__symbol-expand");e.parentNode.querySelector(".js-apartment-form__checkboxes").classList.toggle("apartment-form__checkboxes_hidden"),t.classList.toggle("apartment-form__symbol-expand_rotated")}}}if(document.querySelector(".js-apartment-form")){new i}},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e){class i{constructor(){this.init()}init(){const t=function(t,e){const i='<span class = "material-icons">expand_more</span>';if(function(t){return"Сколько гостей"===t.innerHTML.split("<span")[0]||"Гостей"===t.innerHTML.split(" ")[0]}(e)){let s=parseInt(t.item(0).innerHTML)+parseInt(t.item(1).innerHTML),n=parseInt(t.item(2).innerHTML);e.innerHTML=0!==n?`Гостей - ${s.toString()}, младенцев - ${n.toString()}<span class = "material-icons">expand_more</span>`:0===s?"Сколько гостей"+i:"Гостей - "+s.toString()+i}else if(function(t){return"Выберите удобства"==t.innerHTML.split("<span")[0]||"Спален"==t.innerHTML.split(" ")[0]}(e)){let s=parseInt(t.item(0).innerHTML),n=parseInt(t.item(1).innerHTML);e.innerHTML=0!==n?`Спален - ${s.toString()}, кроватей - ${n.toString()} ...<span class = "material-icons">expand_more</span>`:0===s?"Выберите удобства"+i:`Спален - ${s.toString()}, спать сидя ...<span class = "material-icons">expand_more</span>`}},e=document.getElementsByClassName("js-dropdown__minus");Array.from(e,t=>{t.onclick=()=>{let e=t.nextSibling.innerHTML;if("0"!==e){let i=parseInt(e)-1;t.nextSibling.innerHTML=i.toString()}}});const i=document.getElementsByClassName("js-dropdown__plus");Array.from(i,t=>{t.onclick=()=>{let e=t.previousSibling.previousSibling.innerHTML,i=parseInt(e)+1;t.previousSibling.previousSibling.innerHTML=i.toString()}});const s=document.getElementsByClassName("js-dropdown__clear");Array.from(s,t=>{t.onclick=()=>{t.parentNode.parentNode.querySelectorAll(".js-dropdown__quantity").forEach(t=>t.innerHTML="0")}});const n=document.getElementsByClassName("js-dropdown__apply");Array.from(n,e=>{let i=e.parentNode.parentNode.querySelector(".js-dropdown__field"),s=e.parentNode.parentNode.querySelectorAll(".js-dropdown__quantity");e.onclick=()=>{t(s,i),e.parentNode.parentNode.querySelector(".js-dropdown__list").classList.remove("dropdown__list_activated"),e.parentNode.parentNode.querySelector(".dropdown__field_activated").classList.remove("dropdown__field_activated"),e.parentNode.parentNode.querySelector(".js-dropdown__buttons").classList.remove("dropdown__buttons_activated")}});const a=document.getElementsByClassName("js-dropdown__field");Array.from(a,e=>{e.onclick=()=>{let i=e.parentNode.querySelectorAll(".js-dropdown__quantity");t(i,e),e.parentNode.querySelector(".js-dropdown__list").classList.toggle("dropdown__list_activated"),e.classList.toggle("dropdown__field_activated"),e.parentNode.querySelector(".js-dropdown__buttons").classList.contains("dropdown__buttons_hidden")||e.parentNode.querySelector(".js-dropdown__buttons").classList.toggle("dropdown__buttons_activated")}})}}if(document.querySelector(".js-dropdown")){new i}},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){"use strict";i.r(e),e.default=i.p+"images/logo-toxin.png"},function(t,e,i){},function(t,e,i){"use strict";i.r(e),e.default=i.p+"images/facebook-icon.png"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"images/instagram-icon.png"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"images/tweeter-icon.png"},function(t,e,i){},function(t,e,i){"use strict";i.r(e),e.default=i.p+"images/facebook-icon.png"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"images/instagram-icon.png"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"images/tweeter-icon.png"},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e){class i{constructor(){this.init()}init(){document.querySelector(".js-navbar__expand-btn").onclick=()=>{document.querySelector(".js-navbar__list").classList.toggle("navbar__item_visible_flex"),document.querySelector(".js-navbar__buttons").classList.toggle("navbar__item_visible_flex")}}}if(document.querySelector(".js-navbar")){new i}},function(t,e,i){"use strict";i.r(e),e.default=i.p+"images/logo-toxin.png"},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){class s{constructor(){this.init()}init(){const t=i(4),e=document.getElementById("slider");t.create(e,{start:[2e3,8e3],connect:!0,step:100,range:{min:0,max:15e3}}),e.noUiSlider.on("update",()=>{let t=e.noUiSlider.get()[0].match(/.+(?=\.00)/)[0].replace(/(\d+)(\d{3}$)/,"$1 $2₽"),i=e.noUiSlider.get()[1].match(/.+(?=\.00)/)[0].replace(/(\d+)(\d{3}$)/,"$1 $2₽");document.getElementById("form-price").innerHTML=`${t} - ${i}`})}}if(document.getElementById("slider")){new s}},function(t,e,i){},function(t,e,i){},function(t,e,i){"use strict";i.r(e),e.default=i.p+"images/guest-1.jpg"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"images/guest-2.jpg"},function(t,e,i){},function(t,e,i){"use strict";i.r(e),e.default=i.p+"assets/favicons/android-chrome-144x144.png"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"assets/favicons/apple-touch-icon.png"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"assets/favicons/favicon-16x16.png"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"assets/favicons/favicon-32x32.png"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"assets/favicons/mstile-150x150.png"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"assets/favicons/safari-pinned-tab.svg"},function(t,e,i){},function(t,e,i){"use strict";i.r(e),e.default=i.p+"fonts/Montserrat-Bold.svg"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"fonts/Montserrat-Light.svg"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"fonts/Montserrat-Medium.svg"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"fonts/Montserrat-Regular.svg"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"fonts/Montserrat-SemiBold.svg"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"fonts/Quicksand-Bold.svg"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"fonts/Quicksand-Regular.svg"},function(t,e,i){},function(t,e,i){"use strict";i.r(e),e.default=i.p+"images/landingpage-bg.jpg"},function(t,e,i){},function(t,e){class i{constructor(){this.init()}init(){const t=document.querySelector(".js-navbar__in-btn"),e=document.querySelector(".js-navbar__reg-btn"),i=document.querySelector(".js-registration__in-form"),s=document.querySelector(".js-registration__reg-form");t.onclick=()=>{s.classList.add("registration__reg-form_hidden"),i.classList.add("registration__in-form_displayed")},e.onclick=()=>{s.classList.remove("registration__reg-form_hidden"),i.classList.remove("registration__in-form_displayed")}}}if(document.querySelector(".js-registration")){new i}},function(t,e,i){"use strict";i.r(e),e.default=i.p+"images/registration-bg.jpg"},function(t,e,i){},function(t,e,i){"use strict";i.r(e),e.default=i.p+"images/room-888a.jpg"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"images/room-888b.jpg"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"images/room-888c.jpg"},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e){try{(class{static init(){const t=document.getElementsByClassName("js-ui-form-elements__dropdown_expanded"),e=new Event("click");Array.from(t,t=>{t.querySelector(".js-dropdown__field").dispatchEvent(e)});const i=document.getElementsByClassName("js-ui-form-elements__more-options_collapsed");Array.from(i,t=>{const e=t.querySelector("span.material-icons");t.querySelector(".apartment-form__checkboxes").classList.toggle("apartment-form__checkboxes_disappear"),e.classList.toggle("apartment-form__expand-butt_rotate")})}}).init()}catch{console.log("There is no UIFormElements")}},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvZGF0ZXBpY2tlci0xZi9EYXRlcGlja2VyLTFmLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvZGF0ZXBpY2tlci0yZi9EYXRlcGlja2VyLTJmLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvZGF0ZXBpY2tlci0yZi9kYXRlcGlja2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3Mvc2xpZGVyL25vdWlzbGlkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjIHN5bmMgXFwuKGpzfHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9hcGFydG1lbnQtY2FyZC9pbWFnZXMvcm9vbS0zNTAuanBnIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvYXBhcnRtZW50LWNhcmQvaW1hZ2VzL3Jvb20tMzUyLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2FwYXJ0bWVudC1jYXJkL2ltYWdlcy9yb29tLTQ0NC5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9hcGFydG1lbnQtY2FyZC9pbWFnZXMvcm9vbS00NTAuanBnIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvYXBhcnRtZW50LWNhcmQvaW1hZ2VzL3Jvb20tNjY2LmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2FwYXJ0bWVudC1jYXJkL2ltYWdlcy9yb29tLTY3OC5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9hcGFydG1lbnQtY2FyZC9pbWFnZXMvcm9vbS03NDAuanBnIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvYXBhcnRtZW50LWNhcmQvaW1hZ2VzL3Jvb20tODQwLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2FwYXJ0bWVudC1jYXJkL2ltYWdlcy9yb29tLTg1Ni5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9hcGFydG1lbnQtY2FyZC9pbWFnZXMvcm9vbS04ODguanBnIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvYXBhcnRtZW50LWNhcmQvaW1hZ2VzL3Jvb20tOTgwLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2FwYXJ0bWVudC1jYXJkL2ltYWdlcy9yb29tLTk4Mi5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9hcGFydG1lbnQtZm9ybS9BcGFydG1lbnQtZm9ybS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2Ryb3Bkb3duL0Ryb3Bkb3duLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvZm9vdGVyLWxhcmdlL2ltYWdlcy9sb2dvLXRveGluLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2Zvb3Rlci1tZWRpdW0vaW1hZ2VzL2ZhY2Vib29rLWljb24ucG5nIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvZm9vdGVyLW1lZGl1bS9pbWFnZXMvaW5zdGFncmFtLWljb24ucG5nIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvZm9vdGVyLW1lZGl1bS9pbWFnZXMvdHdlZXRlci1pY29uLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2Zvb3Rlci1zbWFsbC9pbWFnZXMvZmFjZWJvb2staWNvbi5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9mb290ZXItc21hbGwvaW1hZ2VzL2luc3RhZ3JhbS1pY29uLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2Zvb3Rlci1zbWFsbC9pbWFnZXMvdHdlZXRlci1pY29uLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL25hdmJhci9OYXZiYXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9uYXZiYXIvaW1hZ2VzL2xvZ28tdG94aW4ucG5nIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3Mvc2xpZGVyL1NsaWRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL3Zpc2l0b3ItcmV2aWV3L2ltYWdlcy9ndWVzdC0xLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL3Zpc2l0b3ItcmV2aWV3L2ltYWdlcy9ndWVzdC0yLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvZmF2aWNvbnMvYW5kcm9pZC1jaHJvbWUtMTQ0eDE0NC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zhdmljb25zL2FwcGxlLXRvdWNoLWljb24ucG5nIiwid2VicGFjazovLy8uL3NyYy9mYXZpY29ucy9mYXZpY29uLTE2eDE2LnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvZmF2aWNvbnMvZmF2aWNvbi0zMngzMi5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zhdmljb25zL21zdGlsZS0xNTB4MTUwLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvZmF2aWNvbnMvc2FmYXJpLXBpbm5lZC10YWIuc3ZnIiwid2VicGFjazovLy8uL3NyYy9mb250cy9Nb250c2VycmF0LUJvbGQuc3ZnIiwid2VicGFjazovLy8uL3NyYy9mb250cy9Nb250c2VycmF0LUxpZ2h0LnN2ZyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9udHMvTW9udHNlcnJhdC1NZWRpdW0uc3ZnIiwid2VicGFjazovLy8uL3NyYy9mb250cy9Nb250c2VycmF0LVJlZ3VsYXIuc3ZnIiwid2VicGFjazovLy8uL3NyYy9mb250cy9Nb250c2VycmF0LVNlbWlCb2xkLnN2ZyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9udHMvUXVpY2tzYW5kLUJvbGQuc3ZnIiwid2VicGFjazovLy8uL3NyYy9mb250cy9RdWlja3NhbmQtUmVndWxhci5zdmciLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL2xhbmRpbmctcGFnZS9pbWFnZXMvbGFuZGluZ3BhZ2UtYmcuanBnIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9yZWdpc3RyYXRpb24vUmVnaXN0cmF0aW9uLmpzIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9yZWdpc3RyYXRpb24vaW1hZ2VzL3JlZ2lzdHJhdGlvbi1iZy5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL3Jvb20tZGV0YWlscy9pbWFnZXMvcm9vbS04ODhhLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcm9vbS1kZXRhaWxzL2ltYWdlcy9yb29tLTg4OGIuanBnIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9yb29tLWRldGFpbHMvaW1hZ2VzL3Jvb20tODg4Yy5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL3VpLWZvcm0tZWxlbWVudHMvdWktZm9ybS1lbGVtZW50cy5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImtleXMiLCJmb3JFYWNoIiwiRGF0ZXBpY2tlcjFmIiwidGhpcyIsImluaXQiLCJkYXRlcGlja2VyQXBpXzFmIiwiJCIsImRhdGVwaWNrZXIiLCJkYXRhIiwiaW5EYXRlRmllbGRfMWYiLCJvblNlbGVjdCIsImZvcm1hdHRlZERhdGUiLCJyZXNEYXRlIiwic3BsaXQiLCJsZW5ndGgiLCJhcnJEYXRlcyIsInRvTG93ZXJDYXNlIiwibWFwIiwidmFsIiwibWF0Y2giLCJqb2luIiwiY2xlYXJCdXR0b24iLCJ0b2RheUJ1dHRvbiIsImRhdGVGb3JtYXQiLCJwcmV2SHRtbCIsIm5leHRIdG1sIiwiYXBwbHlCdXR0IiwiaHRtbCIsIm9uIiwiaGlkZSIsInNob3ciLCJEYXRlcGlja2VyMmYiLCJkYXRlcGlja2VyQXBpXzJmIiwib3V0RGF0ZUZpZWxkXzJmIiwiaW5EYXRlRmllbGRfMmYiLCJpbkRhdGUiLCJvdXREYXRlIiwid2luZG93IiwidW5kZWZpbmVkIiwiJGJvZHkiLCIkZGF0ZXBpY2tlcnNDb250YWluZXIiLCJjb250YWluZXJCdWlsdCIsImRlZmF1bHRzIiwiaG90S2V5cyIsIkRhdGVwaWNrZXIiLCJjbGFzc2VzIiwiaW5saW5lIiwibGFuZ3VhZ2UiLCJzdGFydERhdGUiLCJEYXRlIiwiZmlyc3REYXkiLCJ3ZWVrZW5kcyIsImFsdEZpZWxkIiwiYWx0RmllbGREYXRlRm9ybWF0IiwidG9nZ2xlU2VsZWN0ZWQiLCJrZXlib2FyZE5hdiIsInBvc2l0aW9uIiwib2Zmc2V0IiwidmlldyIsIm1pblZpZXciLCJzaG93T3RoZXJNb250aHMiLCJzZWxlY3RPdGhlck1vbnRocyIsIm1vdmVUb090aGVyTW9udGhzT25TZWxlY3QiLCJzaG93T3RoZXJZZWFycyIsInNlbGVjdE90aGVyWWVhcnMiLCJtb3ZlVG9PdGhlclllYXJzT25TZWxlY3QiLCJtaW5EYXRlIiwibWF4RGF0ZSIsImRpc2FibGVOYXZXaGVuT3V0T2ZSYW5nZSIsIm11bHRpcGxlRGF0ZXMiLCJtdWx0aXBsZURhdGVzU2VwYXJhdG9yIiwicmFuZ2UiLCJzaG93RXZlbnQiLCJhdXRvQ2xvc2UiLCJtb250aHNGaWVsZCIsIm5hdlRpdGxlcyIsImRheXMiLCJtb250aHMiLCJ5ZWFycyIsInRpbWVwaWNrZXIiLCJvbmx5VGltZXBpY2tlciIsImRhdGVUaW1lU2VwYXJhdG9yIiwidGltZUZvcm1hdCIsIm1pbkhvdXJzIiwibWF4SG91cnMiLCJtaW5NaW51dGVzIiwibWF4TWludXRlcyIsImhvdXJzU3RlcCIsIm1pbnV0ZXNTdGVwIiwib25TaG93Iiwib25IaWRlIiwib25DaGFuZ2VNb250aCIsIm9uQ2hhbmdlWWVhciIsIm9uQ2hhbmdlRGVjYWRlIiwib25DaGFuZ2VWaWV3Iiwib25SZW5kZXJDZWxsIiwiZWwiLCJvcHRpb25zIiwiJGVsIiwib3B0cyIsImV4dGVuZCIsIm5vZGVOYW1lIiwiZWxJc0lucHV0IiwiJGFsdEZpZWxkIiwiaW5pdGVkIiwidmlzaWJsZSIsInNpbGVudCIsImN1cnJlbnREYXRlIiwiY3VycmVudFZpZXciLCJfY3JlYXRlU2hvcnRDdXRzIiwic2VsZWN0ZWREYXRlcyIsInZpZXdzIiwibWluUmFuZ2UiLCJtYXhSYW5nZSIsIl9wcmV2T25TZWxlY3RWYWx1ZSIsIlZFUlNJT04iLCJ2aWV3SW5kZXhlcyIsIl9idWlsZERhdGVwaWNrZXJzQ29udGFpbmVyIiwiX2J1aWxkQmFzZUh0bWwiLCJfZGVmaW5lTG9jYWxlIiwiX3N5bmNXaXRoTWluTWF4RGF0ZXMiLCJfc2V0UG9zaXRpb25DbGFzc2VzIiwiX2JpbmRFdmVudHMiLCJfYmluZEtleWJvYXJkRXZlbnRzIiwiJGRhdGVwaWNrZXIiLCJfb25Nb3VzZURvd25EYXRlcGlja2VyIiwiX29uTW91c2VVcERhdGVwaWNrZXIiLCJhZGRDbGFzcyIsImZuIiwiVGltZXBpY2tlciIsIl9iaW5kVGltZXBpY2tlckV2ZW50cyIsIkJvZHkiLCJuYXYiLCJOYXZpZ2F0aW9uIiwiX29uQ2xpY2tDZWxsIiwiX29uTW91c2VFbnRlckNlbGwiLCJfb25Nb3VzZUxlYXZlQ2VsbCIsIl9vblNob3dFdmVudCIsIl9vbk1vdXNlVXBFbCIsIl9vbkJsdXIiLCJfb25LZXlVcEdlbmVyYWwiLCJfb25SZXNpemUiLCJfb25Nb3VzZVVwQm9keSIsIl9vbktleURvd24iLCJfb25LZXlVcCIsIl9vbkhvdEtleSIsIl9vblRpbWVDaGFuZ2UiLCJpc1dlZWtlbmQiLCJkYXkiLCJpbmRleE9mIiwibGFuZyIsImxvYyIsImNvbnNvbGUiLCJ3YXJuIiwicnUiLCJib3VuZGFyeSIsIl9nZXRXb3JkQm91bmRhcnlSZWdFeHAiLCJhbXBtIiwiYXBwZW5kIiwiJGFwcGVuZFRhcmdldCIsIiRpbmxpbmUiLCJpbnNlcnRBZnRlciIsImFwcGVuZFRvIiwiJGNvbnRlbnQiLCIkbmF2IiwiX3RyaWdnZXJPbkNoYW5nZSIsImZvcm1hdHRlZERhdGVzIiwicGFyc2VkU2VsZWN0ZWQiLCJnZXRQYXJzZWREYXRlIiwiX3RoaXMiLCJkYXRlcyIsInllYXIiLCJtb250aCIsImRhdGUiLCJob3VycyIsIm1pbnV0ZXMiLCJmb3JtYXREYXRlIiwicGFyc2VkRGF0ZSIsIm5leHQiLCJjdXJEZWNhZGUiLCJwcmV2Iiwic3RyaW5nIiwidmFsaWRIb3VycyIsInJlc3VsdCIsImxvY2FsZSIsImxlYWRpbmdaZXJvIiwiZ2V0TGVhZGluZ1plcm9OdW0iLCJkZWNhZGUiLCJnZXREZWNhZGUiLCJmdWxsSG91cnMiLCJkYXlQZXJpb2QiLCJyZXBsYWNlciIsIl9yZXBsYWNlciIsIl9nZXRWYWxpZEhvdXJzRnJvbURhdGUiLCJ0ZXN0IiwicmVwbGFjZSIsImdldFRpbWUiLCJ0b1VwcGVyQ2FzZSIsImZ1bGxEYXRlIiwiZGF5c1Nob3J0IiwiZnVsbE1vbnRoIiwibW9udGhzU2hvcnQiLCJmdWxsTWludXRlcyIsInRvU3RyaW5nIiwic2xpY2UiLCJzdHIiLCJyZWciLCJwMSIsInAyIiwicDMiLCJzaWduIiwic3ltYm9scyIsIlJlZ0V4cCIsInNlbGVjdERhdGUiLCJsZW4iLCJuZXdEYXRlIiwiQXJyYXkiLCJpc0FycmF5IiwibGFzdFNlbGVjdGVkRGF0ZSIsIl9zZXRUaW1lIiwiX3RyaWdnZXIiLCJzZXRIb3VycyIsInNldE1pbnV0ZXMiLCJnZXRNb250aCIsImdldEZ1bGxZZWFyIiwiX3JlbmRlciIsIl9pc1NlbGVjdGVkIiwicHVzaCIsImJpZ2dlciIsIl9zZXRJbnB1dFZhbHVlIiwidGltZXBpY2tlcklzQWN0aXZlIiwicmVtb3ZlRGF0ZSIsInNlbGVjdGVkIiwic29tZSIsImN1ckRhdGUiLCJpc1NhbWUiLCJzcGxpY2UiLCJ0b2RheSIsImNsZWFyIiwidXBkYXRlIiwicGFyYW0iLCJhcmd1bWVudHMiLCJfYWRkQnV0dG9uc0lmTmVlZCIsInNldFBvc2l0aW9uIiwiX2hhbmRsZURhdGUiLCJfdXBkYXRlUmFuZ2VzIiwiX3VwZGF0ZUN1cnJlbnRUaW1lIiwiY3VyVGltZSIsIm1pblRpbWUiLCJtYXhUaW1lIiwiY2hlY2tEYXRlIiwiY2VsbFR5cGUiLCJyZXMiLCJhbHRWYWx1ZXMiLCJmb3JtYXQiLCJhbHRGb3JtYXQiLCJfaXNJblJhbmdlIiwidHlwZSIsInRpbWUiLCJtaW4iLCJtYXgiLCJkTWluVGltZSIsImRNYXhUaW1lIiwidHlwZXMiLCJfZ2V0RGltZW5zaW9ucyIsIndpZHRoIiwib3V0ZXJXaWR0aCIsImhlaWdodCIsIm91dGVySGVpZ2h0IiwibGVmdCIsInRvcCIsIl9nZXREYXRlRnJvbUNlbGwiLCJjZWxsIiwicG9zIiwibWFpbiIsInJlbW92ZUF0dHIiLCJkaW1zIiwic2VsZkRpbXMiLCJzZWNvbmRhcnkiLCJjc3MiLCJfYmluZFZpc2lvbkV2ZW50cyIsInJlbW92ZUNsYXNzIiwiZm9jdXNlZCIsImluRm9jdXMiLCJibHVyIiwiZG93biIsIl9jaGFuZ2VWaWV3IiwidXAiLCJldmVudCIsIm9mZiIsIm9uZSIsImRpciIsIm5leHRWaWV3Iiwidmlld0luZGV4IiwiX2hhbmRsZUhvdEtleSIsImZvY3VzZWRQYXJzZWQiLCJ0b3RhbERheXNJbk5leHRNb250aCIsIl9nZXRGb2N1c2VkRGF0ZSIsIm1vbnRoQ2hhbmdlZCIsInllYXJDaGFuZ2VkIiwiZGVjYWRlQ2hhbmdlZCIsInkiLCJnZXREYXlzQ291bnQiLCJfcmVnaXN0ZXJLZXkiLCJjdXJLZXkiLCJfdW5SZWdpc3RlcktleSIsImluZGV4IiwiX2lzSG90S2V5UHJlc3NlZCIsImN1cnJlbnRIb3RLZXkiLCJmb3VuZCIsInByZXNzZWRLZXlzIiwic29ydCIsImhvdEtleSIsImV2ZXJ5IiwiYXJncyIsInRyaWdnZXIiLCJfZm9jdXNOZXh0Q2VsbCIsImtleUNvZGUiLCJuZCIsImdldERhdGUiLCJfZ2V0Q2VsbCIsIiRjZWxsIiwic2VsZWN0b3IiLCJmaW5kIiwiZGVzdHJveSIsImNsb3Nlc3QiLCJyZW1vdmUiLCJfaGFuZGxlQWxyZWFkeVNlbGVjdGVkRGF0ZXMiLCJhbHJlYWR5U2VsZWN0ZWQiLCJzZWxlY3RlZERhdGUiLCJlIiwib3JpZ2luYWxFdmVudCIsInRpbWVwaWNrZXJGb2N1cyIsImZvY3VzIiwic2V0VGltZW91dCIsImNvZGUiLCJ3aGljaCIsInByZXZlbnREZWZhdWx0IiwiaGFzQ2xhc3MiLCJ0YXJnZXQiLCJsZXNzIiwiX3VwZGF0ZSIsImgiLCJfZm9jdXNlZCIsInByZXZWaWV3Iiwic3Vic3RyaW5nIiwiZ2V0RGF5IiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwiZmlyc3RZZWFyIiwiTWF0aCIsImZsb29yIiwidGVtcGxhdGUiLCJzb3VyY2UiLCJkYXRlMSIsImRhdGUyIiwiZDEiLCJkMiIsIl90eXBlIiwiZGF0ZUNvbXBhcmVUbyIsIm51bSIsInBhcnNlSW50IiwicmVzZXRUaW1lIiwiZWFjaCIsIkNvbnN0cnVjdG9yIiwiZGF5c01pbiIsInRlbXBsYXRlcyIsImRwIiwicHJveHkiLCIkbmFtZXMiLCIkY2VsbHMiLCJfZ2V0RGF5TmFtZXNIdG1sIiwiY3VyRGF5IiwiX2dldENlbGxDb250ZW50cyIsInBhcmVudCIsInJlbmRlciIsImRpc2FibGVkIiwiX2dldERheXNIdG1sIiwidG90YWxNb250aERheXMiLCJmaXJzdE1vbnRoRGF5IiwibGFzdE1vbnRoRGF5IiwiZGF5c0Zyb21QZXZNb250aCIsImRheXNGcm9tTmV4dE1vbnRoIiwiX2dldERheUh0bWwiLCJjb250ZW50IiwiX2dldE1vbnRoc0h0bWwiLCJfZ2V0TW9udGhIdG1sIiwiX2dldFllYXJzSHRtbCIsIl9nZXRZZWFySHRtbCIsIl9yZW5kZXJUeXBlcyIsImRheU5hbWVzIiwiYXR0ciIsImFjaXR2ZSIsImFjdGl2ZSIsIl9oYW5kbGVDbGljayIsIiRidXR0b25zQ29udGFpbmVyIiwiX29uQ2xpY2tOYXZCdXR0b24iLCJfb25DbGlja05hdlRpdGxlIiwiX2FkZEJ1dHRvbiIsInRpdGxlIiwiX2dldFRpdGxlIiwic2V0TmF2U3RhdHVzIiwiX2FkZEJ1dHRvbnNDb250YWluZXIiLCJhY3Rpb24iLCJsYWJlbCIsIl9kaXNhYmxlTmF2IiwiX2FjdGl2YXRlTmF2IiwiaW5zdCIsImlucHV0IiwiX2J1aWxkSFRNTCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIl9vblNlbGVjdERhdGUiLCIkcmFuZ2VzIiwiX29uQ2hhbmdlUmFuZ2UiLCJfb25Nb3VzZVVwUmFuZ2UiLCJfb25Nb3VzZUVudGVyUmFuZ2UiLCJfb25Nb3VzZU91dFJhbmdlIiwiX2RhdGUiLCJfc2V0TWluVGltZUZyb21EYXRlIiwiX3NldE1heFRpbWVGcm9tRGF0ZSIsIl9zZXREZWZhdWx0TWluTWF4VGltZSIsIl92YWxpZGF0ZUhvdXJzTWludXRlcyIsImx6IiwiaG91ck1pbiIsImhvdXJNYXgiLCJob3VyU3RlcCIsImhvdXJWYWx1ZSIsImhvdXJWaXNpYmxlIiwiZGlzcGxheUhvdXJzIiwibWluTWluIiwibWluTWF4IiwibWluU3RlcCIsIm1pblZhbHVlIiwiX3RlbXBsYXRlIiwiJHRpbWVwaWNrZXIiLCIkaG91cnMiLCIkbWludXRlcyIsIiRob3Vyc1RleHQiLCIkbWludXRlc1RleHQiLCIkYW1wbSIsIl9ob3VycyIsIiR0YXJnZXQiLCJqUXVlcnkiLCJyZW1vdmVFbGVtZW50IiwicGFyZW50RWxlbWVudCIsInJlbW92ZUNoaWxkIiwiaXNTZXQiLCJpc051bWVyaWMiLCJhIiwiaXNOYU4iLCJpc0Zpbml0ZSIsImFkZENsYXNzRm9yIiwiZWxlbWVudCIsImNsYXNzTmFtZSIsImR1cmF0aW9uIiwibGltaXQiLCJhc0FycmF5IiwiY291bnREZWNpbWFscyIsIm51bVN0ciIsInBpZWNlcyIsIlN0cmluZyIsImNsYXNzTGlzdCIsImFkZCIsImdldFBhZ2VPZmZzZXQiLCJkb2MiLCJzdXBwb3J0UGFnZU9mZnNldCIsInBhZ2VYT2Zmc2V0IiwiaXNDU1MxQ29tcGF0IiwiY29tcGF0TW9kZSIsIngiLCJkb2N1bWVudEVsZW1lbnQiLCJzY3JvbGxMZWZ0IiwiYm9keSIsInBhZ2VZT2Zmc2V0Iiwic2Nyb2xsVG9wIiwic3ViUmFuZ2VSYXRpbyIsInBhIiwicGIiLCJmcm9tUGVyY2VudGFnZSIsInN0YXJ0UmFuZ2UiLCJnZXRKIiwiYXJyIiwiaiIsInRvU3RlcHBpbmciLCJ4VmFsIiwieFBjdCIsInZhIiwidmIiLCJhYnMiLCJ0b1BlcmNlbnRhZ2UiLCJnZXRTdGVwIiwieFN0ZXBzIiwic25hcCIsImIiLCJ0byIsInJvdW5kIiwiaGFuZGxlRW50cnlQb2ludCIsInRoYXQiLCJwZXJjZW50YWdlIiwiRXJyb3IiLCJwYXJzZUZsb2F0IiwieEhpZ2hlc3RDb21wbGV0ZVN0ZXAiLCJoYW5kbGVTdGVwUG9pbnQiLCJ0b3RhbFN0ZXBzIiwieE51bVN0ZXBzIiwiaGlnaGVzdFN0ZXAiLCJjZWlsIiwiTnVtYmVyIiwidG9GaXhlZCIsInN0ZXAiLCJTcGVjdHJ1bSIsImVudHJ5Iiwic2luZ2xlU3RlcCIsIm9yZGVyZWQiLCJnZXREaXN0YW5jZSIsImRpc3RhbmNlcyIsImdldEFic29sdXRlRGlzdGFuY2UiLCJkaXJlY3Rpb24iLCJzdGFydF9mYWN0b3IiLCJ4UGN0X2luZGV4IiwicmVzdF9mYWN0b3IiLCJyZXN0X3JlbF9kaXN0YW5jZSIsInJhbmdlX3BjdCIsInJlbF9yYW5nZV9kaXN0YW5jZSIsImFic19kaXN0YW5jZV9jb3VudGVyIiwicmFuZ2VfY291bnRlciIsImZyb21TdGVwcGluZyIsImlzUGVyY2VudGFnZSIsImdldERlZmF1bHRTdGVwIiwiaXNEb3duIiwic2l6ZSIsImdldE5lYXJieVN0ZXBzIiwic3RlcEJlZm9yZSIsInN0YXJ0VmFsdWUiLCJ0aGlzU3RlcCIsInN0ZXBBZnRlciIsImNvdW50U3RlcERlY2ltYWxzIiwic3RlcERlY2ltYWxzIiwiYXBwbHkiLCJjb252ZXJ0IiwiZGVmYXVsdEZvcm1hdHRlciIsImZyb20iLCJjc3NDbGFzc2VzIiwiYmFzZSIsIm9yaWdpbiIsImhhbmRsZSIsImhhbmRsZUxvd2VyIiwiaGFuZGxlVXBwZXIiLCJ0b3VjaEFyZWEiLCJob3Jpem9udGFsIiwidmVydGljYWwiLCJiYWNrZ3JvdW5kIiwiY29ubmVjdCIsImNvbm5lY3RzIiwibHRyIiwicnRsIiwidGV4dERpcmVjdGlvbkx0ciIsInRleHREaXJlY3Rpb25SdGwiLCJkcmFnZ2FibGUiLCJkcmFnIiwidGFwIiwidG9vbHRpcCIsInBpcHMiLCJwaXBzSG9yaXpvbnRhbCIsInBpcHNWZXJ0aWNhbCIsIm1hcmtlciIsIm1hcmtlckhvcml6b250YWwiLCJtYXJrZXJWZXJ0aWNhbCIsIm1hcmtlck5vcm1hbCIsIm1hcmtlckxhcmdlIiwibWFya2VyU3ViIiwidmFsdWVIb3Jpem9udGFsIiwidmFsdWVWZXJ0aWNhbCIsInZhbHVlTm9ybWFsIiwidmFsdWVMYXJnZSIsInZhbHVlU3ViIiwidmFsaWRhdGVGb3JtYXQiLCJpc1ZhbGlkRm9ybWF0dGVyIiwidGVzdFN0ZXAiLCJwYXJzZWQiLCJ0ZXN0UmFuZ2UiLCJzcGVjdHJ1bSIsInRlc3RTdGFydCIsImhhbmRsZXMiLCJzdGFydCIsInRlc3RTbmFwIiwidGVzdEFuaW1hdGUiLCJhbmltYXRlIiwidGVzdEFuaW1hdGlvbkR1cmF0aW9uIiwiYW5pbWF0aW9uRHVyYXRpb24iLCJ0ZXN0Q29ubmVjdCIsInRlc3RPcmllbnRhdGlvbiIsIm9ydCIsInRlc3RNYXJnaW4iLCJtYXJnaW4iLCJ0ZXN0TGltaXQiLCJ0ZXN0UGFkZGluZyIsInBhZGRpbmciLCJ0b3RhbFBhZGRpbmciLCJmaXJzdFZhbHVlIiwidGVzdERpcmVjdGlvbiIsInRlc3RCZWhhdmlvdXIiLCJmaXhlZCIsImhvdmVyIiwidW5jb25zdHJhaW5lZCIsImV2ZW50cyIsInRlc3RUb29sdGlwcyIsInRvb2x0aXBzIiwiZm9ybWF0dGVyIiwidGVzdEFyaWFGb3JtYXQiLCJhcmlhRm9ybWF0IiwidGVzdEZvcm1hdCIsInRlc3RLZXlib2FyZFN1cHBvcnQiLCJrZXlib2FyZFN1cHBvcnQiLCJ0ZXN0RG9jdW1lbnRFbGVtZW50IiwidGVzdENzc1ByZWZpeCIsImNzc1ByZWZpeCIsInRlc3RDc3NDbGFzc2VzIiwidGVzdE9wdGlvbnMiLCJ0ZXN0cyIsIm9yaWVudGF0aW9uIiwiYmVoYXZpb3VyIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwibXNQcmVmaXgiLCJzdHlsZSIsIm1zVHJhbnNmb3JtIiwibm9QcmVmaXgiLCJ0cmFuc2Zvcm0iLCJ0cmFuc2Zvcm1SdWxlIiwic2NvcGUiLCJvcmlnaW5hbE9wdGlvbnMiLCJzY29wZV9CYXNlIiwic2NvcGVfSGFuZGxlcyIsInNjb3BlX0Nvbm5lY3RzIiwic2NvcGVfUGlwcyIsInNjb3BlX1Rvb2x0aXBzIiwic2NvcGVfU2VsZiIsImFkZFRhcmdldCIsImFjdGlvbnMiLCJwb2ludGVyRW5hYmxlZCIsIm1vdmUiLCJlbmQiLCJtc1BvaW50ZXJFbmFibGVkIiwic3VwcG9ydHNQYXNzaXZlIiwiQ1NTIiwic3VwcG9ydHMiLCJhZGRFdmVudExpc3RlbmVyIiwiZ2V0U3VwcG9ydHNQYXNzaXZlIiwic2NvcGVfVGFyZ2V0Iiwic2NvcGVfU3BlY3RydW0iLCJzY29wZV9WYWx1ZXMiLCJzY29wZV9Mb2NhdGlvbnMiLCJzY29wZV9IYW5kbGVOdW1iZXJzIiwic2NvcGVfQWN0aXZlSGFuZGxlc0NvdW50Iiwic2NvcGVfRXZlbnRzIiwic2NvcGVfRG9jdW1lbnQiLCJvd25lckRvY3VtZW50Iiwic2NvcGVfRG9jdW1lbnRFbGVtZW50Iiwic2NvcGVfQm9keSIsInNjb3BlX0Rpck9mZnNldCIsImFkZE5vZGVUbyIsImRpdiIsImFwcGVuZENoaWxkIiwiYWRkT3JpZ2luIiwiaGFuZGxlTnVtYmVyIiwic2V0QXR0cmlidXRlIiwiaXNTbGlkZXJEaXNhYmxlZCIsImlzSGFuZGxlRGlzYWJsZWQiLCJob3Jpem9udGFsS2V5cyIsInZlcnRpY2FsS2V5cyIsImxhcmdlU3RlcEtleXMiLCJlZGdlS2V5cyIsInJldmVyc2UiLCJpc0xhcmdlRG93biIsImlzTGFyZ2VVcCIsImlzVXAiLCJpc01pbiIsImlzTWF4IiwiZ2V0TmV4dFN0ZXBzRm9ySGFuZGxlIiwic2V0SGFuZGxlIiwiZmlyZUV2ZW50IiwiZXZlbnRLZXlkb3duIiwiYWRkQ29ubmVjdCIsImFkZFRvb2x0aXAiLCJmaXJzdENoaWxkIiwiaGFzQXR0cmlidXRlIiwicmVtb3ZlVG9vbHRpcHMiLCJyZW1vdmVFdmVudCIsImJpbmRFdmVudCIsInZhbHVlcyIsInVuZW5jb2RlZCIsImZvcm1hdHRlZFZhbHVlIiwiaW5uZXJIVE1MIiwiYWRkTWFya2luZyIsInNwcmVhZCIsImZpbHRlckZ1bmMiLCJ2YWx1ZVNpemVDbGFzc2VzIiwibWFya2VyU2l6ZUNsYXNzZXMiLCJ2YWx1ZU9yaWVudGF0aW9uQ2xhc3NlcyIsIm1hcmtlck9yaWVudGF0aW9uQ2xhc3NlcyIsImdldENsYXNzZXMiLCJzaXplQ2xhc3NlcyIsIm5vZGUiLCJhZGRTcHJlYWQiLCJyZW1vdmVQaXBzIiwiZ3JpZCIsImRlbnNpdHkiLCJmaWx0ZXIiLCJncm91cCIsInN0ZXBwZWQiLCJpbnRlcnZhbCIsImdldEdyb3VwIiwiYXJyYXkiLCJpbmRleGVzIiwiZmlyc3RJblJhbmdlIiwibGFzdEluUmFuZ2UiLCJpZ25vcmVGaXJzdCIsImlnbm9yZUxhc3QiLCJwcmV2UGN0IiwidW5zaGlmdCIsImN1cnJlbnQiLCJxIiwibmV3UGN0IiwicGN0RGlmZmVyZW5jZSIsInBjdFBvcyIsInN0ZXBzIiwicmVhbFN0ZXBzIiwic3RlcFNpemUiLCJsb3ciLCJoaWdoIiwiaXNTdGVwcyIsImdlbmVyYXRlU3ByZWFkIiwiYmFzZVNpemUiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiYWx0IiwiYXR0YWNoRXZlbnQiLCJjYWxsYmFjayIsIm1ldGhvZCIsInBhZ2VPZmZzZXQiLCJldmVudFRhcmdldCIsInRvdWNoIiwibW91c2UiLCJwb2ludGVyIiwiaXNUb3VjaE9uVGFyZ2V0IiwiY2hlY2tUb3VjaCIsImNvbnRhaW5zIiwic2hhZG93Um9vdCIsInRhcmdldFRvdWNoZXMiLCJ0b3VjaGVzIiwicGFnZVgiLCJwYWdlWSIsInRhcmdldFRvdWNoIiwiY2hhbmdlZFRvdWNoZXMiLCJjbGllbnRYIiwiY2xpZW50WSIsInBvaW50cyIsImN1cnNvciIsImZpeEV2ZW50IiwiZG9Ob3RSZWplY3QiLCJidXR0b25zIiwiY2FsY1BvaW50IiwibWV0aG9kcyIsImV2ZW50TmFtZSIsInBhc3NpdmUiLCJjYWxjUG9pbnRUb1BlcmNlbnRhZ2UiLCJlbGVtIiwiZG9jRWxlbSIsInByb3Bvc2FsIiwiY2xpZW50VG9wIiwiY2xpZW50TGVmdCIsImRvY3VtZW50TGVhdmUiLCJyZWxhdGVkVGFyZ2V0IiwiZXZlbnRFbmQiLCJldmVudE1vdmUiLCJhcHBWZXJzaW9uIiwiYnV0dG9uc1Byb3BlcnR5IiwibW92ZW1lbnQiLCJzdGFydENhbGNQb2ludCIsIm1vdmVIYW5kbGVzIiwibG9jYXRpb25zIiwiaGFuZGxlTnVtYmVycyIsImxpc3RlbmVycyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzZXRaaW5kZXgiLCJldmVudFN0YXJ0IiwiY2hpbGRyZW4iLCJzdG9wUHJvcGFnYXRpb24iLCJtb3ZlRXZlbnQiLCJlbmRFdmVudCIsIm91dEV2ZW50IiwiY29uY2F0IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImV2ZW50VGFwIiwiY2xpY2tlZFBvc2l0aW9uIiwic21hbGxlc3REaWZmZXJlbmNlIiwiaGFuZGxlUG9zaXRpb24iLCJkaWZmZXJlbmNlV2l0aFRoaXNIYW5kbGUiLCJnZXRDbG9zZXN0SGFuZGxlIiwiZXZlbnRIb3ZlciIsInRhcmdldEV2ZW50IiwibmFtZXNwYWNlZEV2ZW50IiwibmFtZXNwYWNlIiwidEV2ZW50IiwidE5hbWVzcGFjZSIsImV2ZW50VHlwZSIsImNoZWNrSGFuZGxlUG9zaXRpb24iLCJyZWZlcmVuY2UiLCJsb29rQmFja3dhcmQiLCJsb29rRm9yd2FyZCIsImdldFZhbHVlIiwiZGlzdGFuY2UiLCJpblJ1bGVPcmRlciIsInYiLCJ1cHdhcmQiLCJwcm9wb3NhbHMiLCJmIiwic3RhdGUiLCJ0cmFuc2Zvcm1EaXJlY3Rpb24iLCJ6SW5kZXgiLCJ0cmFuc2xhdGVSdWxlIiwidXBkYXRlQ29ubmVjdCIsInVwZGF0ZUhhbmRsZVBvc2l0aW9uIiwiY29ubmVjdFdpZHRoIiwic2NhbGVSdWxlIiwicmVzb2x2ZVRvVmFsdWUiLCJ2YWx1ZVNldCIsImZpcmVTZXRFdmVudCIsImlzSW5pdCIsInZhbHVlR2V0IiwibG9jYXRpb24iLCJuZWFyYnlTdGVwcyIsImluY3JlbWVudCIsImRlY3JlbWVudCIsImNvbm5lY3RPcHRpb25zIiwiY29ubmVjdEJhc2UiLCJhZGRFbGVtZW50cyIsImhhbmRsZUJlZm9yZSIsImhhbmRsZUFmdGVyIiwiZXZlbnRIb2xkZXJzIiwiZXZlbnRIb2xkZXIiLCJwb3NpdGlvbnMiLCJub3ciLCJ0ZXh0Iiwibm9VaVNsaWRlciIsInNldCIsInJlc2V0IiwiX19tb3ZlSGFuZGxlcyIsInVwZGF0ZU9wdGlvbnMiLCJvcHRpb25zVG9VcGRhdGUiLCJ1cGRhdGVBYmxlIiwibmV3T3B0aW9ucyIsImdldFRvb2x0aXBzIiwiZ2V0T3JpZ2lucyIsIl9fc3BlY3RydW0iLCJ2ZXJzaW9uIiwiYXBpIiwid2VicGFja0NvbnRleHQiLCJyZXEiLCJpZCIsIndlYnBhY2tDb250ZXh0UmVzb2x2ZSIsInJlc29sdmUiLCJBcGFydG1lbnRGb3JtIiwiZHJvcGRvd25XcmFwcGVyTGlzdCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJpdGVtIiwib25jbGljayIsImV4cGFuZEJ1dHQiLCJwYXJlbnROb2RlIiwicXVlcnlTZWxlY3RvciIsInRvZ2dsZSIsIkRyb3Bkb3duIiwicGxhY2Vob2xkZXJDaGFuZ2VyIiwicXVhbkxpc3QiLCJwbGFjZWhvbGRlciIsImV4cGFuZCIsImlzR3Vlc3RzRHJvcGRvd24iLCJxdWFuUGVvcGxlIiwicXVhbkJhYnkiLCJpc0JlZHNEcm9wZG93biIsInF1YW5Sb29tIiwicXVhbkJlZCIsImxpc3RNaW51cyIsIm5leHRTaWJsaW5nIiwibmV3Q29udGVudCIsImxpc3RQbHVzIiwicHJldmlvdXNTaWJsaW5nIiwibGlzdENsZWFyIiwicXVlcnlTZWxlY3RvckFsbCIsInF1YW4iLCJsaXN0QXBwbHkiLCJsaXN0RmllbGQiLCJOYXZiYXIiLCJTbGlkZXIiLCJzbGlkZXIiLCJnZXRFbGVtZW50QnlJZCIsIlJlZ2lzdHJhdGlvbiIsImluQnV0dCIsInJlZ0J1dHQiLCJpbkZvcm0iLCJyZWdGb3JtIiwiRHJvcGRvd25FbGVtcyIsImNsaWNrRXZlbnQiLCJFdmVudCIsImRpc3BhdGNoRXZlbnQiLCJjaGVja2JveEVsZW1zIiwibG9nIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcsRUFBUEUsR0FBOEIsaUJBQVZGLEdBQXNCQSxHQUFTQSxFQUFNRyxXQUFZLE9BQU9ILEVBQ2hGLElBQUlJLEVBQUtYLE9BQU9ZLE9BQU8sTUFHdkIsR0FGQTFCLEVBQW9Ca0IsRUFBRU8sR0FDdEJYLE9BQU9DLGVBQWVVLEVBQUksVUFBVyxD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Z0J4UixTQUFTbVAsdUJBQXVCLDBDQUNoRHNDLEVBQWEsSUFBSUMsTUFBTSxTQUU3QmpyQixNQUFNc1UsS0FBS3lXLEVBQWdCdkksSUFDekJBLEVBQUt1RyxjQUFjLHVCQUF1Qm1DLGNBQWNGLEtBRzFELE1BQU1HLEVBQWdCNVIsU0FBU21QLHVCQUF1QiwrQ0FDdEQxb0IsTUFBTXNVLEtBQUs2VyxFQUFnQjNJLElBQ3pCLE1BQU1xRyxFQUFhckcsRUFBS3VHLGNBQWMsdUJBQ25CdkcsRUFBS3VHLGNBQWMsK0JBQzNCelosVUFBVTBaLE9BQU8sd0NBQzVCSCxFQUFXdlosVUFBVTBaLE9BQU8sMkNBTWpCcDJCLE9BQ2YsTUFDQW9KLFFBQVFvdkIsSUFBSSxnQyIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJmdW5jdGlvbiBpbXBvcnRBbGwocikge1xyXG4gIHIua2V5cygpLmZvckVhY2gocik7XHJcbn1cclxuXHJcbmltcG9ydEFsbChyZXF1aXJlLmNvbnRleHQoXCIuL1wiLCB0cnVlLCAvXFwuKGpzfHM/Y3NzfHBuZ3xqcGU/Z3xnaWZ8c3ZnKSQvaSkpO1xyXG5cclxuaW1wb3J0IFwiLi9ibG9ja3MvZGF0ZXBpY2tlci0yZi9kYXRlcGlja2VyLmpzXCI7XHJcbmltcG9ydCBcIi4vYmxvY2tzL2RhdGVwaWNrZXItMmYvRGF0ZXBpY2tlci0yZi5qc1wiO1xyXG5pbXBvcnQgXCIuL2Jsb2Nrcy9kYXRlcGlja2VyLTFmL0RhdGVwaWNrZXItMWYuanNcIjtcclxuIiwiY2xhc3MgRGF0ZXBpY2tlcjFmIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuaW5pdCgpO1xyXG4gIH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIGNvbnN0IGRhdGVwaWNrZXJBcGlfMWYgPSAkKCcuZGF0ZXBpY2tlci0xZiAuZGF0ZXBpY2tlci0xZl9faW5wdXQtZmllbGQnKS5kYXRlcGlja2VyKCkuZGF0YSgnZGF0ZXBpY2tlcicpO1xyXG4gICAgY29uc3QgaW5EYXRlRmllbGRfMWYgPSAkKCcuZGF0ZXBpY2tlci0xZiAuZGF0ZXBpY2tlci0xZl9faW5wdXQtZmllbGQnKTtcclxuICAgIGluRGF0ZUZpZWxkXzFmLmRhdGVwaWNrZXIoe1xyXG4gICAgICBvblNlbGVjdDogKGZvcm1hdHRlZERhdGUpID0+IHtcclxuICAgICAgICBsZXQgcmVzRGF0ZSA9ICcnO1xyXG4gICAgICAgIGlmIChmb3JtYXR0ZWREYXRlKSB7XHJcbiAgICAgICAgICBpZiAoZm9ybWF0dGVkRGF0ZS5zcGxpdCgnIC0gJykubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICBsZXQgYXJyRGF0ZXMgPSBmb3JtYXR0ZWREYXRlLnRvTG93ZXJDYXNlKCkuc3BsaXQoJyAtICcpO1xyXG4gICAgICAgICAgICBhcnJEYXRlcyA9IGFyckRhdGVzLm1hcCh2YWwgPT4gdmFsLm1hdGNoKC9cXGR7Mn1cXHNb0LAt0Y/QkC3Qr117M30vKVswXSk7XHJcbiAgICAgICAgICAgIHJlc0RhdGUgPSBhcnJEYXRlcy5qb2luKCcgLSAnKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlc0RhdGUgPSBmb3JtYXR0ZWREYXRlLm1hdGNoKC9cXGR7Mn1cXHNb0LAt0Y/QkC3Qr117M30vKVswXTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaW5EYXRlRmllbGRfMWYudmFsKHJlc0RhdGUpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBpbkRhdGVGaWVsZF8xZi5kYXRlcGlja2VyKHtjbGVhckJ1dHRvbjogdHJ1ZX0pO1xyXG4gICAgaW5EYXRlRmllbGRfMWYuZGF0ZXBpY2tlcih7dG9kYXlCdXR0b246IHRydWV9KTtcclxuICAgIGluRGF0ZUZpZWxkXzFmLmRhdGVwaWNrZXIoe2RhdGVGb3JtYXQ6ICdkZCBNTSd9KTtcclxuICAgIGluRGF0ZUZpZWxkXzFmLmRhdGVwaWNrZXIoe3ByZXZIdG1sOiAnPGkgY2xhc3MgPSBcImRiLWFycm93IG1hdGVyaWFsLWljb25zXCI+YXJyb3dfYmFjazwvaT4nfSk7XHJcbiAgICBpbkRhdGVGaWVsZF8xZi5kYXRlcGlja2VyKHtuZXh0SHRtbDogJzxpIGNsYXNzID0gXCJkYi1hcnJvdyBtYXRlcmlhbC1pY29uc1wiPmFycm93X2ZvcndhcmQ8L2k+J30pO1xyXG4gICAgbGV0IGFwcGx5QnV0dCA9ICQoJy5kYXRlcGlja2VyLS1idXR0b25bZGF0YS1hY3Rpb249XCJ0b2RheVwiXScpO1xyXG4gICAgYXBwbHlCdXR0Lmh0bWwoJ9Cf0YDQuNC80LXQvdC40YLRjCcpO1xyXG4gICAgYXBwbHlCdXR0Lm9uKCdjbGljaycsICgpID0+IHtcclxuICAgICAgZGF0ZXBpY2tlckFwaV8xZiA/IGRhdGVwaWNrZXJBcGlfMWYuaGlkZSgpIDogbnVsbDtcclxuICAgIH0pO1xyXG4gICAgJCgnLmRhdGVwaWNrZXItMWZfX3dyYXBwZXItaW5wdXQtZmllbGQnKS5vbignY2xpY2snLCAoKSA9PiBkYXRlcGlja2VyQXBpXzFmLnNob3coKSk7XHJcbiAgfVxyXG59XHJcblxyXG5pZiAoJCgnLmpzLWRhdGVwaWNrZXItMWYnKSkge1xyXG4gIGNvbnN0IGRhdGVwaWNrZXIxZiA9IG5ldyBEYXRlcGlja2VyMWYoKTtcclxufVxyXG4iLCJjbGFzcyBEYXRlcGlja2VyMmYge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5pbml0KCk7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgY29uc3QgZGF0ZXBpY2tlckFwaV8yZiA9ICQoJy5qcy1kYXRlcGlja2VyLTJmX19pbnB1dC1maWVsZCcpLmRhdGVwaWNrZXIoKS5kYXRhKCdkYXRlcGlja2VyJyk7XHJcbiAgICBjb25zdCBvdXREYXRlRmllbGRfMmYgPSAkKCcuanMtZGF0ZXBpY2tlci0yZl9fb3V0LWRhdGUtZmllbGQnKTtcclxuICAgIGNvbnN0IGluRGF0ZUZpZWxkXzJmID0gJCgnLmpzLWRhdGVwaWNrZXItMmZfX2lucHV0LWZpZWxkJyk7XHJcbiAgICBpbkRhdGVGaWVsZF8yZi5kYXRlcGlja2VyKHtcclxuICAgICAgICBvblNlbGVjdDogKGZvcm1hdHRlZERhdGUpID0+IHtcclxuICAgICAgICAgICAgbGV0IGluRGF0ZSA9IGZvcm1hdHRlZERhdGUubWF0Y2goLy4rPyg/PVxcc3wkKS8pID8gZm9ybWF0dGVkRGF0ZS5tYXRjaCgvLis/KD89XFxzfCQpLylbMF0gOiAnJztcclxuICAgICAgICAgICAgbGV0IG91dERhdGUgPSBmb3JtYXR0ZWREYXRlLm1hdGNoKC8oPzw9XFxzLVxccykuKy8pID8gZm9ybWF0dGVkRGF0ZS5tYXRjaCgvKD88PVxccy1cXHMpLisvKVswXSA6ICcnO1xyXG4gICAgICAgICAgICBpbkRhdGVGaWVsZF8yZi52YWwoaW5EYXRlKTtcclxuICAgICAgICAgICAgb3V0RGF0ZUZpZWxkXzJmLnZhbChvdXREYXRlKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBpbkRhdGVGaWVsZF8yZi5kYXRlcGlja2VyKHtjbGVhckJ1dHRvbjogdHJ1ZX0pO1xyXG4gICAgaW5EYXRlRmllbGRfMmYuZGF0ZXBpY2tlcih7dG9kYXlCdXR0b246IHRydWV9KTtcclxuICAgIGluRGF0ZUZpZWxkXzJmLmRhdGVwaWNrZXIoe3ByZXZIdG1sOiAnPGkgY2xhc3MgPSBcImRiLWFycm93IG1hdGVyaWFsLWljb25zXCI+YXJyb3dfYmFjazwvaT4nfSk7XHJcbiAgICBpbkRhdGVGaWVsZF8yZi5kYXRlcGlja2VyKHtuZXh0SHRtbDogJzxpIGNsYXNzID0gXCJkYi1hcnJvdyBtYXRlcmlhbC1pY29uc1wiPmFycm93X2ZvcndhcmQ8L2k+J30pO1xyXG4gICAgY29uc3QgYXBwbHlCdXR0ID0gJCgnLmRhdGVwaWNrZXItLWJ1dHRvbltkYXRhLWFjdGlvbj1cInRvZGF5XCJdJyk7XHJcbiAgICBhcHBseUJ1dHQuaHRtbCgn0J/RgNC40LzQtdC90LjRgtGMJyk7XHJcbiAgICBhcHBseUJ1dHQub24oJ2NsaWNrJywgKCkgPT4gZGF0ZXBpY2tlckFwaV8yZi5oaWRlKCkpO1xyXG4gICAgJCgnLmpzLWRhdGVwaWNrZXItMmZfX3dyYXBwZXItaW5wdXQtZmllbGQnKS5vbignY2xpY2snLCAoKSA9PiBkYXRlcGlja2VyQXBpXzJmLnNob3coKSk7XHJcbiAgfVxyXG59XHJcblxyXG5pZiAoJCgnLmpzLWRhdGVwaWNrZXItMmYnKSkge1xyXG4gIGNvbnN0IGRhdGVwaWNrZXIyZiA9IG5ldyBEYXRlcGlja2VyMmYoKTtcclxufVxyXG4iLCI7KGZ1bmN0aW9uICh3aW5kb3csICQsIHVuZGVmaW5lZCkgeyA7KGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBWRVJTSU9OID0gJzIuMi4zJyxcclxuICAgICAgICBwbHVnaW5OYW1lID0gJ2RhdGVwaWNrZXInLFxyXG4gICAgICAgIGF1dG9Jbml0U2VsZWN0b3IgPSAnLmRhdGVwaWNrZXItaGVyZScsXHJcbiAgICAgICAgJGJvZHksICRkYXRlcGlja2Vyc0NvbnRhaW5lcixcclxuICAgICAgICBjb250YWluZXJCdWlsdCA9IGZhbHNlLFxyXG4gICAgICAgIGJhc2VUZW1wbGF0ZSA9ICcnICtcclxuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJkYXRlcGlja2VyXCI+JyArXHJcbiAgICAgICAgICAgICc8aSBjbGFzcz1cImRhdGVwaWNrZXItLXBvaW50ZXJcIj48L2k+JyArXHJcbiAgICAgICAgICAgICc8bmF2IGNsYXNzPVwiZGF0ZXBpY2tlci0tbmF2XCI+PC9uYXY+JyArXHJcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci0tY29udGVudFwiPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAnPC9kaXY+JyxcclxuICAgICAgICBkZWZhdWx0cyA9IHtcclxuICAgICAgICAgICAgY2xhc3NlczogJycsXHJcbiAgICAgICAgICAgIGlubGluZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGxhbmd1YWdlOiAncnUnLFxyXG4gICAgICAgICAgICBzdGFydERhdGU6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICAgIGZpcnN0RGF5OiAnJyxcclxuICAgICAgICAgICAgd2Vla2VuZHM6IFs2LCAwXSxcclxuICAgICAgICAgICAgZGF0ZUZvcm1hdDogJycsXHJcbiAgICAgICAgICAgIGFsdEZpZWxkOiAnJyxcclxuICAgICAgICAgICAgYWx0RmllbGREYXRlRm9ybWF0OiAnQCcsXHJcbiAgICAgICAgICAgIHRvZ2dsZVNlbGVjdGVkOiB0cnVlLFxyXG4gICAgICAgICAgICBrZXlib2FyZE5hdjogdHJ1ZSxcclxuXHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiAnYm90dG9tIGxlZnQnLFxyXG4gICAgICAgICAgICBvZmZzZXQ6IDEyLFxyXG5cclxuICAgICAgICAgICAgdmlldzogJ2RheXMnLFxyXG4gICAgICAgICAgICBtaW5WaWV3OiAnZGF5cycsXHJcblxyXG4gICAgICAgICAgICBzaG93T3RoZXJNb250aHM6IHRydWUsXHJcbiAgICAgICAgICAgIHNlbGVjdE90aGVyTW9udGhzOiB0cnVlLFxyXG4gICAgICAgICAgICBtb3ZlVG9PdGhlck1vbnRoc09uU2VsZWN0OiB0cnVlLFxyXG5cclxuICAgICAgICAgICAgc2hvd090aGVyWWVhcnM6IHRydWUsXHJcbiAgICAgICAgICAgIHNlbGVjdE90aGVyWWVhcnM6IHRydWUsXHJcbiAgICAgICAgICAgIG1vdmVUb090aGVyWWVhcnNPblNlbGVjdDogdHJ1ZSxcclxuXHJcbiAgICAgICAgICAgIG1pbkRhdGU6ICcnLFxyXG4gICAgICAgICAgICBtYXhEYXRlOiAnJyxcclxuICAgICAgICAgICAgZGlzYWJsZU5hdldoZW5PdXRPZlJhbmdlOiB0cnVlLFxyXG5cclxuICAgICAgICAgICAgbXVsdGlwbGVEYXRlczogZmFsc2UsIC8vIEJvb2xlYW4gb3IgTnVtYmVyXHJcbiAgICAgICAgICAgIG11bHRpcGxlRGF0ZXNTZXBhcmF0b3I6ICcsJyxcclxuICAgICAgICAgICAgcmFuZ2U6IGZhbHNlLFxyXG5cclxuICAgICAgICAgICAgdG9kYXlCdXR0b246IGZhbHNlLFxyXG4gICAgICAgICAgICBjbGVhckJ1dHRvbjogZmFsc2UsXHJcblxyXG4gICAgICAgICAgICBzaG93RXZlbnQ6ICdmb2N1cycsXHJcbiAgICAgICAgICAgIGF1dG9DbG9zZTogZmFsc2UsXHJcblxyXG4gICAgICAgICAgICAvLyBuYXZpZ2F0aW9uXHJcbiAgICAgICAgICAgIG1vbnRoc0ZpZWxkOiAnbW9udGhzU2hvcnQnLFxyXG4gICAgICAgICAgICBwcmV2SHRtbDogJzxzdmc+PHBhdGggZD1cIk0gMTcsMTIgbCAtNSw1IGwgNSw1XCI+PC9wYXRoPjwvc3ZnPicsICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIG5leHRIdG1sOiAnPHN2Zz48cGF0aCBkPVwiTSAxNCwxMiBsIDUsNSBsIC01LDVcIj48L3BhdGg+PC9zdmc+JywgICAgICAgICAgICBcclxuICAgICAgICAgICAgbmF2VGl0bGVzOiB7XHJcbiAgICAgICAgICAgICAgICAvL2RheXM6ICdNTSwgPGk+eXl5eTwvaT4nLFxyXG4gICAgICAgICAgICAgICAgZGF5czogJ01NIDxpPnl5eXk8L2k+JyxcclxuICAgICAgICAgICAgICAgIG1vbnRoczogJ3l5eXknLFxyXG4gICAgICAgICAgICAgICAgeWVhcnM6ICd5eXl5MSAtIHl5eXkyJ1xyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgLy8gdGltZXBpY2tlclxyXG4gICAgICAgICAgICB0aW1lcGlja2VyOiBmYWxzZSxcclxuICAgICAgICAgICAgb25seVRpbWVwaWNrZXI6IGZhbHNlLFxyXG4gICAgICAgICAgICBkYXRlVGltZVNlcGFyYXRvcjogJyAnLFxyXG4gICAgICAgICAgICB0aW1lRm9ybWF0OiAnJyxcclxuICAgICAgICAgICAgbWluSG91cnM6IDAsXHJcbiAgICAgICAgICAgIG1heEhvdXJzOiAyNCxcclxuICAgICAgICAgICAgbWluTWludXRlczogMCxcclxuICAgICAgICAgICAgbWF4TWludXRlczogNTksXHJcbiAgICAgICAgICAgIGhvdXJzU3RlcDogMSxcclxuICAgICAgICAgICAgbWludXRlc1N0ZXA6IDEsXHJcblxyXG4gICAgICAgICAgICAvLyBldmVudHNcclxuICAgICAgICAgICAgb25TZWxlY3Q6ICcnLFxyXG4gICAgICAgICAgICBvblNob3c6ICcnLFxyXG4gICAgICAgICAgICBvbkhpZGU6ICcnLFxyXG4gICAgICAgICAgICBvbkNoYW5nZU1vbnRoOiAnJyxcclxuICAgICAgICAgICAgb25DaGFuZ2VZZWFyOiAnJyxcclxuICAgICAgICAgICAgb25DaGFuZ2VEZWNhZGU6ICcnLFxyXG4gICAgICAgICAgICBvbkNoYW5nZVZpZXc6ICcnLFxyXG4gICAgICAgICAgICBvblJlbmRlckNlbGw6ICcnXHJcbiAgICAgICAgfSxcclxuICAgICAgICBob3RLZXlzID0ge1xyXG4gICAgICAgICAgICAnY3RybFJpZ2h0JzogWzE3LCAzOV0sXHJcbiAgICAgICAgICAgICdjdHJsVXAnOiBbMTcsIDM4XSxcclxuICAgICAgICAgICAgJ2N0cmxMZWZ0JzogWzE3LCAzN10sXHJcbiAgICAgICAgICAgICdjdHJsRG93bic6IFsxNywgNDBdLFxyXG4gICAgICAgICAgICAnc2hpZnRSaWdodCc6IFsxNiwgMzldLFxyXG4gICAgICAgICAgICAnc2hpZnRVcCc6IFsxNiwgMzhdLFxyXG4gICAgICAgICAgICAnc2hpZnRMZWZ0JzogWzE2LCAzN10sXHJcbiAgICAgICAgICAgICdzaGlmdERvd24nOiBbMTYsIDQwXSxcclxuICAgICAgICAgICAgJ2FsdFVwJzogWzE4LCAzOF0sXHJcbiAgICAgICAgICAgICdhbHRSaWdodCc6IFsxOCwgMzldLFxyXG4gICAgICAgICAgICAnYWx0TGVmdCc6IFsxOCwgMzddLFxyXG4gICAgICAgICAgICAnYWx0RG93bic6IFsxOCwgNDBdLFxyXG4gICAgICAgICAgICAnY3RybFNoaWZ0VXAnOiBbMTYsIDE3LCAzOF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGRhdGVwaWNrZXI7XHJcblxyXG4gICAgdmFyIERhdGVwaWNrZXIgID0gZnVuY3Rpb24gKGVsLCBvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5lbCA9IGVsO1xyXG4gICAgICAgIHRoaXMuJGVsID0gJChlbCk7XHJcblxyXG4gICAgICAgIHRoaXMub3B0cyA9ICQuZXh0ZW5kKHRydWUsIHt9LCBkZWZhdWx0cywgb3B0aW9ucywgdGhpcy4kZWwuZGF0YSgpKTtcclxuXHJcbiAgICAgICAgaWYgKCRib2R5ID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAkYm9keSA9ICQoJ2JvZHknKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5vcHRzLnN0YXJ0RGF0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLm9wdHMuc3RhcnREYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmVsLm5vZGVOYW1lID09ICdJTlBVVCcpIHtcclxuICAgICAgICAgICAgdGhpcy5lbElzSW5wdXQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMub3B0cy5hbHRGaWVsZCkge1xyXG4gICAgICAgICAgICB0aGlzLiRhbHRGaWVsZCA9IHR5cGVvZiB0aGlzLm9wdHMuYWx0RmllbGQgPT0gJ3N0cmluZycgPyAkKHRoaXMub3B0cy5hbHRGaWVsZCkgOiB0aGlzLm9wdHMuYWx0RmllbGQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmluaXRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc2lsZW50ID0gZmFsc2U7IC8vIE5lZWQgdG8gcHJldmVudCB1bm5lY2Vzc2FyeSByZW5kZXJpbmdcclxuXHJcbiAgICAgICAgdGhpcy5jdXJyZW50RGF0ZSA9IHRoaXMub3B0cy5zdGFydERhdGU7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50VmlldyA9IHRoaXMub3B0cy52aWV3O1xyXG4gICAgICAgIHRoaXMuX2NyZWF0ZVNob3J0Q3V0cygpO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWREYXRlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMudmlld3MgPSB7fTtcclxuICAgICAgICB0aGlzLmtleXMgPSBbXTtcclxuICAgICAgICB0aGlzLm1pblJhbmdlID0gJyc7XHJcbiAgICAgICAgdGhpcy5tYXhSYW5nZSA9ICcnO1xyXG4gICAgICAgIHRoaXMuX3ByZXZPblNlbGVjdFZhbHVlID0gJyc7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdCgpXHJcbiAgICB9O1xyXG5cclxuICAgIGRhdGVwaWNrZXIgPSBEYXRlcGlja2VyO1xyXG5cclxuICAgIGRhdGVwaWNrZXIucHJvdG90eXBlID0ge1xyXG4gICAgICAgIFZFUlNJT046IFZFUlNJT04sXHJcbiAgICAgICAgdmlld0luZGV4ZXM6IFsnZGF5cycsICdtb250aHMnLCAneWVhcnMnXSxcclxuXHJcbiAgICAgICAgaW5pdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoIWNvbnRhaW5lckJ1aWx0ICYmICF0aGlzLm9wdHMuaW5saW5lICYmIHRoaXMuZWxJc0lucHV0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9idWlsZERhdGVwaWNrZXJzQ29udGFpbmVyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fYnVpbGRCYXNlSHRtbCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9kZWZpbmVMb2NhbGUodGhpcy5vcHRzLmxhbmd1YWdlKTtcclxuICAgICAgICAgICAgdGhpcy5fc3luY1dpdGhNaW5NYXhEYXRlcygpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuZWxJc0lucHV0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMub3B0cy5pbmxpbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBTZXQgZXh0cmEgY2xhc3NlcyBmb3IgcHJvcGVyIHRyYW5zaXRpb25zXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2V0UG9zaXRpb25DbGFzc2VzKHRoaXMub3B0cy5wb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYmluZEV2ZW50cygpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRzLmtleWJvYXJkTmF2ICYmICF0aGlzLm9wdHMub25seVRpbWVwaWNrZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9iaW5kS2V5Ym9hcmRFdmVudHMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuJGRhdGVwaWNrZXIub24oJ21vdXNlZG93bicsIHRoaXMuX29uTW91c2VEb3duRGF0ZXBpY2tlci5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuJGRhdGVwaWNrZXIub24oJ21vdXNldXAnLCB0aGlzLl9vbk1vdXNlVXBEYXRlcGlja2VyLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLmNsYXNzZXMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuJGRhdGVwaWNrZXIuYWRkQ2xhc3ModGhpcy5vcHRzLmNsYXNzZXMpXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdHMudGltZXBpY2tlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50aW1lcGlja2VyID0gbmV3ICQuZm4uZGF0ZXBpY2tlci5UaW1lcGlja2VyKHRoaXMsIHRoaXMub3B0cyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9iaW5kVGltZXBpY2tlckV2ZW50cygpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLm9ubHlUaW1lcGlja2VyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRkYXRlcGlja2VyLmFkZENsYXNzKCctb25seS10aW1lcGlja2VyLScpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnZpZXdzW3RoaXMuY3VycmVudFZpZXddID0gbmV3ICQuZm4uZGF0ZXBpY2tlci5Cb2R5KHRoaXMsIHRoaXMuY3VycmVudFZpZXcsIHRoaXMub3B0cyk7XHJcbiAgICAgICAgICAgIHRoaXMudmlld3NbdGhpcy5jdXJyZW50Vmlld10uc2hvdygpO1xyXG4gICAgICAgICAgICB0aGlzLm5hdiA9IG5ldyAkLmZuLmRhdGVwaWNrZXIuTmF2aWdhdGlvbih0aGlzLCB0aGlzLm9wdHMpO1xyXG4gICAgICAgICAgICB0aGlzLnZpZXcgPSB0aGlzLmN1cnJlbnRWaWV3O1xyXG5cclxuICAgICAgICAgICAgdGhpcy4kZWwub24oJ2NsaWNrQ2VsbC5hZHAnLCB0aGlzLl9vbkNsaWNrQ2VsbC5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgdGhpcy4kZGF0ZXBpY2tlci5vbignbW91c2VlbnRlcicsICcuZGF0ZXBpY2tlci0tY2VsbCcsIHRoaXMuX29uTW91c2VFbnRlckNlbGwuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIHRoaXMuJGRhdGVwaWNrZXIub24oJ21vdXNlbGVhdmUnLCAnLmRhdGVwaWNrZXItLWNlbGwnLCB0aGlzLl9vbk1vdXNlTGVhdmVDZWxsLmJpbmQodGhpcykpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pbml0ZWQgPSB0cnVlO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9jcmVhdGVTaG9ydEN1dHM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5taW5EYXRlID0gdGhpcy5vcHRzLm1pbkRhdGUgPyB0aGlzLm9wdHMubWluRGF0ZSA6IG5ldyBEYXRlKC04NjM5OTk5OTEzNjAwMDAwKTtcclxuICAgICAgICAgICAgdGhpcy5tYXhEYXRlID0gdGhpcy5vcHRzLm1heERhdGUgPyB0aGlzLm9wdHMubWF4RGF0ZSA6IG5ldyBEYXRlKDg2Mzk5OTk5MTM2MDAwMDApO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9iaW5kRXZlbnRzIDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLiRlbC5vbih0aGlzLm9wdHMuc2hvd0V2ZW50ICsgJy5hZHAnLCB0aGlzLl9vblNob3dFdmVudC5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgdGhpcy4kZWwub24oJ21vdXNldXAuYWRwJywgdGhpcy5fb25Nb3VzZVVwRWwuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIHRoaXMuJGVsLm9uKCdibHVyLmFkcCcsIHRoaXMuX29uQmx1ci5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgdGhpcy4kZWwub24oJ2tleXVwLmFkcCcsIHRoaXMuX29uS2V5VXBHZW5lcmFsLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICAkKHdpbmRvdykub24oJ3Jlc2l6ZS5hZHAnLCB0aGlzLl9vblJlc2l6ZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgJCgnYm9keScpLm9uKCdtb3VzZXVwLmFkcCcsIHRoaXMuX29uTW91c2VVcEJvZHkuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX2JpbmRLZXlib2FyZEV2ZW50czogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLiRlbC5vbigna2V5ZG93bi5hZHAnLCB0aGlzLl9vbktleURvd24uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIHRoaXMuJGVsLm9uKCdrZXl1cC5hZHAnLCB0aGlzLl9vbktleVVwLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICB0aGlzLiRlbC5vbignaG90S2V5LmFkcCcsIHRoaXMuX29uSG90S2V5LmJpbmQodGhpcykpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9iaW5kVGltZXBpY2tlckV2ZW50czogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLiRlbC5vbigndGltZUNoYW5nZS5hZHAnLCB0aGlzLl9vblRpbWVDaGFuZ2UuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgaXNXZWVrZW5kOiBmdW5jdGlvbiAoZGF5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdHMud2Vla2VuZHMuaW5kZXhPZihkYXkpICE9PSAtMTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfZGVmaW5lTG9jYWxlOiBmdW5jdGlvbiAobGFuZykge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGxhbmcgPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9jID0gJC5mbi5kYXRlcGlja2VyLmxhbmd1YWdlW2xhbmddO1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmxvYykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignQ2FuXFwndCBmaW5kIGxhbmd1YWdlIFwiJyArIGxhbmcgKyAnXCIgaW4gRGF0ZXBpY2tlci5sYW5ndWFnZSwgd2lsbCB1c2UgXCJydVwiIGluc3RlYWQnKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYyA9ICQuZXh0ZW5kKHRydWUsIHt9LCAkLmZuLmRhdGVwaWNrZXIubGFuZ3VhZ2UucnUpXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2MgPSAkLmV4dGVuZCh0cnVlLCB7fSwgJC5mbi5kYXRlcGlja2VyLmxhbmd1YWdlLnJ1LCAkLmZuLmRhdGVwaWNrZXIubGFuZ3VhZ2VbbGFuZ10pXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYyA9ICQuZXh0ZW5kKHRydWUsIHt9LCAkLmZuLmRhdGVwaWNrZXIubGFuZ3VhZ2UucnUsIGxhbmcpXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdHMuZGF0ZUZvcm1hdCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2MuZGF0ZUZvcm1hdCA9IHRoaXMub3B0cy5kYXRlRm9ybWF0XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdHMudGltZUZvcm1hdCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2MudGltZUZvcm1hdCA9IHRoaXMub3B0cy50aW1lRm9ybWF0XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdHMuZmlyc3REYXkgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYy5maXJzdERheSA9IHRoaXMub3B0cy5maXJzdERheVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLnRpbWVwaWNrZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9jLmRhdGVGb3JtYXQgPSBbdGhpcy5sb2MuZGF0ZUZvcm1hdCwgdGhpcy5sb2MudGltZUZvcm1hdF0uam9pbih0aGlzLm9wdHMuZGF0ZVRpbWVTZXBhcmF0b3IpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLm9ubHlUaW1lcGlja2VyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYy5kYXRlRm9ybWF0ID0gdGhpcy5sb2MudGltZUZvcm1hdDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGJvdW5kYXJ5ID0gdGhpcy5fZ2V0V29yZEJvdW5kYXJ5UmVnRXhwO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5sb2MudGltZUZvcm1hdC5tYXRjaChib3VuZGFyeSgnYWEnKSkgfHxcclxuICAgICAgICAgICAgICAgIHRoaXMubG9jLnRpbWVGb3JtYXQubWF0Y2goYm91bmRhcnkoJ0FBJykpXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICB0aGlzLmFtcG0gPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX2J1aWxkRGF0ZXBpY2tlcnNDb250YWluZXI6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyQnVpbHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAkYm9keS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJkYXRlcGlja2Vycy1jb250YWluZXJcIiBpZD1cImRhdGVwaWNrZXJzLWNvbnRhaW5lclwiPjwvZGl2PicpO1xyXG4gICAgICAgICAgICAkZGF0ZXBpY2tlcnNDb250YWluZXIgPSAkKCcjZGF0ZXBpY2tlcnMtY29udGFpbmVyJyk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX2J1aWxkQmFzZUh0bWw6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyICRhcHBlbmRUYXJnZXQsXHJcbiAgICAgICAgICAgICAgICAkaW5saW5lID0gJCgnPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItaW5saW5lXCI+Jyk7XHJcblxyXG4gICAgICAgICAgICBpZih0aGlzLmVsLm5vZGVOYW1lID09ICdJTlBVVCcpIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5vcHRzLmlubGluZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRhcHBlbmRUYXJnZXQgPSAkZGF0ZXBpY2tlcnNDb250YWluZXI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICRhcHBlbmRUYXJnZXQgPSAkaW5saW5lLmluc2VydEFmdGVyKHRoaXMuJGVsKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJGFwcGVuZFRhcmdldCA9ICRpbmxpbmUuYXBwZW5kVG8odGhpcy4kZWwpXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuJGRhdGVwaWNrZXIgPSAkKGJhc2VUZW1wbGF0ZSkuYXBwZW5kVG8oJGFwcGVuZFRhcmdldCk7XHJcbiAgICAgICAgICAgIHRoaXMuJGNvbnRlbnQgPSAkKCcuZGF0ZXBpY2tlci0tY29udGVudCcsIHRoaXMuJGRhdGVwaWNrZXIpO1xyXG4gICAgICAgICAgICB0aGlzLiRuYXYgPSAkKCcuZGF0ZXBpY2tlci0tbmF2JywgdGhpcy4kZGF0ZXBpY2tlcik7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX3RyaWdnZXJPbkNoYW5nZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuc2VsZWN0ZWREYXRlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgZnJvbSB0cmlnZ2VyaW5nIG11bHRpcGxlIG9uU2VsZWN0IGNhbGxiYWNrIHdpdGggc2FtZSBhcmd1bWVudCAoZW1wdHkgc3RyaW5nKSBpbiBJRTEwLTExXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fcHJldk9uU2VsZWN0VmFsdWUgPT09ICcnKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wcmV2T25TZWxlY3RWYWx1ZSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub3B0cy5vblNlbGVjdCgnJywgJycsIHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWREYXRlcyA9IHRoaXMuc2VsZWN0ZWREYXRlcyxcclxuICAgICAgICAgICAgICAgIHBhcnNlZFNlbGVjdGVkID0gZGF0ZXBpY2tlci5nZXRQYXJzZWREYXRlKHNlbGVjdGVkRGF0ZXNbMF0pLFxyXG4gICAgICAgICAgICAgICAgZm9ybWF0dGVkRGF0ZXMsXHJcbiAgICAgICAgICAgICAgICBfdGhpcyA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBkYXRlcyA9IG5ldyBEYXRlKFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlZFNlbGVjdGVkLnllYXIsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkU2VsZWN0ZWQubW9udGgsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkU2VsZWN0ZWQuZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICBwYXJzZWRTZWxlY3RlZC5ob3VycyxcclxuICAgICAgICAgICAgICAgICAgICBwYXJzZWRTZWxlY3RlZC5taW51dGVzXHJcbiAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvcm1hdHRlZERhdGVzID0gc2VsZWN0ZWREYXRlcy5tYXAoZnVuY3Rpb24gKGRhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZm9ybWF0RGF0ZShfdGhpcy5sb2MuZGF0ZUZvcm1hdCwgZGF0ZSlcclxuICAgICAgICAgICAgICAgIH0pLmpvaW4odGhpcy5vcHRzLm11bHRpcGxlRGF0ZXNTZXBhcmF0b3IpO1xyXG5cclxuICAgICAgICAgICAgLy8gQ3JlYXRlIG5ldyBkYXRlcyBhcnJheSwgdG8gc2VwYXJhdGUgaXQgZnJvbSBvcmlnaW5hbCBzZWxlY3RlZERhdGVzXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdHMubXVsdGlwbGVEYXRlcyB8fCB0aGlzLm9wdHMucmFuZ2UpIHtcclxuICAgICAgICAgICAgICAgIGRhdGVzID0gc2VsZWN0ZWREYXRlcy5tYXAoZnVuY3Rpb24oZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJzZWREYXRlID0gZGF0ZXBpY2tlci5nZXRQYXJzZWREYXRlKGRhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkRGF0ZS55ZWFyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWREYXRlLm1vbnRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWREYXRlLmRhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZERhdGUuaG91cnMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZERhdGUubWludXRlc1xyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9wcmV2T25TZWxlY3RWYWx1ZSA9IGZvcm1hdHRlZERhdGVzO1xyXG4gICAgICAgICAgICB0aGlzLm9wdHMub25TZWxlY3QoZm9ybWF0dGVkRGF0ZXMsIGRhdGVzLCB0aGlzKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBkID0gdGhpcy5wYXJzZWREYXRlLFxyXG4gICAgICAgICAgICAgICAgbyA9IHRoaXMub3B0cztcclxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLnZpZXcpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2RheXMnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0ZSA9IG5ldyBEYXRlKGQueWVhciwgZC5tb250aCArIDEsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvLm9uQ2hhbmdlTW9udGgpIG8ub25DaGFuZ2VNb250aCh0aGlzLnBhcnNlZERhdGUubW9udGgsIHRoaXMucGFyc2VkRGF0ZS55ZWFyKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ21vbnRocyc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRlID0gbmV3IERhdGUoZC55ZWFyICsgMSwgZC5tb250aCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG8ub25DaGFuZ2VZZWFyKSBvLm9uQ2hhbmdlWWVhcih0aGlzLnBhcnNlZERhdGUueWVhcik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICd5ZWFycyc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRlID0gbmV3IERhdGUoZC55ZWFyICsgMTAsIDAsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvLm9uQ2hhbmdlRGVjYWRlKSBvLm9uQ2hhbmdlRGVjYWRlKHRoaXMuY3VyRGVjYWRlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHByZXY6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGQgPSB0aGlzLnBhcnNlZERhdGUsXHJcbiAgICAgICAgICAgICAgICBvID0gdGhpcy5vcHRzO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMudmlldykge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnZGF5cyc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRlID0gbmV3IERhdGUoZC55ZWFyLCBkLm1vbnRoIC0gMSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG8ub25DaGFuZ2VNb250aCkgby5vbkNoYW5nZU1vbnRoKHRoaXMucGFyc2VkRGF0ZS5tb250aCwgdGhpcy5wYXJzZWREYXRlLnllYXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbW9udGhzJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGUgPSBuZXcgRGF0ZShkLnllYXIgLSAxLCBkLm1vbnRoLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoby5vbkNoYW5nZVllYXIpIG8ub25DaGFuZ2VZZWFyKHRoaXMucGFyc2VkRGF0ZS55ZWFyKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3llYXJzJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGUgPSBuZXcgRGF0ZShkLnllYXIgLSAxMCwgMCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG8ub25DaGFuZ2VEZWNhZGUpIG8ub25DaGFuZ2VEZWNhZGUodGhpcy5jdXJEZWNhZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZm9ybWF0RGF0ZTogZnVuY3Rpb24gKHN0cmluZywgZGF0ZSkge1xyXG4gICAgICAgICAgICBkYXRlID0gZGF0ZSB8fCB0aGlzLmRhdGU7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBzdHJpbmcsXHJcbiAgICAgICAgICAgICAgICBib3VuZGFyeSA9IHRoaXMuX2dldFdvcmRCb3VuZGFyeVJlZ0V4cCxcclxuICAgICAgICAgICAgICAgIGxvY2FsZSA9IHRoaXMubG9jLFxyXG4gICAgICAgICAgICAgICAgbGVhZGluZ1plcm8gPSBkYXRlcGlja2VyLmdldExlYWRpbmdaZXJvTnVtLFxyXG4gICAgICAgICAgICAgICAgZGVjYWRlID0gZGF0ZXBpY2tlci5nZXREZWNhZGUoZGF0ZSksXHJcbiAgICAgICAgICAgICAgICBkID0gZGF0ZXBpY2tlci5nZXRQYXJzZWREYXRlKGRhdGUpLFxyXG4gICAgICAgICAgICAgICAgZnVsbEhvdXJzID0gZC5mdWxsSG91cnMsXHJcbiAgICAgICAgICAgICAgICBob3VycyA9IGQuaG91cnMsXHJcbiAgICAgICAgICAgICAgICBhbXBtID0gc3RyaW5nLm1hdGNoKGJvdW5kYXJ5KCdhYScpKSB8fCBzdHJpbmcubWF0Y2goYm91bmRhcnkoJ0FBJykpLFxyXG4gICAgICAgICAgICAgICAgZGF5UGVyaW9kID0gJ2FtJyxcclxuICAgICAgICAgICAgICAgIHJlcGxhY2VyID0gdGhpcy5fcmVwbGFjZXIsXHJcbiAgICAgICAgICAgICAgICB2YWxpZEhvdXJzO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy50aW1lcGlja2VyICYmIHRoaXMudGltZXBpY2tlciAmJiBhbXBtKSB7XHJcbiAgICAgICAgICAgICAgICB2YWxpZEhvdXJzID0gdGhpcy50aW1lcGlja2VyLl9nZXRWYWxpZEhvdXJzRnJvbURhdGUoZGF0ZSwgYW1wbSk7XHJcbiAgICAgICAgICAgICAgICBmdWxsSG91cnMgPSBsZWFkaW5nWmVybyh2YWxpZEhvdXJzLmhvdXJzKTtcclxuICAgICAgICAgICAgICAgIGhvdXJzID0gdmFsaWRIb3Vycy5ob3VycztcclxuICAgICAgICAgICAgICAgIGRheVBlcmlvZCA9IHZhbGlkSG91cnMuZGF5UGVyaW9kO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzd2l0Y2ggKHRydWUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgL0AvLnRlc3QocmVzdWx0KTpcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZSgvQC8sIGRhdGUuZ2V0VGltZSgpKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgL2FhLy50ZXN0KHJlc3VsdCk6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVwbGFjZXIocmVzdWx0LCBib3VuZGFyeSgnYWEnKSwgZGF5UGVyaW9kKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgL0FBLy50ZXN0KHJlc3VsdCk6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVwbGFjZXIocmVzdWx0LCBib3VuZGFyeSgnQUEnKSwgZGF5UGVyaW9kLnRvVXBwZXJDYXNlKCkpO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAvZGQvLnRlc3QocmVzdWx0KTpcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXBsYWNlcihyZXN1bHQsIGJvdW5kYXJ5KCdkZCcpLCBkLmZ1bGxEYXRlKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgL2QvLnRlc3QocmVzdWx0KTpcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXBsYWNlcihyZXN1bHQsIGJvdW5kYXJ5KCdkJyksIGQuZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIC9ERC8udGVzdChyZXN1bHQpOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlcGxhY2VyKHJlc3VsdCwgYm91bmRhcnkoJ0REJyksIGxvY2FsZS5kYXlzW2QuZGF5XSk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIC9ELy50ZXN0KHJlc3VsdCk6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVwbGFjZXIocmVzdWx0LCBib3VuZGFyeSgnRCcpLCBsb2NhbGUuZGF5c1Nob3J0W2QuZGF5XSk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIC9tbS8udGVzdChyZXN1bHQpOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlcGxhY2VyKHJlc3VsdCwgYm91bmRhcnkoJ21tJyksIGQuZnVsbE1vbnRoKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgL20vLnRlc3QocmVzdWx0KTpcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXBsYWNlcihyZXN1bHQsIGJvdW5kYXJ5KCdtJyksIGQubW9udGggKyAxKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgL01NLy50ZXN0KHJlc3VsdCk6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVwbGFjZXIocmVzdWx0LCBib3VuZGFyeSgnTU0nKSwgdGhpcy5sb2MubW9udGhzW2QubW9udGhdKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgL00vLnRlc3QocmVzdWx0KTpcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXBsYWNlcihyZXN1bHQsIGJvdW5kYXJ5KCdNJyksIGxvY2FsZS5tb250aHNTaG9ydFtkLm1vbnRoXSk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIC9paS8udGVzdChyZXN1bHQpOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlcGxhY2VyKHJlc3VsdCwgYm91bmRhcnkoJ2lpJyksIGQuZnVsbE1pbnV0ZXMpO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAvaS8udGVzdChyZXN1bHQpOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlcGxhY2VyKHJlc3VsdCwgYm91bmRhcnkoJ2knKSwgZC5taW51dGVzKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgL2hoLy50ZXN0KHJlc3VsdCk6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVwbGFjZXIocmVzdWx0LCBib3VuZGFyeSgnaGgnKSwgZnVsbEhvdXJzKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgL2gvLnRlc3QocmVzdWx0KTpcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXBsYWNlcihyZXN1bHQsIGJvdW5kYXJ5KCdoJyksIGhvdXJzKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgL3l5eXkvLnRlc3QocmVzdWx0KTpcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXBsYWNlcihyZXN1bHQsIGJvdW5kYXJ5KCd5eXl5JyksIGQueWVhcik7XHJcbiAgICAgICAgICAgICAgICBjYXNlIC95eXl5MS8udGVzdChyZXN1bHQpOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlcGxhY2VyKHJlc3VsdCwgYm91bmRhcnkoJ3l5eXkxJyksIGRlY2FkZVswXSk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIC95eXl5Mi8udGVzdChyZXN1bHQpOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlcGxhY2VyKHJlc3VsdCwgYm91bmRhcnkoJ3l5eXkyJyksIGRlY2FkZVsxXSk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIC95eS8udGVzdChyZXN1bHQpOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlcGxhY2VyKHJlc3VsdCwgYm91bmRhcnkoJ3l5JyksIGQueWVhci50b1N0cmluZygpLnNsaWNlKC0yKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX3JlcGxhY2VyOiBmdW5jdGlvbiAoc3RyLCByZWcsIGRhdGEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKHJlZywgZnVuY3Rpb24gKG1hdGNoLCBwMSxwMixwMykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHAxICsgZGF0YSArIHAzO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9nZXRXb3JkQm91bmRhcnlSZWdFeHA6IGZ1bmN0aW9uIChzaWduKSB7XHJcbiAgICAgICAgICAgIHZhciBzeW1ib2xzID0gJ1xcXFxzfFxcXFwufC18L3xcXFxcXFxcXHwsfFxcXFwkfFxcXFwhfFxcXFw/fDp8Oyc7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCgnKF58PnwnICsgc3ltYm9scyArICcpKCcgKyBzaWduICsgJykoJHw8fCcgKyBzeW1ib2xzICsgJyknLCAnZycpO1xyXG4gICAgICAgIH0sXHJcblxyXG5cclxuICAgICAgICBzZWxlY3REYXRlOiBmdW5jdGlvbiAoZGF0ZSkge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzLFxyXG4gICAgICAgICAgICAgICAgb3B0cyA9IF90aGlzLm9wdHMsXHJcbiAgICAgICAgICAgICAgICBkID0gX3RoaXMucGFyc2VkRGF0ZSxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkRGF0ZXMgPSBfdGhpcy5zZWxlY3RlZERhdGVzLFxyXG4gICAgICAgICAgICAgICAgbGVuID0gc2VsZWN0ZWREYXRlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBuZXdEYXRlID0gJyc7XHJcblxyXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgZGF0ZS5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2VsZWN0RGF0ZShkKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghKGRhdGUgaW5zdGFuY2VvZiBEYXRlKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5sYXN0U2VsZWN0ZWREYXRlID0gZGF0ZTtcclxuXHJcbiAgICAgICAgICAgIC8vIFNldCBuZXcgdGltZSB2YWx1ZXMgZnJvbSBEYXRlXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRpbWVwaWNrZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGltZXBpY2tlci5fc2V0VGltZShkYXRlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gT24gdGhpcyBzdGVwIHRpbWVwaWNrZXIgd2lsbCBzZXQgdmFsaWQgdmFsdWVzIGluIGl0J3MgaW5zdGFuY2VcclxuICAgICAgICAgICAgX3RoaXMuX3RyaWdnZXIoJ3NlbGVjdERhdGUnLCBkYXRlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFNldCBjb3JyZWN0IHRpbWUgdmFsdWVzIGFmdGVyIHRpbWVwaWNrZXIncyB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgIC8vIFByZXZlbnQgZnJvbSBzZXR0aW5nIGhvdXJzIG9yIG1pbnV0ZXMgd2hpY2ggdmFsdWVzIGFyZSBsZXNzZXIgdGhlbiBgbWluYCB2YWx1ZSBvclxyXG4gICAgICAgICAgICAvLyBncmVhdGVyIHRoZW4gYG1heGAgdmFsdWVcclxuICAgICAgICAgICAgaWYgKHRoaXMudGltZXBpY2tlcikge1xyXG4gICAgICAgICAgICAgICAgZGF0ZS5zZXRIb3Vycyh0aGlzLnRpbWVwaWNrZXIuaG91cnMpO1xyXG4gICAgICAgICAgICAgICAgZGF0ZS5zZXRNaW51dGVzKHRoaXMudGltZXBpY2tlci5taW51dGVzKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoX3RoaXMudmlldyA9PSAnZGF5cycpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRlLmdldE1vbnRoKCkgIT0gZC5tb250aCAmJiBvcHRzLm1vdmVUb090aGVyTW9udGhzT25TZWxlY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdEYXRlID0gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoX3RoaXMudmlldyA9PSAneWVhcnMnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0ZS5nZXRGdWxsWWVhcigpICE9IGQueWVhciAmJiBvcHRzLm1vdmVUb090aGVyWWVhcnNPblNlbGVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0RhdGUgPSBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIDAsIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAobmV3RGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2lsZW50ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIF90aGlzLmRhdGUgPSBuZXdEYXRlO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2lsZW50ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5uYXYuX3JlbmRlcigpXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChvcHRzLm11bHRpcGxlRGF0ZXMgJiYgIW9wdHMucmFuZ2UpIHsgLy8gU2V0IHByaW9yaXR5IHRvIHJhbmdlIGZ1bmN0aW9uYWxpdHlcclxuICAgICAgICAgICAgICAgIGlmIChsZW4gPT09IG9wdHMubXVsdGlwbGVEYXRlcykgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5faXNTZWxlY3RlZChkYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNlbGVjdGVkRGF0ZXMucHVzaChkYXRlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChvcHRzLnJhbmdlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGVuID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZWxlY3RlZERhdGVzID0gW2RhdGVdO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm1pblJhbmdlID0gZGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5tYXhSYW5nZSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsZW4gPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNlbGVjdGVkRGF0ZXMucHVzaChkYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLm1heFJhbmdlKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubWF4UmFuZ2UgPSBkYXRlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm1pblJhbmdlID0gZGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU3dhcCBkYXRlcyBpZiB0aGV5IHdlcmUgc2VsZWN0ZWQgdmlhIGRwLnNlbGVjdERhdGUoKSBhbmQgc2Vjb25kIGRhdGUgd2FzIHNtYWxsZXIgdGhlbiBmaXJzdFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRlcGlja2VyLmJpZ2dlcihfdGhpcy5tYXhSYW5nZSwgX3RoaXMubWluUmFuZ2UpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm1heFJhbmdlID0gX3RoaXMubWluUmFuZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm1pblJhbmdlID0gZGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2VsZWN0ZWREYXRlcyA9IFtfdGhpcy5taW5SYW5nZSwgX3RoaXMubWF4UmFuZ2VdXHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZWxlY3RlZERhdGVzID0gW2RhdGVdO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm1pblJhbmdlID0gZGF0ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNlbGVjdGVkRGF0ZXMgPSBbZGF0ZV07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIF90aGlzLl9zZXRJbnB1dFZhbHVlKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAob3B0cy5vblNlbGVjdCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX3RyaWdnZXJPbkNoYW5nZSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAob3B0cy5hdXRvQ2xvc2UgJiYgIXRoaXMudGltZXBpY2tlcklzQWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIW9wdHMubXVsdGlwbGVEYXRlcyAmJiAhb3B0cy5yYW5nZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAob3B0cy5yYW5nZSAmJiBfdGhpcy5zZWxlY3RlZERhdGVzLmxlbmd0aCA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBfdGhpcy52aWV3c1t0aGlzLmN1cnJlbnRWaWV3XS5fcmVuZGVyKClcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICByZW1vdmVEYXRlOiBmdW5jdGlvbiAoZGF0ZSkge1xyXG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSB0aGlzLnNlbGVjdGVkRGF0ZXMsXHJcbiAgICAgICAgICAgICAgICBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICBpZiAoIShkYXRlIGluc3RhbmNlb2YgRGF0ZSkpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBzZWxlY3RlZC5zb21lKGZ1bmN0aW9uIChjdXJEYXRlLCBpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0ZXBpY2tlci5pc1NhbWUoY3VyRGF0ZSwgZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZC5zcGxpY2UoaSwgMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMuc2VsZWN0ZWREYXRlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubWluUmFuZ2UgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubWF4UmFuZ2UgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubGFzdFNlbGVjdGVkRGF0ZSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxhc3RTZWxlY3RlZERhdGUgPSBfdGhpcy5zZWxlY3RlZERhdGVzW190aGlzLnNlbGVjdGVkRGF0ZXMubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy52aWV3c1tfdGhpcy5jdXJyZW50Vmlld10uX3JlbmRlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9zZXRJbnB1dFZhbHVlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5vcHRzLm9uU2VsZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl90cmlnZ2VyT25DaGFuZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgdG9kYXk6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5zaWxlbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnZpZXcgPSB0aGlzLm9wdHMubWluVmlldztcclxuICAgICAgICAgICAgdGhpcy5zaWxlbnQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5kYXRlID0gbmV3IERhdGUoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdHMudG9kYXlCdXR0b24gaW5zdGFuY2VvZiBEYXRlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5vcHRzLnRvZGF5QnV0dG9uKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgY2xlYXI6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZERhdGVzID0gW107XHJcbiAgICAgICAgICAgIHRoaXMubWluUmFuZ2UgPSAnJztcclxuICAgICAgICAgICAgdGhpcy5tYXhSYW5nZSA9ICcnO1xyXG4gICAgICAgICAgICB0aGlzLnZpZXdzW3RoaXMuY3VycmVudFZpZXddLl9yZW5kZXIoKTtcclxuICAgICAgICAgICAgdGhpcy5fc2V0SW5wdXRWYWx1ZSgpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLm9uU2VsZWN0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyT25DaGFuZ2UoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVXBkYXRlcyBkYXRlcGlja2VyIG9wdGlvbnNcclxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IHBhcmFtIC0gcGFyYW1ldGVyJ3MgbmFtZSB0byB1cGRhdGUuIElmIG9iamVjdCB0aGVuIGl0IHdpbGwgZXh0ZW5kIGN1cnJlbnQgb3B0aW9uc1xyXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcnxPYmplY3R9IFt2YWx1ZV0gLSBuZXcgcGFyYW0gdmFsdWVcclxuICAgICAgICAgKi9cclxuICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uIChwYXJhbSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBsYXN0U2VsZWN0ZWREYXRlID0gdGhpcy5sYXN0U2VsZWN0ZWREYXRlO1xyXG5cclxuICAgICAgICAgICAgaWYgKGxlbiA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wdHNbcGFyYW1dID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGVuID09IDEgJiYgdHlwZW9mIHBhcmFtID09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wdHMgPSAkLmV4dGVuZCh0cnVlLCB0aGlzLm9wdHMsIHBhcmFtKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9jcmVhdGVTaG9ydEN1dHMoKTtcclxuICAgICAgICAgICAgdGhpcy5fc3luY1dpdGhNaW5NYXhEYXRlcygpO1xyXG4gICAgICAgICAgICB0aGlzLl9kZWZpbmVMb2NhbGUodGhpcy5vcHRzLmxhbmd1YWdlKTtcclxuICAgICAgICAgICAgdGhpcy5uYXYuX2FkZEJ1dHRvbnNJZk5lZWQoKTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLm9wdHMub25seVRpbWVwaWNrZXIpIHRoaXMubmF2Ll9yZW5kZXIoKTtcclxuICAgICAgICAgICAgdGhpcy52aWV3c1t0aGlzLmN1cnJlbnRWaWV3XS5fcmVuZGVyKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5lbElzSW5wdXQgJiYgIXRoaXMub3B0cy5pbmxpbmUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NldFBvc2l0aW9uQ2xhc3Nlcyh0aGlzLm9wdHMucG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudmlzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0UG9zaXRpb24odGhpcy5vcHRzLnBvc2l0aW9uKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLmNsYXNzZXMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuJGRhdGVwaWNrZXIuYWRkQ2xhc3ModGhpcy5vcHRzLmNsYXNzZXMpXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdHMub25seVRpbWVwaWNrZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuJGRhdGVwaWNrZXIuYWRkQ2xhc3MoJy1vbmx5LXRpbWVwaWNrZXItJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdHMudGltZXBpY2tlcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGxhc3RTZWxlY3RlZERhdGUpIHRoaXMudGltZXBpY2tlci5faGFuZGxlRGF0ZShsYXN0U2VsZWN0ZWREYXRlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGltZXBpY2tlci5fdXBkYXRlUmFuZ2VzKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWVwaWNrZXIuX3VwZGF0ZUN1cnJlbnRUaW1lKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBDaGFuZ2UgaG91cnMgYW5kIG1pbnV0ZXMgaWYgaXQncyB2YWx1ZXMgaGF2ZSBiZWVuIGNoYW5nZWQgdGhyb3VnaCBtaW4vbWF4IGhvdXJzL21pbnV0ZXNcclxuICAgICAgICAgICAgICAgIGlmIChsYXN0U2VsZWN0ZWREYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdFNlbGVjdGVkRGF0ZS5zZXRIb3Vycyh0aGlzLnRpbWVwaWNrZXIuaG91cnMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RTZWxlY3RlZERhdGUuc2V0TWludXRlcyh0aGlzLnRpbWVwaWNrZXIubWludXRlcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuX3NldElucHV0VmFsdWUoKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9zeW5jV2l0aE1pbk1heERhdGVzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJUaW1lID0gdGhpcy5kYXRlLmdldFRpbWUoKTtcclxuICAgICAgICAgICAgdGhpcy5zaWxlbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5taW5UaW1lID4gY3VyVGltZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRlID0gdGhpcy5taW5EYXRlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5tYXhUaW1lIDwgY3VyVGltZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRlID0gdGhpcy5tYXhEYXRlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2lsZW50ID0gZmFsc2U7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX2lzU2VsZWN0ZWQ6IGZ1bmN0aW9uIChjaGVja0RhdGUsIGNlbGxUeXBlKSB7XHJcbiAgICAgICAgICAgIHZhciByZXMgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZERhdGVzLnNvbWUoZnVuY3Rpb24gKGRhdGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRlcGlja2VyLmlzU2FtZShkYXRlLCBjaGVja0RhdGUsIGNlbGxUeXBlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcyA9IGRhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9zZXRJbnB1dFZhbHVlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBvcHRzID0gX3RoaXMub3B0cyxcclxuICAgICAgICAgICAgICAgIGZvcm1hdCA9IF90aGlzLmxvYy5kYXRlRm9ybWF0LFxyXG4gICAgICAgICAgICAgICAgYWx0Rm9ybWF0ID0gb3B0cy5hbHRGaWVsZERhdGVGb3JtYXQsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IF90aGlzLnNlbGVjdGVkRGF0ZXMubWFwKGZ1bmN0aW9uIChkYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmZvcm1hdERhdGUoZm9ybWF0LCBkYXRlKVxyXG4gICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICBhbHRWYWx1ZXM7XHJcblxyXG4gICAgICAgICAgICBpZiAob3B0cy5hbHRGaWVsZCAmJiBfdGhpcy4kYWx0RmllbGQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBhbHRWYWx1ZXMgPSB0aGlzLnNlbGVjdGVkRGF0ZXMubWFwKGZ1bmN0aW9uIChkYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmZvcm1hdERhdGUoYWx0Rm9ybWF0LCBkYXRlKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBhbHRWYWx1ZXMgPSBhbHRWYWx1ZXMuam9pbih0aGlzLm9wdHMubXVsdGlwbGVEYXRlc1NlcGFyYXRvcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRhbHRGaWVsZC52YWwoYWx0VmFsdWVzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5qb2luKHRoaXMub3B0cy5tdWx0aXBsZURhdGVzU2VwYXJhdG9yKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuJGVsLnZhbCh2YWx1ZSlcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDaGVjayBpZiBkYXRlIGlzIGJldHdlZW4gbWluRGF0ZSBhbmQgbWF4RGF0ZVxyXG4gICAgICAgICAqIEBwYXJhbSBkYXRlIHtvYmplY3R9IC0gZGF0ZSBvYmplY3RcclxuICAgICAgICAgKiBAcGFyYW0gdHlwZSB7c3RyaW5nfSAtIGNlbGwgdHlwZVxyXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgX2lzSW5SYW5nZTogZnVuY3Rpb24gKGRhdGUsIHR5cGUpIHtcclxuICAgICAgICAgICAgdmFyIHRpbWUgPSBkYXRlLmdldFRpbWUoKSxcclxuICAgICAgICAgICAgICAgIGQgPSBkYXRlcGlja2VyLmdldFBhcnNlZERhdGUoZGF0ZSksXHJcbiAgICAgICAgICAgICAgICBtaW4gPSBkYXRlcGlja2VyLmdldFBhcnNlZERhdGUodGhpcy5taW5EYXRlKSxcclxuICAgICAgICAgICAgICAgIG1heCA9IGRhdGVwaWNrZXIuZ2V0UGFyc2VkRGF0ZSh0aGlzLm1heERhdGUpLFxyXG4gICAgICAgICAgICAgICAgZE1pblRpbWUgPSBuZXcgRGF0ZShkLnllYXIsIGQubW9udGgsIG1pbi5kYXRlKS5nZXRUaW1lKCksXHJcbiAgICAgICAgICAgICAgICBkTWF4VGltZSA9IG5ldyBEYXRlKGQueWVhciwgZC5tb250aCwgbWF4LmRhdGUpLmdldFRpbWUoKSxcclxuICAgICAgICAgICAgICAgIHR5cGVzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGRheTogdGltZSA+PSB0aGlzLm1pblRpbWUgJiYgdGltZSA8PSB0aGlzLm1heFRpbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbW9udGg6IGRNaW5UaW1lID49IHRoaXMubWluVGltZSAmJiBkTWF4VGltZSA8PSB0aGlzLm1heFRpbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgeWVhcjogZC55ZWFyID49IG1pbi55ZWFyICYmIGQueWVhciA8PSBtYXgueWVhclxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmV0dXJuIHR5cGUgPyB0eXBlc1t0eXBlXSA6IHR5cGVzLmRheVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9nZXREaW1lbnNpb25zOiBmdW5jdGlvbiAoJGVsKSB7XHJcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSAkZWwub2Zmc2V0KCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6ICRlbC5vdXRlcldpZHRoKCksXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6ICRlbC5vdXRlckhlaWdodCgpLFxyXG4gICAgICAgICAgICAgICAgbGVmdDogb2Zmc2V0LmxlZnQsXHJcbiAgICAgICAgICAgICAgICB0b3A6IG9mZnNldC50b3BcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9nZXREYXRlRnJvbUNlbGw6IGZ1bmN0aW9uIChjZWxsKSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJEYXRlID0gdGhpcy5wYXJzZWREYXRlLFxyXG4gICAgICAgICAgICAgICAgeWVhciA9IGNlbGwuZGF0YSgneWVhcicpIHx8IGN1ckRhdGUueWVhcixcclxuICAgICAgICAgICAgICAgIG1vbnRoID0gY2VsbC5kYXRhKCdtb250aCcpID09IHVuZGVmaW5lZCA/IGN1ckRhdGUubW9udGggOiBjZWxsLmRhdGEoJ21vbnRoJyksXHJcbiAgICAgICAgICAgICAgICBkYXRlID0gY2VsbC5kYXRhKCdkYXRlJykgfHwgMTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgZGF0ZSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX3NldFBvc2l0aW9uQ2xhc3NlczogZnVuY3Rpb24gKHBvcykge1xyXG4gICAgICAgICAgICBwb3MgPSBwb3Muc3BsaXQoJyAnKTtcclxuICAgICAgICAgICAgdmFyIG1haW4gPSBwb3NbMF0sXHJcbiAgICAgICAgICAgICAgICBzZWMgPSBwb3NbMV0sXHJcbiAgICAgICAgICAgICAgICBjbGFzc2VzID0gJ2RhdGVwaWNrZXIgLScgKyBtYWluICsgJy0nICsgc2VjICsgJy0gLWZyb20tJyArIG1haW4gKyAnLSc7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy52aXNpYmxlKSBjbGFzc2VzICs9ICcgYWN0aXZlJztcclxuXHJcbiAgICAgICAgICAgIHRoaXMuJGRhdGVwaWNrZXJcclxuICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKCdjbGFzcycpXHJcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoY2xhc3Nlcyk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgc2V0UG9zaXRpb246IGZ1bmN0aW9uIChwb3NpdGlvbikge1xyXG4gICAgICAgICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uIHx8IHRoaXMub3B0cy5wb3NpdGlvbjtcclxuXHJcbiAgICAgICAgICAgIHZhciBkaW1zID0gdGhpcy5fZ2V0RGltZW5zaW9ucyh0aGlzLiRlbCksXHJcbiAgICAgICAgICAgICAgICBzZWxmRGltcyA9IHRoaXMuX2dldERpbWVuc2lvbnModGhpcy4kZGF0ZXBpY2tlciksXHJcbiAgICAgICAgICAgICAgICBwb3MgPSBwb3NpdGlvbi5zcGxpdCgnICcpLFxyXG4gICAgICAgICAgICAgICAgdG9wLCBsZWZ0LFxyXG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gdGhpcy5vcHRzLm9mZnNldCxcclxuICAgICAgICAgICAgICAgIG1haW4gPSBwb3NbMF0sXHJcbiAgICAgICAgICAgICAgICBzZWNvbmRhcnkgPSBwb3NbMV07XHJcblxyXG4gICAgICAgICAgICBzd2l0Y2ggKG1haW4pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3RvcCc6XHJcbiAgICAgICAgICAgICAgICAgICAgdG9wID0gZGltcy50b3AgLSBzZWxmRGltcy5oZWlnaHQgLSBvZmZzZXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdyaWdodCc6XHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdCA9IGRpbXMubGVmdCArIGRpbXMud2lkdGggKyBvZmZzZXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdib3R0b20nOlxyXG4gICAgICAgICAgICAgICAgICAgIHRvcCA9IGRpbXMudG9wICsgZGltcy5oZWlnaHQgKyBvZmZzZXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdsZWZ0JzpcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gZGltcy5sZWZ0IC0gc2VsZkRpbXMud2lkdGggLSBvZmZzZXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHN3aXRjaChzZWNvbmRhcnkpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3RvcCc6XHJcbiAgICAgICAgICAgICAgICAgICAgdG9wID0gZGltcy50b3A7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdyaWdodCc6XHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdCA9IGRpbXMubGVmdCArIGRpbXMud2lkdGggLSBzZWxmRGltcy53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6XHJcbiAgICAgICAgICAgICAgICAgICAgdG9wID0gZGltcy50b3AgKyBkaW1zLmhlaWdodCAtIHNlbGZEaW1zLmhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2xlZnQnOlxyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQgPSBkaW1zLmxlZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdjZW50ZXInOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgvbGVmdHxyaWdodC8udGVzdChtYWluKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3AgPSBkaW1zLnRvcCArIGRpbXMuaGVpZ2h0LzIgLSBzZWxmRGltcy5oZWlnaHQvMjtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gZGltcy5sZWZ0ICsgZGltcy53aWR0aC8yIC0gc2VsZkRpbXMud2lkdGgvMjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuJGRhdGVwaWNrZXJcclxuICAgICAgICAgICAgICAgIC5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IGxlZnQsXHJcbiAgICAgICAgICAgICAgICAgICAgdG9wOiB0b3BcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgc2hvdzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgb25TaG93ID0gdGhpcy5vcHRzLm9uU2hvdztcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2V0UG9zaXRpb24odGhpcy5vcHRzLnBvc2l0aW9uKTtcclxuICAgICAgICAgICAgdGhpcy4kZGF0ZXBpY2tlci5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICBpZiAob25TaG93KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9iaW5kVmlzaW9uRXZlbnRzKG9uU2hvdylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGhpZGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIG9uSGlkZSA9IHRoaXMub3B0cy5vbkhpZGU7XHJcblxyXG4gICAgICAgICAgICB0aGlzLiRkYXRlcGlja2VyXHJcbiAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiAnLTEwMDAwMHB4J1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZvY3VzZWQgPSAnJztcclxuICAgICAgICAgICAgdGhpcy5rZXlzID0gW107XHJcblxyXG4gICAgICAgICAgICB0aGlzLmluRm9jdXMgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuJGVsLmJsdXIoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChvbkhpZGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2JpbmRWaXNpb25FdmVudHMob25IaWRlKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZG93bjogZnVuY3Rpb24gKGRhdGUpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2hhbmdlVmlldyhkYXRlLCAnZG93bicpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHVwOiBmdW5jdGlvbiAoZGF0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9jaGFuZ2VWaWV3KGRhdGUsICd1cCcpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9iaW5kVmlzaW9uRXZlbnRzOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy4kZGF0ZXBpY2tlci5vZmYoJ3RyYW5zaXRpb25lbmQuZHAnKTtcclxuICAgICAgICAgICAgZXZlbnQodGhpcywgZmFsc2UpO1xyXG4gICAgICAgICAgICB0aGlzLiRkYXRlcGlja2VyLm9uZSgndHJhbnNpdGlvbmVuZC5kcCcsIGV2ZW50LmJpbmQodGhpcywgdGhpcywgdHJ1ZSkpXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX2NoYW5nZVZpZXc6IGZ1bmN0aW9uIChkYXRlLCBkaXIpIHtcclxuICAgICAgICAgICAgZGF0ZSA9IGRhdGUgfHwgdGhpcy5mb2N1c2VkIHx8IHRoaXMuZGF0ZTtcclxuXHJcbiAgICAgICAgICAgIHZhciBuZXh0VmlldyA9IGRpciA9PSAndXAnID8gdGhpcy52aWV3SW5kZXggKyAxIDogdGhpcy52aWV3SW5kZXggLSAxO1xyXG4gICAgICAgICAgICBpZiAobmV4dFZpZXcgPiAyKSBuZXh0VmlldyA9IDI7XHJcbiAgICAgICAgICAgIGlmIChuZXh0VmlldyA8IDApIG5leHRWaWV3ID0gMDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2lsZW50ID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5kYXRlID0gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIDEpO1xyXG4gICAgICAgICAgICB0aGlzLnNpbGVudCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnZpZXcgPSB0aGlzLnZpZXdJbmRleGVzW25leHRWaWV3XTtcclxuXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX2hhbmRsZUhvdEtleTogZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICB2YXIgZGF0ZSA9IGRhdGVwaWNrZXIuZ2V0UGFyc2VkRGF0ZSh0aGlzLl9nZXRGb2N1c2VkRGF0ZSgpKSxcclxuICAgICAgICAgICAgICAgIGZvY3VzZWRQYXJzZWQsXHJcbiAgICAgICAgICAgICAgICBvID0gdGhpcy5vcHRzLFxyXG4gICAgICAgICAgICAgICAgbmV3RGF0ZSxcclxuICAgICAgICAgICAgICAgIHRvdGFsRGF5c0luTmV4dE1vbnRoLFxyXG4gICAgICAgICAgICAgICAgbW9udGhDaGFuZ2VkID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICB5ZWFyQ2hhbmdlZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgZGVjYWRlQ2hhbmdlZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgeSA9IGRhdGUueWVhcixcclxuICAgICAgICAgICAgICAgIG0gPSBkYXRlLm1vbnRoLFxyXG4gICAgICAgICAgICAgICAgZCA9IGRhdGUuZGF0ZTtcclxuXHJcbiAgICAgICAgICAgIHN3aXRjaCAoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdjdHJsUmlnaHQnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnY3RybFVwJzpcclxuICAgICAgICAgICAgICAgICAgICBtICs9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9udGhDaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2N0cmxMZWZ0JzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2N0cmxEb3duJzpcclxuICAgICAgICAgICAgICAgICAgICBtIC09IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9udGhDaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3NoaWZ0UmlnaHQnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnc2hpZnRVcCc6XHJcbiAgICAgICAgICAgICAgICAgICAgeWVhckNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHkgKz0gMTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3NoaWZ0TGVmdCc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdzaGlmdERvd24nOlxyXG4gICAgICAgICAgICAgICAgICAgIHllYXJDaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB5IC09IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdhbHRSaWdodCc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdhbHRVcCc6XHJcbiAgICAgICAgICAgICAgICAgICAgZGVjYWRlQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgeSArPSAxMDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2FsdExlZnQnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnYWx0RG93bic6XHJcbiAgICAgICAgICAgICAgICAgICAgZGVjYWRlQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgeSAtPSAxMDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2N0cmxTaGlmdFVwJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRvdGFsRGF5c0luTmV4dE1vbnRoID0gZGF0ZXBpY2tlci5nZXREYXlzQ291bnQobmV3IERhdGUoeSxtKSk7XHJcbiAgICAgICAgICAgIG5ld0RhdGUgPSBuZXcgRGF0ZSh5LG0sZCk7XHJcblxyXG4gICAgICAgICAgICAvLyBJZiBuZXh0IG1vbnRoIGhhcyBsZXNzIGRheXMgdGhhbiBjdXJyZW50LCBzZXQgZGF0ZSB0byB0b3RhbCBkYXlzIGluIHRoYXQgbW9udGhcclxuICAgICAgICAgICAgaWYgKHRvdGFsRGF5c0luTmV4dE1vbnRoIDwgZCkgZCA9IHRvdGFsRGF5c0luTmV4dE1vbnRoO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgbmV3RGF0ZSBpcyBpbiB2YWxpZCByYW5nZVxyXG4gICAgICAgICAgICBpZiAobmV3RGF0ZS5nZXRUaW1lKCkgPCB0aGlzLm1pblRpbWUpIHtcclxuICAgICAgICAgICAgICAgIG5ld0RhdGUgPSB0aGlzLm1pbkRhdGU7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobmV3RGF0ZS5nZXRUaW1lKCkgPiB0aGlzLm1heFRpbWUpIHtcclxuICAgICAgICAgICAgICAgIG5ld0RhdGUgPSB0aGlzLm1heERhdGU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuZm9jdXNlZCA9IG5ld0RhdGU7XHJcblxyXG4gICAgICAgICAgICBmb2N1c2VkUGFyc2VkID0gZGF0ZXBpY2tlci5nZXRQYXJzZWREYXRlKG5ld0RhdGUpO1xyXG4gICAgICAgICAgICBpZiAobW9udGhDaGFuZ2VkICYmIG8ub25DaGFuZ2VNb250aCkge1xyXG4gICAgICAgICAgICAgICAgby5vbkNoYW5nZU1vbnRoKGZvY3VzZWRQYXJzZWQubW9udGgsIGZvY3VzZWRQYXJzZWQueWVhcilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoeWVhckNoYW5nZWQgJiYgby5vbkNoYW5nZVllYXIpIHtcclxuICAgICAgICAgICAgICAgIG8ub25DaGFuZ2VZZWFyKGZvY3VzZWRQYXJzZWQueWVhcilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZGVjYWRlQ2hhbmdlZCAmJiBvLm9uQ2hhbmdlRGVjYWRlKSB7XHJcbiAgICAgICAgICAgICAgICBvLm9uQ2hhbmdlRGVjYWRlKHRoaXMuY3VyRGVjYWRlKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX3JlZ2lzdGVyS2V5OiBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIHZhciBleGlzdHMgPSB0aGlzLmtleXMuc29tZShmdW5jdGlvbiAoY3VyS2V5KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VyS2V5ID09IGtleTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWV4aXN0cykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5rZXlzLnB1c2goa2V5KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX3VuUmVnaXN0ZXJLZXk6IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5rZXlzLmluZGV4T2Yoa2V5KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMua2V5cy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9pc0hvdEtleVByZXNzZWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRIb3RLZXksXHJcbiAgICAgICAgICAgICAgICBmb3VuZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgX3RoaXMgPSB0aGlzLFxyXG4gICAgICAgICAgICAgICAgcHJlc3NlZEtleXMgPSB0aGlzLmtleXMuc29ydCgpO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaG90S2V5IGluIGhvdEtleXMpIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRIb3RLZXkgPSBob3RLZXlzW2hvdEtleV07XHJcbiAgICAgICAgICAgICAgICBpZiAocHJlc3NlZEtleXMubGVuZ3RoICE9IGN1cnJlbnRIb3RLZXkubGVuZ3RoKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudEhvdEtleS5ldmVyeShmdW5jdGlvbiAoa2V5LCBpKSB7IHJldHVybiBrZXkgPT0gcHJlc3NlZEtleXNbaV19KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl90cmlnZ2VyKCdob3RLZXknLCBob3RLZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGZvdW5kO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF90cmlnZ2VyOiBmdW5jdGlvbiAoZXZlbnQsIGFyZ3MpIHtcclxuICAgICAgICAgICAgdGhpcy4kZWwudHJpZ2dlcihldmVudCwgYXJncylcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfZm9jdXNOZXh0Q2VsbDogZnVuY3Rpb24gKGtleUNvZGUsIHR5cGUpIHtcclxuICAgICAgICAgICAgdHlwZSA9IHR5cGUgfHwgdGhpcy5jZWxsVHlwZTtcclxuXHJcbiAgICAgICAgICAgIHZhciBkYXRlID0gZGF0ZXBpY2tlci5nZXRQYXJzZWREYXRlKHRoaXMuX2dldEZvY3VzZWREYXRlKCkpLFxyXG4gICAgICAgICAgICAgICAgeSA9IGRhdGUueWVhcixcclxuICAgICAgICAgICAgICAgIG0gPSBkYXRlLm1vbnRoLFxyXG4gICAgICAgICAgICAgICAgZCA9IGRhdGUuZGF0ZTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc0hvdEtleVByZXNzZWQoKSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHN3aXRjaChrZXlDb2RlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM3OiAvLyBsZWZ0XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9PSAnZGF5JyA/IChkIC09IDEpIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9PSAnbW9udGgnID8gKG0gLT0gMSkgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICB0eXBlID09ICd5ZWFyJyA/ICh5IC09IDEpIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM4OiAvLyB1cFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPT0gJ2RheScgPyAoZCAtPSA3KSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPT0gJ21vbnRoJyA/IChtIC09IDMpIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9PSAneWVhcicgPyAoeSAtPSA0KSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAzOTogLy8gcmlnaHRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlID09ICdkYXknID8gKGQgKz0gMSkgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICB0eXBlID09ICdtb250aCcgPyAobSArPSAxKSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPT0gJ3llYXInID8gKHkgKz0gMSkgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDA6IC8vIGRvd25cclxuICAgICAgICAgICAgICAgICAgICB0eXBlID09ICdkYXknID8gKGQgKz0gNykgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICB0eXBlID09ICdtb250aCcgPyAobSArPSAzKSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPT0gJ3llYXInID8gKHkgKz0gNCkgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIG5kID0gbmV3IERhdGUoeSxtLGQpO1xyXG4gICAgICAgICAgICBpZiAobmQuZ2V0VGltZSgpIDwgdGhpcy5taW5UaW1lKSB7XHJcbiAgICAgICAgICAgICAgICBuZCA9IHRoaXMubWluRGF0ZTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChuZC5nZXRUaW1lKCkgPiB0aGlzLm1heFRpbWUpIHtcclxuICAgICAgICAgICAgICAgIG5kID0gdGhpcy5tYXhEYXRlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZvY3VzZWQgPSBuZDtcclxuXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX2dldEZvY3VzZWREYXRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBmb2N1c2VkICA9IHRoaXMuZm9jdXNlZCB8fCB0aGlzLnNlbGVjdGVkRGF0ZXNbdGhpcy5zZWxlY3RlZERhdGVzLmxlbmd0aCAtIDFdLFxyXG4gICAgICAgICAgICAgICAgZCA9IHRoaXMucGFyc2VkRGF0ZTtcclxuXHJcbiAgICAgICAgICAgIGlmICghZm9jdXNlZCkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLnZpZXcpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdkYXlzJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXNlZCA9IG5ldyBEYXRlKGQueWVhciwgZC5tb250aCwgbmV3IERhdGUoKS5nZXREYXRlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdtb250aHMnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb2N1c2VkID0gbmV3IERhdGUoZC55ZWFyLCBkLm1vbnRoLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAneWVhcnMnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb2N1c2VkID0gbmV3IERhdGUoZC55ZWFyLCAwLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBmb2N1c2VkO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9nZXRDZWxsOiBmdW5jdGlvbiAoZGF0ZSwgdHlwZSkge1xyXG4gICAgICAgICAgICB0eXBlID0gdHlwZSB8fCB0aGlzLmNlbGxUeXBlO1xyXG5cclxuICAgICAgICAgICAgdmFyIGQgPSBkYXRlcGlja2VyLmdldFBhcnNlZERhdGUoZGF0ZSksXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RvciA9ICcuZGF0ZXBpY2tlci0tY2VsbFtkYXRhLXllYXI9XCInICsgZC55ZWFyICsgJ1wiXScsXHJcbiAgICAgICAgICAgICAgICAkY2VsbDtcclxuXHJcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbW9udGgnOlxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yID0gJ1tkYXRhLW1vbnRoPVwiJyArIGQubW9udGggKyAnXCJdJztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2RheSc6XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3IgKz0gJ1tkYXRhLW1vbnRoPVwiJyArIGQubW9udGggKyAnXCJdW2RhdGEtZGF0ZT1cIicgKyBkLmRhdGUgKyAnXCJdJztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkY2VsbCA9IHRoaXMudmlld3NbdGhpcy5jdXJyZW50Vmlld10uJGVsLmZpbmQoc2VsZWN0b3IpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuICRjZWxsLmxlbmd0aCA/ICRjZWxsIDogJCgnJyk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICBfdGhpcy4kZWxcclxuICAgICAgICAgICAgICAgIC5vZmYoJy5hZHAnKVxyXG4gICAgICAgICAgICAgICAgLmRhdGEoJ2RhdGVwaWNrZXInLCAnJyk7XHJcblxyXG4gICAgICAgICAgICBfdGhpcy5zZWxlY3RlZERhdGVzID0gW107XHJcbiAgICAgICAgICAgIF90aGlzLmZvY3VzZWQgPSAnJztcclxuICAgICAgICAgICAgX3RoaXMudmlld3MgPSB7fTtcclxuICAgICAgICAgICAgX3RoaXMua2V5cyA9IFtdO1xyXG4gICAgICAgICAgICBfdGhpcy5taW5SYW5nZSA9ICcnO1xyXG4gICAgICAgICAgICBfdGhpcy5tYXhSYW5nZSA9ICcnO1xyXG5cclxuICAgICAgICAgICAgaWYgKF90aGlzLm9wdHMuaW5saW5lIHx8ICFfdGhpcy5lbElzSW5wdXQpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLiRkYXRlcGlja2VyLmNsb3Nlc3QoJy5kYXRlcGlja2VyLWlubGluZScpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuJGRhdGVwaWNrZXIucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfaGFuZGxlQWxyZWFkeVNlbGVjdGVkRGF0ZXM6IGZ1bmN0aW9uIChhbHJlYWR5U2VsZWN0ZWQsIHNlbGVjdGVkRGF0ZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLnJhbmdlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMub3B0cy50b2dnbGVTZWxlY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCBwb3NzaWJpbGl0eSB0byBzZWxlY3Qgc2FtZSBkYXRlIHdoZW4gcmFuZ2UgaXMgdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkRGF0ZXMubGVuZ3RoICE9IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcignY2xpY2tDZWxsJywgc2VsZWN0ZWREYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRGF0ZShzZWxlY3RlZERhdGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMub3B0cy50b2dnbGVTZWxlY3RlZCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZURhdGUoc2VsZWN0ZWREYXRlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQ2hhbmdlIGxhc3Qgc2VsZWN0ZWQgZGF0ZSB0byBiZSBhYmxlIHRvIGNoYW5nZSB0aW1lIHdoZW4gY2xpY2tpbmcgb24gdGhpcyBjZWxsXHJcbiAgICAgICAgICAgIGlmICghdGhpcy5vcHRzLnRvZ2dsZVNlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RTZWxlY3RlZERhdGUgPSBhbHJlYWR5U2VsZWN0ZWQ7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRzLnRpbWVwaWNrZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWVwaWNrZXIuX3NldFRpbWUoYWxyZWFkeVNlbGVjdGVkKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWVwaWNrZXIudXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfb25TaG93RXZlbnQ6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy52aXNpYmxlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9vbkJsdXI6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmluRm9jdXMgJiYgdGhpcy52aXNpYmxlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9vbk1vdXNlRG93bkRhdGVwaWNrZXI6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5Gb2N1cyA9IHRydWU7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX29uTW91c2VVcERhdGVwaWNrZXI6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5Gb2N1cyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBlLm9yaWdpbmFsRXZlbnQuaW5Gb2N1cyA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmICghZS5vcmlnaW5hbEV2ZW50LnRpbWVwaWNrZXJGb2N1cykgdGhpcy4kZWwuZm9jdXMoKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfb25LZXlVcEdlbmVyYWw6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWwgPSB0aGlzLiRlbC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghdmFsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfb25SZXNpemU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudmlzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRQb3NpdGlvbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX29uTW91c2VVcEJvZHk6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGlmIChlLm9yaWdpbmFsRXZlbnQuaW5Gb2N1cykgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMudmlzaWJsZSAmJiAhdGhpcy5pbkZvY3VzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9vbk1vdXNlVXBFbDogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZS5vcmlnaW5hbEV2ZW50LmluRm9jdXMgPSB0cnVlO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMuX29uS2V5VXBHZW5lcmFsLmJpbmQodGhpcyksNCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX29uS2V5RG93bjogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgdmFyIGNvZGUgPSBlLndoaWNoO1xyXG4gICAgICAgICAgICB0aGlzLl9yZWdpc3RlcktleShjb2RlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFycm93c1xyXG4gICAgICAgICAgICBpZiAoY29kZSA+PSAzNyAmJiBjb2RlIDw9IDQwKSB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9mb2N1c05leHRDZWxsKGNvZGUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBFbnRlclxyXG4gICAgICAgICAgICBpZiAoY29kZSA9PSAxMykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZm9jdXNlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9nZXRDZWxsKHRoaXMuZm9jdXNlZCkuaGFzQ2xhc3MoJy1kaXNhYmxlZC0nKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnZpZXcgIT0gdGhpcy5vcHRzLm1pblZpZXcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kb3duKClcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWxyZWFkeVNlbGVjdGVkID0gdGhpcy5faXNTZWxlY3RlZCh0aGlzLmZvY3VzZWQsIHRoaXMuY2VsbFR5cGUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhbHJlYWR5U2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRpbWVwaWNrZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZvY3VzZWQuc2V0SG91cnModGhpcy50aW1lcGlja2VyLmhvdXJzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZvY3VzZWQuc2V0TWludXRlcyh0aGlzLnRpbWVwaWNrZXIubWludXRlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5mb2N1c2VkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVBbHJlYWR5U2VsZWN0ZWREYXRlcyhhbHJlYWR5U2VsZWN0ZWQsIHRoaXMuZm9jdXNlZClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEVzY1xyXG4gICAgICAgICAgICBpZiAoY29kZSA9PSAyNykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfb25LZXlVcDogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgdmFyIGNvZGUgPSBlLndoaWNoO1xyXG4gICAgICAgICAgICB0aGlzLl91blJlZ2lzdGVyS2V5KGNvZGUpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9vbkhvdEtleTogZnVuY3Rpb24gKGUsIGhvdEtleSkge1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVIb3RLZXkoaG90S2V5KTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfb25Nb3VzZUVudGVyQ2VsbDogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgdmFyICRjZWxsID0gJChlLnRhcmdldCkuY2xvc2VzdCgnLmRhdGVwaWNrZXItLWNlbGwnKSxcclxuICAgICAgICAgICAgICAgIGRhdGUgPSB0aGlzLl9nZXREYXRlRnJvbUNlbGwoJGNlbGwpO1xyXG5cclxuICAgICAgICAgICAgLy8gUHJldmVudCBmcm9tIHVubmVjZXNzYXJ5IHJlbmRlcmluZyBhbmQgc2V0dGluZyBuZXcgY3VycmVudERhdGVcclxuICAgICAgICAgICAgdGhpcy5zaWxlbnQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuZm9jdXNlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mb2N1c2VkID0gJydcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJGNlbGwuYWRkQ2xhc3MoJy1mb2N1cy0nKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZm9jdXNlZCA9IGRhdGU7XHJcbiAgICAgICAgICAgIHRoaXMuc2lsZW50ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLnJhbmdlICYmIHRoaXMuc2VsZWN0ZWREYXRlcy5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5taW5SYW5nZSA9IHRoaXMuc2VsZWN0ZWREYXRlc1swXTtcclxuICAgICAgICAgICAgICAgIHRoaXMubWF4UmFuZ2UgPSAnJztcclxuICAgICAgICAgICAgICAgIGlmIChkYXRlcGlja2VyLmxlc3ModGhpcy5taW5SYW5nZSwgdGhpcy5mb2N1c2VkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWF4UmFuZ2UgPSB0aGlzLm1pblJhbmdlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWluUmFuZ2UgPSAnJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMudmlld3NbdGhpcy5jdXJyZW50Vmlld10uX3VwZGF0ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX29uTW91c2VMZWF2ZUNlbGw6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHZhciAkY2VsbCA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5kYXRlcGlja2VyLS1jZWxsJyk7XHJcblxyXG4gICAgICAgICAgICAkY2VsbC5yZW1vdmVDbGFzcygnLWZvY3VzLScpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zaWxlbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmZvY3VzZWQgPSAnJztcclxuICAgICAgICAgICAgdGhpcy5zaWxlbnQgPSBmYWxzZTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfb25UaW1lQ2hhbmdlOiBmdW5jdGlvbiAoZSwgaCwgbSkge1xyXG4gICAgICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZERhdGVzID0gdGhpcy5zZWxlY3RlZERhdGVzLFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZERhdGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZGF0ZSA9IHRoaXMubGFzdFNlbGVjdGVkRGF0ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZGF0ZS5zZXRIb3VycyhoKTtcclxuICAgICAgICAgICAgZGF0ZS5zZXRNaW51dGVzKG0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFzZWxlY3RlZCAmJiAhdGhpcy5fZ2V0Q2VsbChkYXRlKS5oYXNDbGFzcygnLWRpc2FibGVkLScpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdERhdGUoZGF0ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRJbnB1dFZhbHVlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRzLm9uU2VsZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlck9uQ2hhbmdlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfb25DbGlja0NlbGw6IGZ1bmN0aW9uIChlLCBkYXRlKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRpbWVwaWNrZXIpIHtcclxuICAgICAgICAgICAgICAgIGRhdGUuc2V0SG91cnModGhpcy50aW1lcGlja2VyLmhvdXJzKTtcclxuICAgICAgICAgICAgICAgIGRhdGUuc2V0TWludXRlcyh0aGlzLnRpbWVwaWNrZXIubWludXRlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zZWxlY3REYXRlKGRhdGUpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNldCBmb2N1c2VkKHZhbCkge1xyXG4gICAgICAgICAgICBpZiAoIXZhbCAmJiB0aGlzLmZvY3VzZWQpIHtcclxuICAgICAgICAgICAgICAgIHZhciAkY2VsbCA9IHRoaXMuX2dldENlbGwodGhpcy5mb2N1c2VkKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoJGNlbGwubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGNlbGwucmVtb3ZlQ2xhc3MoJy1mb2N1cy0nKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2ZvY3VzZWQgPSB2YWw7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdHMucmFuZ2UgJiYgdGhpcy5zZWxlY3RlZERhdGVzLmxlbmd0aCA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1pblJhbmdlID0gdGhpcy5zZWxlY3RlZERhdGVzWzBdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXhSYW5nZSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGVwaWNrZXIubGVzcyh0aGlzLm1pblJhbmdlLCB0aGlzLl9mb2N1c2VkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWF4UmFuZ2UgPSB0aGlzLm1pblJhbmdlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWluUmFuZ2UgPSAnJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5zaWxlbnQpIHJldHVybjtcclxuICAgICAgICAgICAgdGhpcy5kYXRlID0gdmFsO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGdldCBmb2N1c2VkKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9jdXNlZDtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBnZXQgcGFyc2VkRGF0ZSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGVwaWNrZXIuZ2V0UGFyc2VkRGF0ZSh0aGlzLmRhdGUpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNldCBkYXRlICh2YWwpIHtcclxuICAgICAgICAgICAgaWYgKCEodmFsIGluc3RhbmNlb2YgRGF0ZSkpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudERhdGUgPSB2YWw7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5pbml0ZWQgJiYgIXRoaXMuc2lsZW50KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdzW3RoaXMudmlld10uX3JlbmRlcigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5uYXYuX3JlbmRlcigpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudmlzaWJsZSAmJiB0aGlzLmVsSXNJbnB1dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0UG9zaXRpb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGdldCBkYXRlICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudERhdGVcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzZXQgdmlldyAodmFsKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlld0luZGV4ID0gdGhpcy52aWV3SW5kZXhlcy5pbmRleE9mKHZhbCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy52aWV3SW5kZXggPCAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJldlZpZXcgPSB0aGlzLmN1cnJlbnRWaWV3O1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRWaWV3ID0gdmFsO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuaW5pdGVkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMudmlld3NbdmFsXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlld3NbdmFsXSA9IG5ldyAgJC5mbi5kYXRlcGlja2VyLkJvZHkodGhpcywgdmFsLCB0aGlzLm9wdHMpXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlld3NbdmFsXS5fcmVuZGVyKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3c1t0aGlzLnByZXZWaWV3XS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdzW3ZhbF0uc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5uYXYuX3JlbmRlcigpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdHMub25DaGFuZ2VWaWV3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRzLm9uQ2hhbmdlVmlldyh2YWwpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5lbElzSW5wdXQgJiYgdGhpcy52aXNpYmxlKSB0aGlzLnNldFBvc2l0aW9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB2YWxcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBnZXQgdmlldygpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFZpZXc7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZ2V0IGNlbGxUeXBlKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWV3LnN1YnN0cmluZygwLCB0aGlzLnZpZXcubGVuZ3RoIC0gMSlcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBnZXQgbWluVGltZSgpIHtcclxuICAgICAgICAgICAgdmFyIG1pbiA9IGRhdGVwaWNrZXIuZ2V0UGFyc2VkRGF0ZSh0aGlzLm1pbkRhdGUpO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUobWluLnllYXIsIG1pbi5tb250aCwgbWluLmRhdGUpLmdldFRpbWUoKVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGdldCBtYXhUaW1lKCkge1xyXG4gICAgICAgICAgICB2YXIgbWF4ID0gZGF0ZXBpY2tlci5nZXRQYXJzZWREYXRlKHRoaXMubWF4RGF0ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShtYXgueWVhciwgbWF4Lm1vbnRoLCBtYXguZGF0ZSkuZ2V0VGltZSgpXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZ2V0IGN1ckRlY2FkZSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGVwaWNrZXIuZ2V0RGVjYWRlKHRoaXMuZGF0ZSlcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vICBVdGlsc1xyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIGRhdGVwaWNrZXIuZ2V0RGF5c0NvdW50ID0gZnVuY3Rpb24gKGRhdGUpIHtcclxuICAgICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCkgKyAxLCAwKS5nZXREYXRlKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGRhdGVwaWNrZXIuZ2V0UGFyc2VkRGF0ZSA9IGZ1bmN0aW9uIChkYXRlKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgeWVhcjogZGF0ZS5nZXRGdWxsWWVhcigpLFxyXG4gICAgICAgICAgICBtb250aDogZGF0ZS5nZXRNb250aCgpLFxyXG4gICAgICAgICAgICBmdWxsTW9udGg6IChkYXRlLmdldE1vbnRoKCkgKyAxKSA8IDEwID8gJzAnICsgKGRhdGUuZ2V0TW9udGgoKSArIDEpIDogZGF0ZS5nZXRNb250aCgpICsgMSwgLy8gT25lIGJhc2VkXHJcbiAgICAgICAgICAgIGRhdGU6IGRhdGUuZ2V0RGF0ZSgpLFxyXG4gICAgICAgICAgICBmdWxsRGF0ZTogZGF0ZS5nZXREYXRlKCkgPCAxMCA/ICcwJyArIGRhdGUuZ2V0RGF0ZSgpIDogZGF0ZS5nZXREYXRlKCksXHJcbiAgICAgICAgICAgIGRheTogZGF0ZS5nZXREYXkoKSxcclxuICAgICAgICAgICAgaG91cnM6IGRhdGUuZ2V0SG91cnMoKSxcclxuICAgICAgICAgICAgZnVsbEhvdXJzOiAgZGF0ZS5nZXRIb3VycygpIDwgMTAgPyAnMCcgKyBkYXRlLmdldEhvdXJzKCkgOiAgZGF0ZS5nZXRIb3VycygpICxcclxuICAgICAgICAgICAgbWludXRlczogZGF0ZS5nZXRNaW51dGVzKCksXHJcbiAgICAgICAgICAgIGZ1bGxNaW51dGVzOiAgZGF0ZS5nZXRNaW51dGVzKCkgPCAxMCA/ICcwJyArIGRhdGUuZ2V0TWludXRlcygpIDogIGRhdGUuZ2V0TWludXRlcygpXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBkYXRlcGlja2VyLmdldERlY2FkZSA9IGZ1bmN0aW9uIChkYXRlKSB7XHJcbiAgICAgICAgdmFyIGZpcnN0WWVhciA9IE1hdGguZmxvb3IoZGF0ZS5nZXRGdWxsWWVhcigpIC8gMTApICogMTA7XHJcblxyXG4gICAgICAgIHJldHVybiBbZmlyc3RZZWFyLCBmaXJzdFllYXIgKyA5XTtcclxuICAgIH07XHJcblxyXG4gICAgZGF0ZXBpY2tlci50ZW1wbGF0ZSA9IGZ1bmN0aW9uIChzdHIsIGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyNcXHsoW1xcd10rKVxcfS9nLCBmdW5jdGlvbiAoc291cmNlLCBtYXRjaCkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YVttYXRjaF0gfHwgZGF0YVttYXRjaF0gPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhW21hdGNoXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGRhdGVwaWNrZXIuaXNTYW1lID0gZnVuY3Rpb24gKGRhdGUxLCBkYXRlMiwgdHlwZSkge1xyXG4gICAgICAgIGlmICghZGF0ZTEgfHwgIWRhdGUyKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgdmFyIGQxID0gZGF0ZXBpY2tlci5nZXRQYXJzZWREYXRlKGRhdGUxKSxcclxuICAgICAgICAgICAgZDIgPSBkYXRlcGlja2VyLmdldFBhcnNlZERhdGUoZGF0ZTIpLFxyXG4gICAgICAgICAgICBfdHlwZSA9IHR5cGUgPyB0eXBlIDogJ2RheScsXHJcblxyXG4gICAgICAgICAgICBjb25kaXRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgZGF5OiBkMS5kYXRlID09IGQyLmRhdGUgJiYgZDEubW9udGggPT0gZDIubW9udGggJiYgZDEueWVhciA9PSBkMi55ZWFyLFxyXG4gICAgICAgICAgICAgICAgbW9udGg6IGQxLm1vbnRoID09IGQyLm1vbnRoICYmIGQxLnllYXIgPT0gZDIueWVhcixcclxuICAgICAgICAgICAgICAgIHllYXI6IGQxLnllYXIgPT0gZDIueWVhclxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gY29uZGl0aW9uc1tfdHlwZV07XHJcbiAgICB9O1xyXG5cclxuICAgIGRhdGVwaWNrZXIubGVzcyA9IGZ1bmN0aW9uIChkYXRlQ29tcGFyZVRvLCBkYXRlLCB0eXBlKSB7XHJcbiAgICAgICAgaWYgKCFkYXRlQ29tcGFyZVRvIHx8ICFkYXRlKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIGRhdGUuZ2V0VGltZSgpIDwgZGF0ZUNvbXBhcmVUby5nZXRUaW1lKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGRhdGVwaWNrZXIuYmlnZ2VyID0gZnVuY3Rpb24gKGRhdGVDb21wYXJlVG8sIGRhdGUsIHR5cGUpIHtcclxuICAgICAgICBpZiAoIWRhdGVDb21wYXJlVG8gfHwgIWRhdGUpIHJldHVybiBmYWxzZTtcclxuICAgICAgICByZXR1cm4gZGF0ZS5nZXRUaW1lKCkgPiBkYXRlQ29tcGFyZVRvLmdldFRpbWUoKTtcclxuICAgIH07XHJcblxyXG4gICAgZGF0ZXBpY2tlci5nZXRMZWFkaW5nWmVyb051bSA9IGZ1bmN0aW9uIChudW0pIHtcclxuICAgICAgICByZXR1cm4gcGFyc2VJbnQobnVtKSA8IDEwID8gJzAnICsgbnVtIDogbnVtO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgY29weSBvZiBkYXRlIHdpdGggaG91cnMgYW5kIG1pbnV0ZXMgZXF1YWxzIHRvIDBcclxuICAgICAqIEBwYXJhbSBkYXRlIHtEYXRlfVxyXG4gICAgICovXHJcbiAgICBkYXRlcGlja2VyLnJlc2V0VGltZSA9IGZ1bmN0aW9uIChkYXRlKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRlICE9ICdvYmplY3QnKSByZXR1cm47XHJcbiAgICAgICAgZGF0ZSA9IGRhdGVwaWNrZXIuZ2V0UGFyc2VkRGF0ZShkYXRlKTtcclxuICAgICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZS55ZWFyLCBkYXRlLm1vbnRoLCBkYXRlLmRhdGUpXHJcbiAgICB9O1xyXG5cclxuICAgICQuZm4uZGF0ZXBpY2tlciA9IGZ1bmN0aW9uICggb3B0aW9ucyApIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCEkLmRhdGEodGhpcywgcGx1Z2luTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICQuZGF0YSh0aGlzLCAgcGx1Z2luTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgRGF0ZXBpY2tlciggdGhpcywgb3B0aW9ucyApKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9ICQuZGF0YSh0aGlzLCBwbHVnaW5OYW1lKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5vcHRzID0gJC5leHRlbmQodHJ1ZSwgX3RoaXMub3B0cywgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy51cGRhdGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAkLmZuLmRhdGVwaWNrZXIuQ29uc3RydWN0b3IgPSBEYXRlcGlja2VyO1xyXG5cclxuICAgICQuZm4uZGF0ZXBpY2tlci5sYW5ndWFnZSA9IHtcclxuICAgICAgICBydToge1xyXG4gICAgICAgICAgICBkYXlzOiBbJ9CS0L7RgdC60YDQtdGB0LXQvdGM0LUnLCAn0J/QvtC90LXQtNC10LvRjNC90LjQuicsICfQktGC0L7RgNC90LjQuicsICfQodGA0LXQtNCwJywgJ9Cn0LXRgtCy0LXRgNCzJywgJ9Cf0Y/RgtC90LjRhtCwJywgJ9Ch0YPQsdCx0L7RgtCwJ10sXHJcbiAgICAgICAgICAgIGRheXNTaG9ydDogWyfQktC+0YEnLCfQn9C+0L0nLCfQktGC0L4nLCfQodGA0LUnLCfQp9C10YInLCfQn9GP0YInLCfQodGD0LEnXSxcclxuICAgICAgICAgICAgZGF5c01pbjogWyfQktGBJywn0J/QvScsJ9CS0YInLCfQodGAJywn0KfRgicsJ9Cf0YInLCfQodCxJ10sXHJcbiAgICAgICAgICAgIG1vbnRoczogWyfQr9C90LLQsNGA0YwnLCAn0KTQtdCy0YDQsNC70YwnLCAn0JzQsNGA0YInLCAn0JDQv9GA0LXQu9GMJywgJ9Cc0LDQuScsICfQmNGO0L3RjCcsICfQmNGO0LvRjCcsICfQkNCy0LPRg9GB0YInLCAn0KHQtdC90YLRj9Cx0YDRjCcsICfQntC60YLRj9Cx0YDRjCcsICfQndC+0Y/QsdGA0YwnLCAn0JTQtdC60LDQsdGA0YwnXSxcclxuICAgICAgICAgICAgbW9udGhzU2hvcnQ6IFsn0K/QvdCyJywgJ9Ck0LXQsicsICfQnNCw0YAnLCAn0JDQv9GAJywgJ9Cc0LDQuScsICfQmNGO0L0nLCAn0JjRjtC7JywgJ9CQ0LLQsycsICfQodC10L0nLCAn0J7QutGCJywgJ9Cd0L7RjycsICfQlNC10LonXSxcclxuICAgICAgICAgICAgdG9kYXk6ICfQodC10LPQvtC00L3RjycsXHJcbiAgICAgICAgICAgIGNsZWFyOiAn0J7Rh9C40YHRgtC40YLRjCcsXHJcbiAgICAgICAgICAgIGRhdGVGb3JtYXQ6ICdkZC5tbS55eXl5JyxcclxuICAgICAgICAgICAgdGltZUZvcm1hdDogJ2hoOmlpJyxcclxuICAgICAgICAgICAgZmlyc3REYXk6IDFcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgICQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoYXV0b0luaXRTZWxlY3RvcikuZGF0ZXBpY2tlcigpO1xyXG4gICAgfSlcclxuXHJcbn0pKCk7XHJcblxyXG47KGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB0ZW1wbGF0ZXMgPSB7XHJcbiAgICAgICAgZGF5czonJyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLS1kYXlzIGRhdGVwaWNrZXItLWJvZHlcIj4nICtcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItLWRheXMtbmFtZXNcIj48L2Rpdj4nICtcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItLWNlbGxzIGRhdGVwaWNrZXItLWNlbGxzLWRheXNcIj48L2Rpdj4nICtcclxuICAgICAgICAnPC9kaXY+JyxcclxuICAgICAgICBtb250aHM6ICcnICtcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItLW1vbnRocyBkYXRlcGlja2VyLS1ib2R5XCI+JyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLS1jZWxscyBkYXRlcGlja2VyLS1jZWxscy1tb250aHNcIj48L2Rpdj4nICtcclxuICAgICAgICAnPC9kaXY+JyxcclxuICAgICAgICB5ZWFyczogJycgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci0teWVhcnMgZGF0ZXBpY2tlci0tYm9keVwiPicgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci0tY2VsbHMgZGF0ZXBpY2tlci0tY2VsbHMteWVhcnNcIj48L2Rpdj4nICtcclxuICAgICAgICAnPC9kaXY+J1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZGF0ZXBpY2tlciA9ICQuZm4uZGF0ZXBpY2tlcixcclxuICAgICAgICBkcCA9IGRhdGVwaWNrZXIuQ29uc3RydWN0b3I7XHJcblxyXG4gICAgZGF0ZXBpY2tlci5Cb2R5ID0gZnVuY3Rpb24gKGQsIHR5cGUsIG9wdHMpIHtcclxuICAgICAgICB0aGlzLmQgPSBkO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcbiAgICAgICAgdGhpcy5vcHRzID0gb3B0cztcclxuICAgICAgICB0aGlzLiRlbCA9ICQoJycpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5vcHRzLm9ubHlUaW1lcGlja2VyKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGRhdGVwaWNrZXIuQm9keS5wcm90b3R5cGUgPSB7XHJcbiAgICAgICAgaW5pdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLl9idWlsZEJhc2VIdG1sKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcigpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fYmluZEV2ZW50cygpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9iaW5kRXZlbnRzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJGVsLm9uKCdjbGljaycsICcuZGF0ZXBpY2tlci0tY2VsbCcsICQucHJveHkodGhpcy5fb25DbGlja0NlbGwsIHRoaXMpKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfYnVpbGRCYXNlSHRtbDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLiRlbCA9ICQodGVtcGxhdGVzW3RoaXMudHlwZV0pLmFwcGVuZFRvKHRoaXMuZC4kY29udGVudCk7XHJcbiAgICAgICAgICAgIHRoaXMuJG5hbWVzID0gJCgnLmRhdGVwaWNrZXItLWRheXMtbmFtZXMnLCB0aGlzLiRlbCk7XHJcbiAgICAgICAgICAgIHRoaXMuJGNlbGxzID0gJCgnLmRhdGVwaWNrZXItLWNlbGxzJywgdGhpcy4kZWwpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9nZXREYXlOYW1lc0h0bWw6IGZ1bmN0aW9uIChmaXJzdERheSwgY3VyRGF5LCBodG1sLCBpKSB7XHJcbiAgICAgICAgICAgIGN1ckRheSA9IGN1ckRheSAhPSB1bmRlZmluZWQgPyBjdXJEYXkgOiBmaXJzdERheTtcclxuICAgICAgICAgICAgaHRtbCA9IGh0bWwgPyBodG1sIDogJyc7XHJcbiAgICAgICAgICAgIGkgPSBpICE9IHVuZGVmaW5lZCA/IGkgOiAwO1xyXG5cclxuICAgICAgICAgICAgaWYgKGkgPiA3KSByZXR1cm4gaHRtbDtcclxuICAgICAgICAgICAgaWYgKGN1ckRheSA9PSA3KSByZXR1cm4gdGhpcy5fZ2V0RGF5TmFtZXNIdG1sKGZpcnN0RGF5LCAwLCBodG1sLCArK2kpO1xyXG5cclxuICAgICAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItLWRheS1uYW1lJyArICh0aGlzLmQuaXNXZWVrZW5kKGN1ckRheSkgPyBcIiAtd2Vla2VuZC1cIiA6IFwiXCIpICsgJ1wiPicgKyB0aGlzLmQubG9jLmRheXNNaW5bY3VyRGF5XSArICc8L2Rpdj4nO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldERheU5hbWVzSHRtbChmaXJzdERheSwgKytjdXJEYXksIGh0bWwsICsraSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX2dldENlbGxDb250ZW50czogZnVuY3Rpb24gKGRhdGUsIHR5cGUpIHtcclxuICAgICAgICAgICAgdmFyIGNsYXNzZXMgPSBcImRhdGVwaWNrZXItLWNlbGwgZGF0ZXBpY2tlci0tY2VsbC1cIiArIHR5cGUsXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICAgICAgICBwYXJlbnQgPSB0aGlzLmQsXHJcbiAgICAgICAgICAgICAgICBtaW5SYW5nZSA9IGRwLnJlc2V0VGltZShwYXJlbnQubWluUmFuZ2UpLFxyXG4gICAgICAgICAgICAgICAgbWF4UmFuZ2UgPSBkcC5yZXNldFRpbWUocGFyZW50Lm1heFJhbmdlKSxcclxuICAgICAgICAgICAgICAgIG9wdHMgPSBwYXJlbnQub3B0cyxcclxuICAgICAgICAgICAgICAgIGQgPSBkcC5nZXRQYXJzZWREYXRlKGRhdGUpLFxyXG4gICAgICAgICAgICAgICAgcmVuZGVyID0ge30sXHJcbiAgICAgICAgICAgICAgICBodG1sID0gZC5kYXRlO1xyXG5cclxuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdkYXknOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQuaXNXZWVrZW5kKGQuZGF5KSkgY2xhc3NlcyArPSBcIiAtd2Vla2VuZC1cIjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZC5tb250aCAhPSB0aGlzLmQucGFyc2VkRGF0ZS5tb250aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzICs9IFwiIC1vdGhlci1tb250aC1cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRzLnNlbGVjdE90aGVyTW9udGhzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzICs9IFwiIC1kaXNhYmxlZC1cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdHMuc2hvd090aGVyTW9udGhzKSBodG1sID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbW9udGgnOlxyXG4gICAgICAgICAgICAgICAgICAgIGh0bWwgPSBwYXJlbnQubG9jW3BhcmVudC5vcHRzLm1vbnRoc0ZpZWxkXVtkLm1vbnRoXTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3llYXInOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkZWNhZGUgPSBwYXJlbnQuY3VyRGVjYWRlO1xyXG4gICAgICAgICAgICAgICAgICAgIGh0bWwgPSBkLnllYXI7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQueWVhciA8IGRlY2FkZVswXSB8fCBkLnllYXIgPiBkZWNhZGVbMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlcyArPSAnIC1vdGhlci1kZWNhZGUtJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRzLnNlbGVjdE90aGVyWWVhcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXMgKz0gXCIgLWRpc2FibGVkLVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb3B0cy5zaG93T3RoZXJZZWFycykgaHRtbCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKG9wdHMub25SZW5kZXJDZWxsKSB7XHJcbiAgICAgICAgICAgICAgICByZW5kZXIgPSBvcHRzLm9uUmVuZGVyQ2VsbChkYXRlLCB0eXBlKSB8fCB7fTtcclxuICAgICAgICAgICAgICAgIGh0bWwgPSByZW5kZXIuaHRtbCA/IHJlbmRlci5odG1sIDogaHRtbDtcclxuICAgICAgICAgICAgICAgIGNsYXNzZXMgKz0gcmVuZGVyLmNsYXNzZXMgPyAnICcgKyByZW5kZXIuY2xhc3NlcyA6ICcnO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAob3B0cy5yYW5nZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRwLmlzU2FtZShtaW5SYW5nZSwgZGF0ZSwgdHlwZSkpIGNsYXNzZXMgKz0gJyAtcmFuZ2UtZnJvbS0nO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRwLmlzU2FtZShtYXhSYW5nZSwgZGF0ZSwgdHlwZSkpIGNsYXNzZXMgKz0gJyAtcmFuZ2UtdG8tJztcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50LnNlbGVjdGVkRGF0ZXMubGVuZ3RoID09IDEgJiYgcGFyZW50LmZvY3VzZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChkcC5iaWdnZXIobWluUmFuZ2UsIGRhdGUpICYmIGRwLmxlc3MocGFyZW50LmZvY3VzZWQsIGRhdGUpKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoZHAubGVzcyhtYXhSYW5nZSwgZGF0ZSkgJiYgZHAuYmlnZ2VyKHBhcmVudC5mb2N1c2VkLCBkYXRlKSkpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzICs9ICcgLWluLXJhbmdlLSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkcC5sZXNzKG1heFJhbmdlLCBkYXRlKSAmJiBkcC5pc1NhbWUocGFyZW50LmZvY3VzZWQsIGRhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXMgKz0gJyAtcmFuZ2UtZnJvbS0nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkcC5iaWdnZXIobWluUmFuZ2UsIGRhdGUpICYmIGRwLmlzU2FtZShwYXJlbnQuZm9jdXNlZCwgZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlcyArPSAnIC1yYW5nZS10by0nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFyZW50LnNlbGVjdGVkRGF0ZXMubGVuZ3RoID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZHAuYmlnZ2VyKG1pblJhbmdlLCBkYXRlKSAmJiBkcC5sZXNzKG1heFJhbmdlLCBkYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzICs9ICcgLWluLXJhbmdlLSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICBpZiAoZHAuaXNTYW1lKGN1cnJlbnREYXRlLCBkYXRlLCB0eXBlKSkgY2xhc3NlcyArPSAnIC1jdXJyZW50LSc7XHJcbiAgICAgICAgICAgIGlmIChwYXJlbnQuZm9jdXNlZCAmJiBkcC5pc1NhbWUoZGF0ZSwgcGFyZW50LmZvY3VzZWQsIHR5cGUpKSBjbGFzc2VzICs9ICcgLWZvY3VzLSc7XHJcbiAgICAgICAgICAgIGlmIChwYXJlbnQuX2lzU2VsZWN0ZWQoZGF0ZSwgdHlwZSkpIGNsYXNzZXMgKz0gJyAtc2VsZWN0ZWQtJztcclxuICAgICAgICAgICAgaWYgKCFwYXJlbnQuX2lzSW5SYW5nZShkYXRlLCB0eXBlKSB8fCByZW5kZXIuZGlzYWJsZWQpIGNsYXNzZXMgKz0gJyAtZGlzYWJsZWQtJztcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBodG1sOiBodG1sLFxyXG4gICAgICAgICAgICAgICAgY2xhc3NlczogY2xhc3Nlc1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ2FsY3VsYXRlcyBkYXlzIG51bWJlciB0byByZW5kZXIuIEdlbmVyYXRlcyBkYXlzIGh0bWwgYW5kIHJldHVybnMgaXQuXHJcbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IGRhdGUgLSBEYXRlIG9iamVjdFxyXG4gICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICBfZ2V0RGF5c0h0bWw6IGZ1bmN0aW9uIChkYXRlKSB7XHJcbiAgICAgICAgICAgIHZhciB0b3RhbE1vbnRoRGF5cyA9IGRwLmdldERheXNDb3VudChkYXRlKSxcclxuICAgICAgICAgICAgICAgIGZpcnN0TW9udGhEYXkgPSBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgMSkuZ2V0RGF5KCksXHJcbiAgICAgICAgICAgICAgICBsYXN0TW9udGhEYXkgPSBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgdG90YWxNb250aERheXMpLmdldERheSgpLFxyXG4gICAgICAgICAgICAgICAgZGF5c0Zyb21QZXZNb250aCA9IGZpcnN0TW9udGhEYXkgLSB0aGlzLmQubG9jLmZpcnN0RGF5LFxyXG4gICAgICAgICAgICAgICAgZGF5c0Zyb21OZXh0TW9udGggPSA2IC0gbGFzdE1vbnRoRGF5ICsgdGhpcy5kLmxvYy5maXJzdERheTtcclxuXHJcbiAgICAgICAgICAgIGRheXNGcm9tUGV2TW9udGggPSBkYXlzRnJvbVBldk1vbnRoIDwgMCA/IGRheXNGcm9tUGV2TW9udGggKyA3IDogZGF5c0Zyb21QZXZNb250aDtcclxuICAgICAgICAgICAgZGF5c0Zyb21OZXh0TW9udGggPSBkYXlzRnJvbU5leHRNb250aCA+IDYgPyBkYXlzRnJvbU5leHRNb250aCAtIDcgOiBkYXlzRnJvbU5leHRNb250aDtcclxuXHJcbiAgICAgICAgICAgIHZhciBzdGFydERheUluZGV4ID0gLWRheXNGcm9tUGV2TW9udGggKyAxLFxyXG4gICAgICAgICAgICAgICAgbSwgeSxcclxuICAgICAgICAgICAgICAgIGh0bWwgPSAnJztcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBzdGFydERheUluZGV4LCBtYXggPSB0b3RhbE1vbnRoRGF5cyArIGRheXNGcm9tTmV4dE1vbnRoOyBpIDw9IG1heDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB5ID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgICAgICAgICAgbSA9IGRhdGUuZ2V0TW9udGgoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBodG1sICs9IHRoaXMuX2dldERheUh0bWwobmV3IERhdGUoeSwgbSwgaSkpXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBodG1sO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9nZXREYXlIdG1sOiBmdW5jdGlvbiAoZGF0ZSkge1xyXG4gICAgICAgICAgIHZhciBjb250ZW50ID0gdGhpcy5fZ2V0Q2VsbENvbnRlbnRzKGRhdGUsICdkYXknKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiAnPGRpdiBjbGFzcz1cIicgKyBjb250ZW50LmNsYXNzZXMgKyAnXCIgJyArXHJcbiAgICAgICAgICAgICAgICAnZGF0YS1kYXRlPVwiJyArIGRhdGUuZ2V0RGF0ZSgpICsgJ1wiICcgK1xyXG4gICAgICAgICAgICAgICAgJ2RhdGEtbW9udGg9XCInICsgZGF0ZS5nZXRNb250aCgpICsgJ1wiICcgK1xyXG4gICAgICAgICAgICAgICAgJ2RhdGEteWVhcj1cIicgKyBkYXRlLmdldEZ1bGxZZWFyKCkgKyAnXCI+JyArIGNvbnRlbnQuaHRtbCArICc8L2Rpdj4nO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdlbmVyYXRlcyBtb250aHMgaHRtbFxyXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRlIC0gZGF0ZSBpbnN0YW5jZVxyXG4gICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICBfZ2V0TW9udGhzSHRtbDogZnVuY3Rpb24gKGRhdGUpIHtcclxuICAgICAgICAgICAgdmFyIGh0bWwgPSAnJyxcclxuICAgICAgICAgICAgICAgIGQgPSBkcC5nZXRQYXJzZWREYXRlKGRhdGUpLFxyXG4gICAgICAgICAgICAgICAgaSA9IDA7XHJcblxyXG4gICAgICAgICAgICB3aGlsZShpIDwgMTIpIHtcclxuICAgICAgICAgICAgICAgIGh0bWwgKz0gdGhpcy5fZ2V0TW9udGhIdG1sKG5ldyBEYXRlKGQueWVhciwgaSkpO1xyXG4gICAgICAgICAgICAgICAgaSsrXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBodG1sO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9nZXRNb250aEh0bWw6IGZ1bmN0aW9uIChkYXRlKSB7XHJcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gdGhpcy5fZ2V0Q2VsbENvbnRlbnRzKGRhdGUsICdtb250aCcpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuICc8ZGl2IGNsYXNzPVwiJyArIGNvbnRlbnQuY2xhc3NlcyArICdcIiBkYXRhLW1vbnRoPVwiJyArIGRhdGUuZ2V0TW9udGgoKSArICdcIj4nICsgY29udGVudC5odG1sICsgJzwvZGl2PidcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfZ2V0WWVhcnNIdG1sOiBmdW5jdGlvbiAoZGF0ZSkge1xyXG4gICAgICAgICAgICB2YXIgZCA9IGRwLmdldFBhcnNlZERhdGUoZGF0ZSksXHJcbiAgICAgICAgICAgICAgICBkZWNhZGUgPSBkcC5nZXREZWNhZGUoZGF0ZSksXHJcbiAgICAgICAgICAgICAgICBmaXJzdFllYXIgPSBkZWNhZGVbMF0gLSAxLFxyXG4gICAgICAgICAgICAgICAgaHRtbCA9ICcnLFxyXG4gICAgICAgICAgICAgICAgaSA9IGZpcnN0WWVhcjtcclxuXHJcbiAgICAgICAgICAgIGZvciAoaTsgaSA8PSBkZWNhZGVbMV0gKyAxOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGh0bWwgKz0gdGhpcy5fZ2V0WWVhckh0bWwobmV3IERhdGUoaSAsIDApKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGh0bWw7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX2dldFllYXJIdG1sOiBmdW5jdGlvbiAoZGF0ZSkge1xyXG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHRoaXMuX2dldENlbGxDb250ZW50cyhkYXRlLCAneWVhcicpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuICc8ZGl2IGNsYXNzPVwiJyArIGNvbnRlbnQuY2xhc3NlcyArICdcIiBkYXRhLXllYXI9XCInICsgZGF0ZS5nZXRGdWxsWWVhcigpICsgJ1wiPicgKyBjb250ZW50Lmh0bWwgKyAnPC9kaXY+J1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9yZW5kZXJUeXBlczoge1xyXG4gICAgICAgICAgICBkYXlzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF5TmFtZXMgPSB0aGlzLl9nZXREYXlOYW1lc0h0bWwodGhpcy5kLmxvYy5maXJzdERheSksXHJcbiAgICAgICAgICAgICAgICAgICAgZGF5cyA9IHRoaXMuX2dldERheXNIdG1sKHRoaXMuZC5jdXJyZW50RGF0ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy4kY2VsbHMuaHRtbChkYXlzKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuJG5hbWVzLmh0bWwoZGF5TmFtZXMpXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG1vbnRoczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGh0bWwgPSB0aGlzLl9nZXRNb250aHNIdG1sKHRoaXMuZC5jdXJyZW50RGF0ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy4kY2VsbHMuaHRtbChodG1sKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB5ZWFyczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGh0bWwgPSB0aGlzLl9nZXRZZWFyc0h0bWwodGhpcy5kLmN1cnJlbnREYXRlKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLiRjZWxscy5odG1sKGh0bWwpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfcmVuZGVyOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdHMub25seVRpbWVwaWNrZXIpIHJldHVybjtcclxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyVHlwZXNbdGhpcy50eXBlXS5iaW5kKHRoaXMpKCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX3VwZGF0ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgJGNlbGxzID0gJCgnLmRhdGVwaWNrZXItLWNlbGwnLCB0aGlzLiRjZWxscyksXHJcbiAgICAgICAgICAgICAgICBfdGhpcyA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBjbGFzc2VzLFxyXG4gICAgICAgICAgICAgICAgJGNlbGwsXHJcbiAgICAgICAgICAgICAgICBkYXRlO1xyXG4gICAgICAgICAgICAkY2VsbHMuZWFjaChmdW5jdGlvbiAoY2VsbCwgaSkge1xyXG4gICAgICAgICAgICAgICAgJGNlbGwgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgZGF0ZSA9IF90aGlzLmQuX2dldERhdGVGcm9tQ2VsbCgkKHRoaXMpKTtcclxuICAgICAgICAgICAgICAgIGNsYXNzZXMgPSBfdGhpcy5fZ2V0Q2VsbENvbnRlbnRzKGRhdGUsIF90aGlzLmQuY2VsbFR5cGUpO1xyXG4gICAgICAgICAgICAgICAgJGNlbGwuYXR0cignY2xhc3MnLGNsYXNzZXMuY2xhc3NlcylcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgc2hvdzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLm9ubHlUaW1lcGlja2VyKSByZXR1cm47XHJcbiAgICAgICAgICAgIHRoaXMuJGVsLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgdGhpcy5hY2l0dmUgPSB0cnVlO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGhpZGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy4kZWwucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8vICBFdmVudHNcclxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgICAgIF9oYW5kbGVDbGljazogZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgICAgIHZhciBkYXRlID0gZWwuZGF0YSgnZGF0ZScpIHx8IDEsXHJcbiAgICAgICAgICAgICAgICBtb250aCA9IGVsLmRhdGEoJ21vbnRoJykgfHwgMCxcclxuICAgICAgICAgICAgICAgIHllYXIgPSBlbC5kYXRhKCd5ZWFyJykgfHwgdGhpcy5kLnBhcnNlZERhdGUueWVhcixcclxuICAgICAgICAgICAgICAgIGRwID0gdGhpcy5kO1xyXG4gICAgICAgICAgICAvLyBDaGFuZ2UgdmlldyBpZiBtaW4gdmlldyBkb2VzIG5vdCByZWFjaCB5ZXRcclxuICAgICAgICAgICAgaWYgKGRwLnZpZXcgIT0gdGhpcy5vcHRzLm1pblZpZXcpIHtcclxuICAgICAgICAgICAgICAgIGRwLmRvd24obmV3IERhdGUoeWVhciwgbW9udGgsIGRhdGUpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBTZWxlY3QgZGF0ZSBpZiBtaW4gdmlldyBpcyByZWFjaGVkXHJcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZERhdGUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgZGF0ZSksXHJcbiAgICAgICAgICAgICAgICBhbHJlYWR5U2VsZWN0ZWQgPSB0aGlzLmQuX2lzU2VsZWN0ZWQoc2VsZWN0ZWREYXRlLCB0aGlzLmQuY2VsbFR5cGUpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFhbHJlYWR5U2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgIGRwLl90cmlnZ2VyKCdjbGlja0NlbGwnLCBzZWxlY3RlZERhdGUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBkcC5faGFuZGxlQWxyZWFkeVNlbGVjdGVkRGF0ZXMuYmluZChkcCwgYWxyZWFkeVNlbGVjdGVkLCBzZWxlY3RlZERhdGUpKCk7XHJcblxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9vbkNsaWNrQ2VsbDogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgdmFyICRlbCA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5kYXRlcGlja2VyLS1jZWxsJyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoJGVsLmhhc0NsYXNzKCctZGlzYWJsZWQtJykpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUNsaWNrLmJpbmQodGhpcykoJGVsKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59KSgpO1xyXG5cclxuOyhmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgdGVtcGxhdGUgPSAnJyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLS1uYXYtYWN0aW9uXCIgZGF0YS1hY3Rpb249XCJwcmV2XCI+I3twcmV2SHRtbH08L2Rpdj4nICtcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItLW5hdi10aXRsZVwiPiN7dGl0bGV9PC9kaXY+JyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLS1uYXYtYWN0aW9uXCIgZGF0YS1hY3Rpb249XCJuZXh0XCI+I3tuZXh0SHRtbH08L2Rpdj4nLFxyXG4gICAgICAgIGJ1dHRvbnNDb250YWluZXJUZW1wbGF0ZSA9ICc8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci0tYnV0dG9uc1wiPjwvZGl2PicsXHJcbiAgICAgICAgYnV0dG9uID0gJzxzcGFuIGNsYXNzPVwiZGF0ZXBpY2tlci0tYnV0dG9uXCIgZGF0YS1hY3Rpb249XCIje2FjdGlvbn1cIj4je2xhYmVsfTwvc3Bhbj4nLFxyXG4gICAgICAgIGRhdGVwaWNrZXIgPSAkLmZuLmRhdGVwaWNrZXIsXHJcbiAgICAgICAgZHAgPSBkYXRlcGlja2VyLkNvbnN0cnVjdG9yO1xyXG5cclxuICAgIGRhdGVwaWNrZXIuTmF2aWdhdGlvbiA9IGZ1bmN0aW9uIChkLCBvcHRzKSB7XHJcbiAgICAgICAgdGhpcy5kID0gZDtcclxuICAgICAgICB0aGlzLm9wdHMgPSBvcHRzO1xyXG5cclxuICAgICAgICB0aGlzLiRidXR0b25zQ29udGFpbmVyID0gJyc7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICBkYXRlcGlja2VyLk5hdmlnYXRpb24ucHJvdG90eXBlID0ge1xyXG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5fYnVpbGRCYXNlSHRtbCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9iaW5kRXZlbnRzKCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX2JpbmRFdmVudHM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5kLiRuYXYub24oJ2NsaWNrJywgJy5kYXRlcGlja2VyLS1uYXYtYWN0aW9uJywgJC5wcm94eSh0aGlzLl9vbkNsaWNrTmF2QnV0dG9uLCB0aGlzKSk7XHJcbiAgICAgICAgICAgIHRoaXMuZC4kbmF2Lm9uKCdjbGljaycsICcuZGF0ZXBpY2tlci0tbmF2LXRpdGxlJywgJC5wcm94eSh0aGlzLl9vbkNsaWNrTmF2VGl0bGUsIHRoaXMpKTtcclxuICAgICAgICAgICAgdGhpcy5kLiRkYXRlcGlja2VyLm9uKCdjbGljaycsICcuZGF0ZXBpY2tlci0tYnV0dG9uJywgJC5wcm94eSh0aGlzLl9vbkNsaWNrTmF2QnV0dG9uLCB0aGlzKSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX2J1aWxkQmFzZUh0bWw6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLm9wdHMub25seVRpbWVwaWNrZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3JlbmRlcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2FkZEJ1dHRvbnNJZk5lZWQoKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfYWRkQnV0dG9uc0lmTmVlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLnRvZGF5QnV0dG9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9hZGRCdXR0b24oJ3RvZGF5JylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLmNsZWFyQnV0dG9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9hZGRCdXR0b24oJ2NsZWFyJylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9yZW5kZXI6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHRpdGxlID0gdGhpcy5fZ2V0VGl0bGUodGhpcy5kLmN1cnJlbnREYXRlKSxcclxuICAgICAgICAgICAgICAgIGh0bWwgPSBkcC50ZW1wbGF0ZSh0ZW1wbGF0ZSwgJC5leHRlbmQoe3RpdGxlOiB0aXRsZX0sIHRoaXMub3B0cykpO1xyXG4gICAgICAgICAgICB0aGlzLmQuJG5hdi5odG1sKGh0bWwpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kLnZpZXcgPT0gJ3llYXJzJykge1xyXG4gICAgICAgICAgICAgICAgJCgnLmRhdGVwaWNrZXItLW5hdi10aXRsZScsIHRoaXMuZC4kbmF2KS5hZGRDbGFzcygnLWRpc2FibGVkLScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2V0TmF2U3RhdHVzKCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX2dldFRpdGxlOiBmdW5jdGlvbiAoZGF0ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kLmZvcm1hdERhdGUodGhpcy5vcHRzLm5hdlRpdGxlc1t0aGlzLmQudmlld10sIGRhdGUpXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX2FkZEJ1dHRvbjogZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLiRidXR0b25zQ29udGFpbmVyLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkQnV0dG9uc0NvbnRhaW5lcigpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgZGF0YSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IHR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuZC5sb2NbdHlwZV1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBodG1sID0gZHAudGVtcGxhdGUoYnV0dG9uLCBkYXRhKTtcclxuXHJcbiAgICAgICAgICAgIGlmICgkKCdbZGF0YS1hY3Rpb249JyArIHR5cGUgKyAnXScsIHRoaXMuJGJ1dHRvbnNDb250YWluZXIpLmxlbmd0aCkgcmV0dXJuO1xyXG4gICAgICAgICAgICB0aGlzLiRidXR0b25zQ29udGFpbmVyLmFwcGVuZChodG1sKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfYWRkQnV0dG9uc0NvbnRhaW5lcjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLmQuJGRhdGVwaWNrZXIuYXBwZW5kKGJ1dHRvbnNDb250YWluZXJUZW1wbGF0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuJGJ1dHRvbnNDb250YWluZXIgPSAkKCcuZGF0ZXBpY2tlci0tYnV0dG9ucycsIHRoaXMuZC4kZGF0ZXBpY2tlcik7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgc2V0TmF2U3RhdHVzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICghKHRoaXMub3B0cy5taW5EYXRlIHx8IHRoaXMub3B0cy5tYXhEYXRlKSB8fCAhdGhpcy5vcHRzLmRpc2FibGVOYXZXaGVuT3V0T2ZSYW5nZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgdmFyIGRhdGUgPSB0aGlzLmQucGFyc2VkRGF0ZSxcclxuICAgICAgICAgICAgICAgIG0gPSBkYXRlLm1vbnRoLFxyXG4gICAgICAgICAgICAgICAgeSA9IGRhdGUueWVhcixcclxuICAgICAgICAgICAgICAgIGQgPSBkYXRlLmRhdGU7XHJcblxyXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuZC52aWV3KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdkYXlzJzpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZC5faXNJblJhbmdlKG5ldyBEYXRlKHksIG0tMSwgMSksICdtb250aCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVOYXYoJ3ByZXYnKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZC5faXNJblJhbmdlKG5ldyBEYXRlKHksIG0rMSwgMSksICdtb250aCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVOYXYoJ25leHQnKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ21vbnRocyc6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmQuX2lzSW5SYW5nZShuZXcgRGF0ZSh5LTEsIG0sIGQpLCAneWVhcicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVOYXYoJ3ByZXYnKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZC5faXNJblJhbmdlKG5ldyBEYXRlKHkrMSwgbSwgZCksICd5ZWFyJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzYWJsZU5hdignbmV4dCcpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAneWVhcnMnOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkZWNhZGUgPSBkcC5nZXREZWNhZGUodGhpcy5kLmRhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5kLl9pc0luUmFuZ2UobmV3IERhdGUoZGVjYWRlWzBdIC0gMSwgMCwgMSksICd5ZWFyJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzYWJsZU5hdigncHJldicpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5kLl9pc0luUmFuZ2UobmV3IERhdGUoZGVjYWRlWzFdICsgMSwgMCwgMSksICd5ZWFyJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzYWJsZU5hdignbmV4dCcpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX2Rpc2FibGVOYXY6IGZ1bmN0aW9uIChuYXYpIHtcclxuICAgICAgICAgICAgJCgnW2RhdGEtYWN0aW9uPVwiJyArIG5hdiArICdcIl0nLCB0aGlzLmQuJG5hdikuYWRkQ2xhc3MoJy1kaXNhYmxlZC0nKVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9hY3RpdmF0ZU5hdjogZnVuY3Rpb24gKG5hdikge1xyXG4gICAgICAgICAgICAkKCdbZGF0YS1hY3Rpb249XCInICsgbmF2ICsgJ1wiXScsIHRoaXMuZC4kbmF2KS5yZW1vdmVDbGFzcygnLWRpc2FibGVkLScpXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX29uQ2xpY2tOYXZCdXR0b246IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHZhciAkZWwgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCdbZGF0YS1hY3Rpb25dJyksXHJcbiAgICAgICAgICAgICAgICBhY3Rpb24gPSAkZWwuZGF0YSgnYWN0aW9uJyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRbYWN0aW9uXSgpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9vbkNsaWNrTmF2VGl0bGU6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGlmICgkKGUudGFyZ2V0KS5oYXNDbGFzcygnLWRpc2FibGVkLScpKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5kLnZpZXcgPT0gJ2RheXMnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kLnZpZXcgPSAnbW9udGhzJ1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmQudmlldyA9ICd5ZWFycyc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufSkoKTtcclxuXHJcbjsoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHRlbXBsYXRlID0gJzxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLS10aW1lXCI+JyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLS10aW1lLWN1cnJlbnRcIj4nICtcclxuICAgICAgICAnICAgPHNwYW4gY2xhc3M9XCJkYXRlcGlja2VyLS10aW1lLWN1cnJlbnQtaG91cnNcIj4je2hvdXJWaXNpYmxlfTwvc3Bhbj4nICtcclxuICAgICAgICAnICAgPHNwYW4gY2xhc3M9XCJkYXRlcGlja2VyLS10aW1lLWN1cnJlbnQtY29sb25cIj46PC9zcGFuPicgK1xyXG4gICAgICAgICcgICA8c3BhbiBjbGFzcz1cImRhdGVwaWNrZXItLXRpbWUtY3VycmVudC1taW51dGVzXCI+I3ttaW5WYWx1ZX08L3NwYW4+JyArXHJcbiAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci0tdGltZS1zbGlkZXJzXCI+JyArXHJcbiAgICAgICAgJyAgIDxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLS10aW1lLXJvd1wiPicgK1xyXG4gICAgICAgICcgICAgICA8aW5wdXQgdHlwZT1cInJhbmdlXCIgbmFtZT1cImhvdXJzXCIgdmFsdWU9XCIje2hvdXJWYWx1ZX1cIiBtaW49XCIje2hvdXJNaW59XCIgbWF4PVwiI3tob3VyTWF4fVwiIHN0ZXA9XCIje2hvdXJTdGVwfVwiLz4nICtcclxuICAgICAgICAnICAgPC9kaXY+JyArXHJcbiAgICAgICAgJyAgIDxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLS10aW1lLXJvd1wiPicgK1xyXG4gICAgICAgICcgICAgICA8aW5wdXQgdHlwZT1cInJhbmdlXCIgbmFtZT1cIm1pbnV0ZXNcIiB2YWx1ZT1cIiN7bWluVmFsdWV9XCIgbWluPVwiI3ttaW5NaW59XCIgbWF4PVwiI3ttaW5NYXh9XCIgc3RlcD1cIiN7bWluU3RlcH1cIi8+JyArXHJcbiAgICAgICAgJyAgIDwvZGl2PicgK1xyXG4gICAgICAgICc8L2Rpdj4nICtcclxuICAgICAgICAnPC9kaXY+JyxcclxuICAgICAgICBkYXRlcGlja2VyID0gJC5mbi5kYXRlcGlja2VyLFxyXG4gICAgICAgIGRwID0gZGF0ZXBpY2tlci5Db25zdHJ1Y3RvcjtcclxuXHJcbiAgICBkYXRlcGlja2VyLlRpbWVwaWNrZXIgPSBmdW5jdGlvbiAoaW5zdCwgb3B0cykge1xyXG4gICAgICAgIHRoaXMuZCA9IGluc3Q7XHJcbiAgICAgICAgdGhpcy5vcHRzID0gb3B0cztcclxuXHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGRhdGVwaWNrZXIuVGltZXBpY2tlci5wcm90b3R5cGUgPSB7XHJcbiAgICAgICAgaW5pdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgaW5wdXQgPSAnaW5wdXQnO1xyXG4gICAgICAgICAgICB0aGlzLl9zZXRUaW1lKHRoaXMuZC5kYXRlKTtcclxuICAgICAgICAgICAgdGhpcy5fYnVpbGRIVE1MKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvdHJpZGVudC9naSkpIHtcclxuICAgICAgICAgICAgICAgIGlucHV0ID0gJ2NoYW5nZSc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuZC4kZWwub24oJ3NlbGVjdERhdGUnLCB0aGlzLl9vblNlbGVjdERhdGUuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIHRoaXMuJHJhbmdlcy5vbihpbnB1dCwgdGhpcy5fb25DaGFuZ2VSYW5nZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgdGhpcy4kcmFuZ2VzLm9uKCdtb3VzZXVwJywgdGhpcy5fb25Nb3VzZVVwUmFuZ2UuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIHRoaXMuJHJhbmdlcy5vbignbW91c2Vtb3ZlIGZvY3VzICcsIHRoaXMuX29uTW91c2VFbnRlclJhbmdlLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICB0aGlzLiRyYW5nZXMub24oJ21vdXNlb3V0IGJsdXInLCB0aGlzLl9vbk1vdXNlT3V0UmFuZ2UuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX3NldFRpbWU6IGZ1bmN0aW9uIChkYXRlKSB7XHJcbiAgICAgICAgICAgIHZhciBfZGF0ZSA9IGRwLmdldFBhcnNlZERhdGUoZGF0ZSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVEYXRlKGRhdGUpO1xyXG4gICAgICAgICAgICB0aGlzLmhvdXJzID0gX2RhdGUuaG91cnMgPCB0aGlzLm1pbkhvdXJzID8gdGhpcy5taW5Ib3VycyA6IF9kYXRlLmhvdXJzO1xyXG4gICAgICAgICAgICB0aGlzLm1pbnV0ZXMgPSBfZGF0ZS5taW51dGVzIDwgdGhpcy5taW5NaW51dGVzID8gdGhpcy5taW5NaW51dGVzIDogX2RhdGUubWludXRlcztcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTZXRzIG1pbkhvdXJzIGFuZCBtaW5NaW51dGVzIGZyb20gZGF0ZSAodXN1YWxseSBpdCdzIGEgbWluRGF0ZSlcclxuICAgICAgICAgKiBBbHNvIGNoYW5nZXMgbWluTWludXRlcyBpZiBjdXJyZW50IGhvdXJzIGFyZSBiaWdnZXIgdGhlbiBAZGF0ZSBob3Vyc1xyXG4gICAgICAgICAqIEBwYXJhbSBkYXRlIHtEYXRlfVxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgX3NldE1pblRpbWVGcm9tRGF0ZTogZnVuY3Rpb24gKGRhdGUpIHtcclxuICAgICAgICAgICAgdGhpcy5taW5Ib3VycyA9IGRhdGUuZ2V0SG91cnMoKTtcclxuICAgICAgICAgICAgdGhpcy5taW5NaW51dGVzID0gZGF0ZS5nZXRNaW51dGVzKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBJZiwgZm9yIGV4YW1wbGUsIG1pbiBob3VycyBhcmUgMTAsIGFuZCBjdXJyZW50IGhvdXJzIGFyZSAxMixcclxuICAgICAgICAgICAgLy8gdXBkYXRlIG1pbk1pbnV0ZXMgdG8gZGVmYXVsdCB2YWx1ZSwgdG8gYmUgYWJsZSB0byBjaG9vc2Ugd2hvbGUgcmFuZ2Ugb2YgdmFsdWVzXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmQubGFzdFNlbGVjdGVkRGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZC5sYXN0U2VsZWN0ZWREYXRlLmdldEhvdXJzKCkgPiBkYXRlLmdldEhvdXJzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1pbk1pbnV0ZXMgPSB0aGlzLm9wdHMubWluTWludXRlcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9zZXRNYXhUaW1lRnJvbURhdGU6IGZ1bmN0aW9uIChkYXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWF4SG91cnMgPSBkYXRlLmdldEhvdXJzKCk7XHJcbiAgICAgICAgICAgIHRoaXMubWF4TWludXRlcyA9IGRhdGUuZ2V0TWludXRlcygpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuZC5sYXN0U2VsZWN0ZWREYXRlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kLmxhc3RTZWxlY3RlZERhdGUuZ2V0SG91cnMoKSA8IGRhdGUuZ2V0SG91cnMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWF4TWludXRlcyA9IHRoaXMub3B0cy5tYXhNaW51dGVzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX3NldERlZmF1bHRNaW5NYXhUaW1lOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBtYXhIb3VycyA9IDIzLFxyXG4gICAgICAgICAgICAgICAgbWF4TWludXRlcyA9IDU5LFxyXG4gICAgICAgICAgICAgICAgb3B0cyA9IHRoaXMub3B0cztcclxuXHJcbiAgICAgICAgICAgIHRoaXMubWluSG91cnMgPSBvcHRzLm1pbkhvdXJzIDwgMCB8fCBvcHRzLm1pbkhvdXJzID4gbWF4SG91cnMgPyAwIDogb3B0cy5taW5Ib3VycztcclxuICAgICAgICAgICAgdGhpcy5taW5NaW51dGVzID0gb3B0cy5taW5NaW51dGVzIDwgMCB8fCBvcHRzLm1pbk1pbnV0ZXMgPiBtYXhNaW51dGVzID8gMCA6IG9wdHMubWluTWludXRlcztcclxuICAgICAgICAgICAgdGhpcy5tYXhIb3VycyA9IG9wdHMubWF4SG91cnMgPCAwIHx8IG9wdHMubWF4SG91cnMgPiBtYXhIb3VycyA/IG1heEhvdXJzIDogb3B0cy5tYXhIb3VycztcclxuICAgICAgICAgICAgdGhpcy5tYXhNaW51dGVzID0gb3B0cy5tYXhNaW51dGVzIDwgMCB8fCBvcHRzLm1heE1pbnV0ZXMgPiBtYXhNaW51dGVzID8gbWF4TWludXRlcyA6IG9wdHMubWF4TWludXRlcztcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBMb29rcyBmb3IgbWluL21heCBob3Vycy9taW51dGVzIGFuZCBpZiBjdXJyZW50IHZhbHVlc1xyXG4gICAgICAgICAqIGFyZSBvdXQgb2YgcmFuZ2Ugc2V0cyB2YWxpZCB2YWx1ZXMuXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICBfdmFsaWRhdGVIb3Vyc01pbnV0ZXM6IGZ1bmN0aW9uIChkYXRlKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmhvdXJzIDwgdGhpcy5taW5Ib3Vycykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ob3VycyA9IHRoaXMubWluSG91cnM7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5ob3VycyA+IHRoaXMubWF4SG91cnMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaG91cnMgPSB0aGlzLm1heEhvdXJzO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5taW51dGVzIDwgdGhpcy5taW5NaW51dGVzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1pbnV0ZXMgPSB0aGlzLm1pbk1pbnV0ZXM7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5taW51dGVzID4gdGhpcy5tYXhNaW51dGVzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1pbnV0ZXMgPSB0aGlzLm1heE1pbnV0ZXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfYnVpbGRIVE1MOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBseiA9IGRwLmdldExlYWRpbmdaZXJvTnVtLFxyXG4gICAgICAgICAgICAgICAgZGF0YSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBob3VyTWluOiB0aGlzLm1pbkhvdXJzLFxyXG4gICAgICAgICAgICAgICAgICAgIGhvdXJNYXg6IGx6KHRoaXMubWF4SG91cnMpLFxyXG4gICAgICAgICAgICAgICAgICAgIGhvdXJTdGVwOiB0aGlzLm9wdHMuaG91cnNTdGVwLFxyXG4gICAgICAgICAgICAgICAgICAgIGhvdXJWYWx1ZTogdGhpcy5ob3VycyxcclxuICAgICAgICAgICAgICAgICAgICBob3VyVmlzaWJsZTogbHoodGhpcy5kaXNwbGF5SG91cnMpLFxyXG4gICAgICAgICAgICAgICAgICAgIG1pbk1pbjogdGhpcy5taW5NaW51dGVzLFxyXG4gICAgICAgICAgICAgICAgICAgIG1pbk1heDogbHoodGhpcy5tYXhNaW51dGVzKSxcclxuICAgICAgICAgICAgICAgICAgICBtaW5TdGVwOiB0aGlzLm9wdHMubWludXRlc1N0ZXAsXHJcbiAgICAgICAgICAgICAgICAgICAgbWluVmFsdWU6IGx6KHRoaXMubWludXRlcylcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBfdGVtcGxhdGUgPSBkcC50ZW1wbGF0ZSh0ZW1wbGF0ZSwgZGF0YSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLiR0aW1lcGlja2VyID0gJChfdGVtcGxhdGUpLmFwcGVuZFRvKHRoaXMuZC4kZGF0ZXBpY2tlcik7XHJcbiAgICAgICAgICAgIHRoaXMuJHJhbmdlcyA9ICQoJ1t0eXBlPVwicmFuZ2VcIl0nLCB0aGlzLiR0aW1lcGlja2VyKTtcclxuICAgICAgICAgICAgdGhpcy4kaG91cnMgPSAkKCdbbmFtZT1cImhvdXJzXCJdJywgdGhpcy4kdGltZXBpY2tlcik7XHJcbiAgICAgICAgICAgIHRoaXMuJG1pbnV0ZXMgPSAkKCdbbmFtZT1cIm1pbnV0ZXNcIl0nLCB0aGlzLiR0aW1lcGlja2VyKTtcclxuICAgICAgICAgICAgdGhpcy4kaG91cnNUZXh0ID0gJCgnLmRhdGVwaWNrZXItLXRpbWUtY3VycmVudC1ob3VycycsIHRoaXMuJHRpbWVwaWNrZXIpO1xyXG4gICAgICAgICAgICB0aGlzLiRtaW51dGVzVGV4dCA9ICQoJy5kYXRlcGlja2VyLS10aW1lLWN1cnJlbnQtbWludXRlcycsIHRoaXMuJHRpbWVwaWNrZXIpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuZC5hbXBtKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRhbXBtID0gJCgnPHNwYW4gY2xhc3M9XCJkYXRlcGlja2VyLS10aW1lLWN1cnJlbnQtYW1wbVwiPicpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZFRvKCQoJy5kYXRlcGlja2VyLS10aW1lLWN1cnJlbnQnLCB0aGlzLiR0aW1lcGlja2VyKSlcclxuICAgICAgICAgICAgICAgICAgICAuaHRtbCh0aGlzLmRheVBlcmlvZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy4kdGltZXBpY2tlci5hZGRDbGFzcygnLWFtLXBtLScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX3VwZGF0ZUN1cnJlbnRUaW1lOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBoID0gIGRwLmdldExlYWRpbmdaZXJvTnVtKHRoaXMuZGlzcGxheUhvdXJzKSxcclxuICAgICAgICAgICAgICAgIG0gPSBkcC5nZXRMZWFkaW5nWmVyb051bSh0aGlzLm1pbnV0ZXMpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy4kaG91cnNUZXh0Lmh0bWwoaCk7XHJcbiAgICAgICAgICAgIHRoaXMuJG1pbnV0ZXNUZXh0Lmh0bWwobSk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5kLmFtcG0pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuJGFtcG0uaHRtbCh0aGlzLmRheVBlcmlvZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfdXBkYXRlUmFuZ2VzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJGhvdXJzLmF0dHIoe1xyXG4gICAgICAgICAgICAgICAgbWluOiB0aGlzLm1pbkhvdXJzLFxyXG4gICAgICAgICAgICAgICAgbWF4OiB0aGlzLm1heEhvdXJzXHJcbiAgICAgICAgICAgIH0pLnZhbCh0aGlzLmhvdXJzKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuJG1pbnV0ZXMuYXR0cih7XHJcbiAgICAgICAgICAgICAgICBtaW46IHRoaXMubWluTWludXRlcyxcclxuICAgICAgICAgICAgICAgIG1heDogdGhpcy5tYXhNaW51dGVzXHJcbiAgICAgICAgICAgIH0pLnZhbCh0aGlzLm1pbnV0ZXMpXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU2V0cyBtaW5Ib3VycywgbWluTWludXRlcyBldGMuIGZyb20gZGF0ZS4gSWYgZGF0ZSBpcyBub3QgcGFzc2VkLCB0aGFuIHNldHNcclxuICAgICAgICAgKiB2YWx1ZXMgZnJvbSBvcHRpb25zXHJcbiAgICAgICAgICogQHBhcmFtIFtkYXRlXSB7b2JqZWN0fSAtIERhdGUgb2JqZWN0LCB0byBnZXQgdmFsdWVzIGZyb21cclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIF9oYW5kbGVEYXRlOiBmdW5jdGlvbiAoZGF0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9zZXREZWZhdWx0TWluTWF4VGltZSgpO1xyXG4gICAgICAgICAgICBpZiAoZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRwLmlzU2FtZShkYXRlLCB0aGlzLmQub3B0cy5taW5EYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldE1pblRpbWVGcm9tRGF0ZSh0aGlzLmQub3B0cy5taW5EYXRlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZHAuaXNTYW1lKGRhdGUsIHRoaXMuZC5vcHRzLm1heERhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2V0TWF4VGltZUZyb21EYXRlKHRoaXMuZC5vcHRzLm1heERhdGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLl92YWxpZGF0ZUhvdXJzTWludXRlcyhkYXRlKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlUmFuZ2VzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUN1cnJlbnRUaW1lKCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ2FsY3VsYXRlcyB2YWxpZCBob3VyIHZhbHVlIHRvIGRpc3BsYXkgaW4gdGV4dCBpbnB1dCBhbmQgZGF0ZXBpY2tlcidzIGJvZHkuXHJcbiAgICAgICAgICogQHBhcmFtIGRhdGUge0RhdGV8TnVtYmVyfSAtIGRhdGUgb3IgaG91cnNcclxuICAgICAgICAgKiBAcGFyYW0gW2FtcG1dIHtCb29sZWFufSAtIDEyIGhvdXJzIG1vZGVcclxuICAgICAgICAgKiBAcmV0dXJucyB7e2hvdXJzOiAqLCBkYXlQZXJpb2Q6IHN0cmluZ319XHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICBfZ2V0VmFsaWRIb3Vyc0Zyb21EYXRlOiBmdW5jdGlvbiAoZGF0ZSwgYW1wbSkge1xyXG4gICAgICAgICAgICB2YXIgZCA9IGRhdGUsXHJcbiAgICAgICAgICAgICAgICBob3VycyA9IGRhdGU7XHJcblxyXG4gICAgICAgICAgICBpZiAoZGF0ZSBpbnN0YW5jZW9mIERhdGUpIHtcclxuICAgICAgICAgICAgICAgIGQgPSBkcC5nZXRQYXJzZWREYXRlKGRhdGUpO1xyXG4gICAgICAgICAgICAgICAgaG91cnMgPSBkLmhvdXJzO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgX2FtcG0gPSBhbXBtIHx8IHRoaXMuZC5hbXBtLFxyXG4gICAgICAgICAgICAgICAgZGF5UGVyaW9kID0gJ2FtJztcclxuXHJcbiAgICAgICAgICAgIGlmIChfYW1wbSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoKHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIGhvdXJzID09IDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvdXJzID0gMTI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgaG91cnMgPT0gMTI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRheVBlcmlvZCA9ICdwbSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgaG91cnMgPiAxMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaG91cnMgPSBob3VycyAtIDEyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXlQZXJpb2QgPSAncG0nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGhvdXJzOiBob3VycyxcclxuICAgICAgICAgICAgICAgIGRheVBlcmlvZDogZGF5UGVyaW9kXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzZXQgaG91cnMgKHZhbCkge1xyXG4gICAgICAgICAgICB0aGlzLl9ob3VycyA9IHZhbDtcclxuXHJcbiAgICAgICAgICAgIHZhciBkaXNwbGF5SG91cnMgPSB0aGlzLl9nZXRWYWxpZEhvdXJzRnJvbURhdGUodmFsKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheUhvdXJzID0gZGlzcGxheUhvdXJzLmhvdXJzO1xyXG4gICAgICAgICAgICB0aGlzLmRheVBlcmlvZCA9IGRpc3BsYXlIb3Vycy5kYXlQZXJpb2Q7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZ2V0IGhvdXJzKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faG91cnM7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLy8gIEV2ZW50c1xyXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICAgICAgX29uQ2hhbmdlUmFuZ2U6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHZhciAkdGFyZ2V0ID0gJChlLnRhcmdldCksXHJcbiAgICAgICAgICAgICAgICBuYW1lID0gJHRhcmdldC5hdHRyKCduYW1lJyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLmQudGltZXBpY2tlcklzQWN0aXZlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIHRoaXNbbmFtZV0gPSAkdGFyZ2V0LnZhbCgpO1xyXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVDdXJyZW50VGltZSgpO1xyXG4gICAgICAgICAgICB0aGlzLmQuX3RyaWdnZXIoJ3RpbWVDaGFuZ2UnLCBbdGhpcy5ob3VycywgdGhpcy5taW51dGVzXSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVEYXRlKHRoaXMuZC5sYXN0U2VsZWN0ZWREYXRlKTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGUoKVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9vblNlbGVjdERhdGU6IGZ1bmN0aW9uIChlLCBkYXRhKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZURhdGUoZGF0YSk7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX29uTW91c2VFbnRlclJhbmdlOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICB2YXIgbmFtZSA9ICQoZS50YXJnZXQpLmF0dHIoJ25hbWUnKTtcclxuICAgICAgICAgICAgJCgnLmRhdGVwaWNrZXItLXRpbWUtY3VycmVudC0nICsgbmFtZSwgdGhpcy4kdGltZXBpY2tlcikuYWRkQ2xhc3MoJy1mb2N1cy0nKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfb25Nb3VzZU91dFJhbmdlOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICB2YXIgbmFtZSA9ICQoZS50YXJnZXQpLmF0dHIoJ25hbWUnKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZC5pbkZvY3VzKSByZXR1cm47IC8vIFByZXZlbnQgcmVtb3ZpbmcgZm9jdXMgd2hlbiBtb3VzZSBvdXQgb2YgcmFuZ2Ugc2xpZGVyXHJcbiAgICAgICAgICAgICQoJy5kYXRlcGlja2VyLS10aW1lLWN1cnJlbnQtJyArIG5hbWUsIHRoaXMuJHRpbWVwaWNrZXIpLnJlbW92ZUNsYXNzKCctZm9jdXMtJyk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX29uTW91c2VVcFJhbmdlOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLmQudGltZXBpY2tlcklzQWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufSkoKTtcclxuIH0pKHdpbmRvdywgalF1ZXJ5KTsiLCIvKiEgbm91aXNsaWRlciAtIDE0LjUuMCAtIDUvMTEvMjAyMCAqL1xuKGZ1bmN0aW9uKGZhY3RvcnkpIHtcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuICAgICAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgLy8gTm9kZS9Db21tb25KU1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBCcm93c2VyIGdsb2JhbHNcbiAgICAgICAgd2luZG93Lm5vVWlTbGlkZXIgPSBmYWN0b3J5KCk7XG4gICAgfVxufSkoZnVuY3Rpb24oKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICB2YXIgVkVSU0lPTiA9IFwiMTQuNS4wXCI7XG5cbiAgICAvL3JlZ2lvbiBIZWxwZXIgTWV0aG9kc1xuXG4gICAgZnVuY3Rpb24gaXNWYWxpZEZvcm1hdHRlcihlbnRyeSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGVudHJ5ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBlbnRyeS50byA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBlbnRyeS5mcm9tID09PSBcImZ1bmN0aW9uXCI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVtb3ZlRWxlbWVudChlbCkge1xuICAgICAgICBlbC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGVsKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1NldCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvLyBCaW5kYWJsZSB2ZXJzaW9uXG4gICAgZnVuY3Rpb24gcHJldmVudERlZmF1bHQoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlcyBkdXBsaWNhdGVzIGZyb20gYW4gYXJyYXkuXG4gICAgZnVuY3Rpb24gdW5pcXVlKGFycmF5KSB7XG4gICAgICAgIHJldHVybiBhcnJheS5maWx0ZXIoZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgcmV0dXJuICF0aGlzW2FdID8gKHRoaXNbYV0gPSB0cnVlKSA6IGZhbHNlO1xuICAgICAgICB9LCB7fSk7XG4gICAgfVxuXG4gICAgLy8gUm91bmQgYSB2YWx1ZSB0byB0aGUgY2xvc2VzdCAndG8nLlxuICAgIGZ1bmN0aW9uIGNsb3Nlc3QodmFsdWUsIHRvKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlIC8gdG8pICogdG87XG4gICAgfVxuXG4gICAgLy8gQ3VycmVudCBwb3NpdGlvbiBvZiBhbiBlbGVtZW50IHJlbGF0aXZlIHRvIHRoZSBkb2N1bWVudC5cbiAgICBmdW5jdGlvbiBvZmZzZXQoZWxlbSwgb3JpZW50YXRpb24pIHtcbiAgICAgICAgdmFyIHJlY3QgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB2YXIgZG9jID0gZWxlbS5vd25lckRvY3VtZW50O1xuICAgICAgICB2YXIgZG9jRWxlbSA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIHZhciBwYWdlT2Zmc2V0ID0gZ2V0UGFnZU9mZnNldChkb2MpO1xuXG4gICAgICAgIC8vIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBjb250YWlucyBsZWZ0IHNjcm9sbCBpbiBDaHJvbWUgb24gQW5kcm9pZC5cbiAgICAgICAgLy8gSSBoYXZlbid0IGZvdW5kIGEgZmVhdHVyZSBkZXRlY3Rpb24gdGhhdCBwcm92ZXMgdGhpcy4gV29yc3QgY2FzZVxuICAgICAgICAvLyBzY2VuYXJpbyBvbiBtaXMtbWF0Y2g6IHRoZSAndGFwJyBmZWF0dXJlIG9uIGhvcml6b250YWwgc2xpZGVycyBicmVha3MuXG4gICAgICAgIGlmICgvd2Via2l0LipDaHJvbWUuKk1vYmlsZS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcbiAgICAgICAgICAgIHBhZ2VPZmZzZXQueCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb3JpZW50YXRpb25cbiAgICAgICAgICAgID8gcmVjdC50b3AgKyBwYWdlT2Zmc2V0LnkgLSBkb2NFbGVtLmNsaWVudFRvcFxuICAgICAgICAgICAgOiByZWN0LmxlZnQgKyBwYWdlT2Zmc2V0LnggLSBkb2NFbGVtLmNsaWVudExlZnQ7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2tzIHdoZXRoZXIgYSB2YWx1ZSBpcyBudW1lcmljYWwuXG4gICAgZnVuY3Rpb24gaXNOdW1lcmljKGEpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBhID09PSBcIm51bWJlclwiICYmICFpc05hTihhKSAmJiBpc0Zpbml0ZShhKTtcbiAgICB9XG5cbiAgICAvLyBTZXRzIGEgY2xhc3MgYW5kIHJlbW92ZXMgaXQgYWZ0ZXIgW2R1cmF0aW9uXSBtcy5cbiAgICBmdW5jdGlvbiBhZGRDbGFzc0ZvcihlbGVtZW50LCBjbGFzc05hbWUsIGR1cmF0aW9uKSB7XG4gICAgICAgIGlmIChkdXJhdGlvbiA+IDApIHtcbiAgICAgICAgICAgIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICAgICAgICB9LCBkdXJhdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBMaW1pdHMgYSB2YWx1ZSB0byAwIC0gMTAwXG4gICAgZnVuY3Rpb24gbGltaXQoYSkge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4oYSwgMTAwKSwgMCk7XG4gICAgfVxuXG4gICAgLy8gV3JhcHMgYSB2YXJpYWJsZSBhcyBhbiBhcnJheSwgaWYgaXQgaXNuJ3Qgb25lIHlldC5cbiAgICAvLyBOb3RlIHRoYXQgYW4gaW5wdXQgYXJyYXkgaXMgcmV0dXJuZWQgYnkgcmVmZXJlbmNlIVxuICAgIGZ1bmN0aW9uIGFzQXJyYXkoYSkge1xuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShhKSA/IGEgOiBbYV07XG4gICAgfVxuXG4gICAgLy8gQ291bnRzIGRlY2ltYWxzXG4gICAgZnVuY3Rpb24gY291bnREZWNpbWFscyhudW1TdHIpIHtcbiAgICAgICAgbnVtU3RyID0gU3RyaW5nKG51bVN0cik7XG4gICAgICAgIHZhciBwaWVjZXMgPSBudW1TdHIuc3BsaXQoXCIuXCIpO1xuICAgICAgICByZXR1cm4gcGllY2VzLmxlbmd0aCA+IDEgPyBwaWVjZXNbMV0ubGVuZ3RoIDogMDtcbiAgICB9XG5cbiAgICAvLyBodHRwOi8veW91bWlnaHRub3RuZWVkanF1ZXJ5LmNvbS8jYWRkX2NsYXNzXG4gICAgZnVuY3Rpb24gYWRkQ2xhc3MoZWwsIGNsYXNzTmFtZSkge1xuICAgICAgICBpZiAoZWwuY2xhc3NMaXN0ICYmICEvXFxzLy50ZXN0KGNsYXNzTmFtZSkpIHtcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsLmNsYXNzTmFtZSArPSBcIiBcIiArIGNsYXNzTmFtZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGh0dHA6Ly95b3VtaWdodG5vdG5lZWRqcXVlcnkuY29tLyNyZW1vdmVfY2xhc3NcbiAgICBmdW5jdGlvbiByZW1vdmVDbGFzcyhlbCwgY2xhc3NOYW1lKSB7XG4gICAgICAgIGlmIChlbC5jbGFzc0xpc3QgJiYgIS9cXHMvLnRlc3QoY2xhc3NOYW1lKSkge1xuICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWwuY2xhc3NOYW1lID0gZWwuY2xhc3NOYW1lLnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgbmV3IFJlZ0V4cChcIihefFxcXFxiKVwiICsgY2xhc3NOYW1lLnNwbGl0KFwiIFwiKS5qb2luKFwifFwiKSArIFwiKFxcXFxifCQpXCIsIFwiZ2lcIiksXG4gICAgICAgICAgICAgICAgXCIgXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBodHRwczovL3BsYWluanMuY29tL2phdmFzY3JpcHQvYXR0cmlidXRlcy9hZGRpbmctcmVtb3ZpbmctYW5kLXRlc3RpbmctZm9yLWNsYXNzZXMtOS9cbiAgICBmdW5jdGlvbiBoYXNDbGFzcyhlbCwgY2xhc3NOYW1lKSB7XG4gICAgICAgIHJldHVybiBlbC5jbGFzc0xpc3RcbiAgICAgICAgICAgID8gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSlcbiAgICAgICAgICAgIDogbmV3IFJlZ0V4cChcIlxcXFxiXCIgKyBjbGFzc05hbWUgKyBcIlxcXFxiXCIpLnRlc3QoZWwuY2xhc3NOYW1lKTtcbiAgICB9XG5cbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2luZG93L3Njcm9sbFkjTm90ZXNcbiAgICBmdW5jdGlvbiBnZXRQYWdlT2Zmc2V0KGRvYykge1xuICAgICAgICB2YXIgc3VwcG9ydFBhZ2VPZmZzZXQgPSB3aW5kb3cucGFnZVhPZmZzZXQgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIGlzQ1NTMUNvbXBhdCA9IChkb2MuY29tcGF0TW9kZSB8fCBcIlwiKSA9PT0gXCJDU1MxQ29tcGF0XCI7XG4gICAgICAgIHZhciB4ID0gc3VwcG9ydFBhZ2VPZmZzZXRcbiAgICAgICAgICAgID8gd2luZG93LnBhZ2VYT2Zmc2V0XG4gICAgICAgICAgICA6IGlzQ1NTMUNvbXBhdFxuICAgICAgICAgICAgICAgID8gZG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0XG4gICAgICAgICAgICAgICAgOiBkb2MuYm9keS5zY3JvbGxMZWZ0O1xuICAgICAgICB2YXIgeSA9IHN1cHBvcnRQYWdlT2Zmc2V0XG4gICAgICAgICAgICA/IHdpbmRvdy5wYWdlWU9mZnNldFxuICAgICAgICAgICAgOiBpc0NTUzFDb21wYXRcbiAgICAgICAgICAgICAgICA/IGRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wXG4gICAgICAgICAgICAgICAgOiBkb2MuYm9keS5zY3JvbGxUb3A7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gd2UgcHJvdmlkZSBhIGZ1bmN0aW9uIHRvIGNvbXB1dGUgY29uc3RhbnRzIGluc3RlYWRcbiAgICAvLyBvZiBhY2Nlc3Npbmcgd2luZG93LiogYXMgc29vbiBhcyB0aGUgbW9kdWxlIG5lZWRzIGl0XG4gICAgLy8gc28gdGhhdCB3ZSBkbyBub3QgY29tcHV0ZSBhbnl0aGluZyBpZiBub3QgbmVlZGVkXG4gICAgZnVuY3Rpb24gZ2V0QWN0aW9ucygpIHtcbiAgICAgICAgLy8gRGV0ZXJtaW5lIHRoZSBldmVudHMgdG8gYmluZC4gSUUxMSBpbXBsZW1lbnRzIHBvaW50ZXJFdmVudHMgd2l0aG91dFxuICAgICAgICAvLyBhIHByZWZpeCwgd2hpY2ggYnJlYWtzIGNvbXBhdGliaWxpdHkgd2l0aCB0aGUgSUUxMCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgICAgcmV0dXJuIHdpbmRvdy5uYXZpZ2F0b3IucG9pbnRlckVuYWJsZWRcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgc3RhcnQ6IFwicG9pbnRlcmRvd25cIixcbiAgICAgICAgICAgICAgICAgIG1vdmU6IFwicG9pbnRlcm1vdmVcIixcbiAgICAgICAgICAgICAgICAgIGVuZDogXCJwb2ludGVydXBcIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZFxuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBcIk1TUG9pbnRlckRvd25cIixcbiAgICAgICAgICAgICAgICAgICAgICBtb3ZlOiBcIk1TUG9pbnRlck1vdmVcIixcbiAgICAgICAgICAgICAgICAgICAgICBlbmQ6IFwiTVNQb2ludGVyVXBcIlxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBcIm1vdXNlZG93biB0b3VjaHN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgbW92ZTogXCJtb3VzZW1vdmUgdG91Y2htb3ZlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgZW5kOiBcIm1vdXNldXAgdG91Y2hlbmRcIlxuICAgICAgICAgICAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vV0lDRy9FdmVudExpc3RlbmVyT3B0aW9ucy9ibG9iL2doLXBhZ2VzL2V4cGxhaW5lci5tZFxuICAgIC8vIElzc3VlICM3ODVcbiAgICBmdW5jdGlvbiBnZXRTdXBwb3J0c1Bhc3NpdmUoKSB7XG4gICAgICAgIHZhciBzdXBwb3J0c1Bhc3NpdmUgPSBmYWxzZTtcblxuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSAqL1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIG9wdHMgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sIFwicGFzc2l2ZVwiLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VwcG9ydHNQYXNzaXZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0ZXN0XCIsIG51bGwsIG9wdHMpO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlICovXG5cbiAgICAgICAgcmV0dXJuIHN1cHBvcnRzUGFzc2l2ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTdXBwb3J0c1RvdWNoQWN0aW9uTm9uZSgpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5DU1MgJiYgQ1NTLnN1cHBvcnRzICYmIENTUy5zdXBwb3J0cyhcInRvdWNoLWFjdGlvblwiLCBcIm5vbmVcIik7XG4gICAgfVxuXG4gICAgLy9lbmRyZWdpb25cblxuICAgIC8vcmVnaW9uIFJhbmdlIENhbGN1bGF0aW9uXG5cbiAgICAvLyBEZXRlcm1pbmUgdGhlIHNpemUgb2YgYSBzdWItcmFuZ2UgaW4gcmVsYXRpb24gdG8gYSBmdWxsIHJhbmdlLlxuICAgIGZ1bmN0aW9uIHN1YlJhbmdlUmF0aW8ocGEsIHBiKSB7XG4gICAgICAgIHJldHVybiAxMDAgLyAocGIgLSBwYSk7XG4gICAgfVxuXG4gICAgLy8gKHBlcmNlbnRhZ2UpIEhvdyBtYW55IHBlcmNlbnQgaXMgdGhpcyB2YWx1ZSBvZiB0aGlzIHJhbmdlP1xuICAgIGZ1bmN0aW9uIGZyb21QZXJjZW50YWdlKHJhbmdlLCB2YWx1ZSwgc3RhcnRSYW5nZSkge1xuICAgICAgICByZXR1cm4gKHZhbHVlICogMTAwKSAvIChyYW5nZVtzdGFydFJhbmdlICsgMV0gLSByYW5nZVtzdGFydFJhbmdlXSk7XG4gICAgfVxuXG4gICAgLy8gKHBlcmNlbnRhZ2UpIFdoZXJlIGlzIHRoaXMgdmFsdWUgb24gdGhpcyByYW5nZT9cbiAgICBmdW5jdGlvbiB0b1BlcmNlbnRhZ2UocmFuZ2UsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBmcm9tUGVyY2VudGFnZShyYW5nZSwgcmFuZ2VbMF0gPCAwID8gdmFsdWUgKyBNYXRoLmFicyhyYW5nZVswXSkgOiB2YWx1ZSAtIHJhbmdlWzBdLCAwKTtcbiAgICB9XG5cbiAgICAvLyAodmFsdWUpIEhvdyBtdWNoIGlzIHRoaXMgcGVyY2VudGFnZSBvbiB0aGlzIHJhbmdlP1xuICAgIGZ1bmN0aW9uIGlzUGVyY2VudGFnZShyYW5nZSwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICh2YWx1ZSAqIChyYW5nZVsxXSAtIHJhbmdlWzBdKSkgLyAxMDAgKyByYW5nZVswXTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRKKHZhbHVlLCBhcnIpIHtcbiAgICAgICAgdmFyIGogPSAxO1xuXG4gICAgICAgIHdoaWxlICh2YWx1ZSA+PSBhcnJbal0pIHtcbiAgICAgICAgICAgIGogKz0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBqO1xuICAgIH1cblxuICAgIC8vIChwZXJjZW50YWdlKSBJbnB1dCBhIHZhbHVlLCBmaW5kIHdoZXJlLCBvbiBhIHNjYWxlIG9mIDAtMTAwLCBpdCBhcHBsaWVzLlxuICAgIGZ1bmN0aW9uIHRvU3RlcHBpbmcoeFZhbCwgeFBjdCwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlID49IHhWYWwuc2xpY2UoLTEpWzBdKSB7XG4gICAgICAgICAgICByZXR1cm4gMTAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGogPSBnZXRKKHZhbHVlLCB4VmFsKTtcbiAgICAgICAgdmFyIHZhID0geFZhbFtqIC0gMV07XG4gICAgICAgIHZhciB2YiA9IHhWYWxbal07XG4gICAgICAgIHZhciBwYSA9IHhQY3RbaiAtIDFdO1xuICAgICAgICB2YXIgcGIgPSB4UGN0W2pdO1xuXG4gICAgICAgIHJldHVybiBwYSArIHRvUGVyY2VudGFnZShbdmEsIHZiXSwgdmFsdWUpIC8gc3ViUmFuZ2VSYXRpbyhwYSwgcGIpO1xuICAgIH1cblxuICAgIC8vICh2YWx1ZSkgSW5wdXQgYSBwZXJjZW50YWdlLCBmaW5kIHdoZXJlIGl0IGlzIG9uIHRoZSBzcGVjaWZpZWQgcmFuZ2UuXG4gICAgZnVuY3Rpb24gZnJvbVN0ZXBwaW5nKHhWYWwsIHhQY3QsIHZhbHVlKSB7XG4gICAgICAgIC8vIFRoZXJlIGlzIG5vIHJhbmdlIGdyb3VwIHRoYXQgZml0cyAxMDBcbiAgICAgICAgaWYgKHZhbHVlID49IDEwMCkge1xuICAgICAgICAgICAgcmV0dXJuIHhWYWwuc2xpY2UoLTEpWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGogPSBnZXRKKHZhbHVlLCB4UGN0KTtcbiAgICAgICAgdmFyIHZhID0geFZhbFtqIC0gMV07XG4gICAgICAgIHZhciB2YiA9IHhWYWxbal07XG4gICAgICAgIHZhciBwYSA9IHhQY3RbaiAtIDFdO1xuICAgICAgICB2YXIgcGIgPSB4UGN0W2pdO1xuXG4gICAgICAgIHJldHVybiBpc1BlcmNlbnRhZ2UoW3ZhLCB2Yl0sICh2YWx1ZSAtIHBhKSAqIHN1YlJhbmdlUmF0aW8ocGEsIHBiKSk7XG4gICAgfVxuXG4gICAgLy8gKHBlcmNlbnRhZ2UpIEdldCB0aGUgc3RlcCB0aGF0IGFwcGxpZXMgYXQgYSBjZXJ0YWluIHZhbHVlLlxuICAgIGZ1bmN0aW9uIGdldFN0ZXAoeFBjdCwgeFN0ZXBzLCBzbmFwLCB2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IDEwMCkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGogPSBnZXRKKHZhbHVlLCB4UGN0KTtcbiAgICAgICAgdmFyIGEgPSB4UGN0W2ogLSAxXTtcbiAgICAgICAgdmFyIGIgPSB4UGN0W2pdO1xuXG4gICAgICAgIC8vIElmICdzbmFwJyBpcyBzZXQsIHN0ZXBzIGFyZSB1c2VkIGFzIGZpeGVkIHBvaW50cyBvbiB0aGUgc2xpZGVyLlxuICAgICAgICBpZiAoc25hcCkge1xuICAgICAgICAgICAgLy8gRmluZCB0aGUgY2xvc2VzdCBwb3NpdGlvbiwgYSBvciBiLlxuICAgICAgICAgICAgaWYgKHZhbHVlIC0gYSA+IChiIC0gYSkgLyAyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF4U3RlcHNbaiAtIDFdKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geFBjdFtqIC0gMV0gKyBjbG9zZXN0KHZhbHVlIC0geFBjdFtqIC0gMV0sIHhTdGVwc1tqIC0gMV0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZUVudHJ5UG9pbnQoaW5kZXgsIHZhbHVlLCB0aGF0KSB7XG4gICAgICAgIHZhciBwZXJjZW50YWdlO1xuXG4gICAgICAgIC8vIFdyYXAgbnVtZXJpY2FsIGlucHV0IGluIGFuIGFycmF5LlxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IFt2YWx1ZV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZWplY3QgYW55IGludmFsaWQgaW5wdXQsIGJ5IHRlc3Rpbmcgd2hldGhlciB2YWx1ZSBpcyBhbiBhcnJheS5cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAncmFuZ2UnIGNvbnRhaW5zIGludmFsaWQgdmFsdWUuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ292ZXJ0IG1pbi9tYXggc3ludGF4IHRvIDAgYW5kIDEwMC5cbiAgICAgICAgaWYgKGluZGV4ID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICBwZXJjZW50YWdlID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChpbmRleCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgcGVyY2VudGFnZSA9IDEwMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlcmNlbnRhZ2UgPSBwYXJzZUZsb2F0KGluZGV4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGZvciBjb3JyZWN0IGlucHV0LlxuICAgICAgICBpZiAoIWlzTnVtZXJpYyhwZXJjZW50YWdlKSB8fCAhaXNOdW1lcmljKHZhbHVlWzBdKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAncmFuZ2UnIHZhbHVlIGlzbid0IG51bWVyaWMuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RvcmUgdmFsdWVzLlxuICAgICAgICB0aGF0LnhQY3QucHVzaChwZXJjZW50YWdlKTtcbiAgICAgICAgdGhhdC54VmFsLnB1c2godmFsdWVbMF0pO1xuXG4gICAgICAgIC8vIE5hTiB3aWxsIGV2YWx1YXRlIHRvIGZhbHNlIHRvbywgYnV0IHRvIGtlZXBcbiAgICAgICAgLy8gbG9nZ2luZyBjbGVhciwgc2V0IHN0ZXAgZXhwbGljaXRseS4gTWFrZSBzdXJlXG4gICAgICAgIC8vIG5vdCB0byBvdmVycmlkZSB0aGUgJ3N0ZXAnIHNldHRpbmcgd2l0aCBmYWxzZS5cbiAgICAgICAgaWYgKCFwZXJjZW50YWdlKSB7XG4gICAgICAgICAgICBpZiAoIWlzTmFOKHZhbHVlWzFdKSkge1xuICAgICAgICAgICAgICAgIHRoYXQueFN0ZXBzWzBdID0gdmFsdWVbMV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGF0LnhTdGVwcy5wdXNoKGlzTmFOKHZhbHVlWzFdKSA/IGZhbHNlIDogdmFsdWVbMV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhhdC54SGlnaGVzdENvbXBsZXRlU3RlcC5wdXNoKDApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVN0ZXBQb2ludChpLCBuLCB0aGF0KSB7XG4gICAgICAgIC8vIElnbm9yZSAnZmFsc2UnIHN0ZXBwaW5nLlxuICAgICAgICBpZiAoIW4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0ZXAgb3ZlciB6ZXJvLWxlbmd0aCByYW5nZXMgKCM5NDgpO1xuICAgICAgICBpZiAodGhhdC54VmFsW2ldID09PSB0aGF0LnhWYWxbaSArIDFdKSB7XG4gICAgICAgICAgICB0aGF0LnhTdGVwc1tpXSA9IHRoYXQueEhpZ2hlc3RDb21wbGV0ZVN0ZXBbaV0gPSB0aGF0LnhWYWxbaV07XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZhY3RvciB0byByYW5nZSByYXRpb1xuICAgICAgICB0aGF0LnhTdGVwc1tpXSA9XG4gICAgICAgICAgICBmcm9tUGVyY2VudGFnZShbdGhhdC54VmFsW2ldLCB0aGF0LnhWYWxbaSArIDFdXSwgbiwgMCkgLyBzdWJSYW5nZVJhdGlvKHRoYXQueFBjdFtpXSwgdGhhdC54UGN0W2kgKyAxXSk7XG5cbiAgICAgICAgdmFyIHRvdGFsU3RlcHMgPSAodGhhdC54VmFsW2kgKyAxXSAtIHRoYXQueFZhbFtpXSkgLyB0aGF0LnhOdW1TdGVwc1tpXTtcbiAgICAgICAgdmFyIGhpZ2hlc3RTdGVwID0gTWF0aC5jZWlsKE51bWJlcih0b3RhbFN0ZXBzLnRvRml4ZWQoMykpIC0gMSk7XG4gICAgICAgIHZhciBzdGVwID0gdGhhdC54VmFsW2ldICsgdGhhdC54TnVtU3RlcHNbaV0gKiBoaWdoZXN0U3RlcDtcblxuICAgICAgICB0aGF0LnhIaWdoZXN0Q29tcGxldGVTdGVwW2ldID0gc3RlcDtcbiAgICB9XG5cbiAgICAvL2VuZHJlZ2lvblxuXG4gICAgLy9yZWdpb24gU3BlY3RydW1cblxuICAgIGZ1bmN0aW9uIFNwZWN0cnVtKGVudHJ5LCBzbmFwLCBzaW5nbGVTdGVwKSB7XG4gICAgICAgIHRoaXMueFBjdCA9IFtdO1xuICAgICAgICB0aGlzLnhWYWwgPSBbXTtcbiAgICAgICAgdGhpcy54U3RlcHMgPSBbc2luZ2xlU3RlcCB8fCBmYWxzZV07XG4gICAgICAgIHRoaXMueE51bVN0ZXBzID0gW2ZhbHNlXTtcbiAgICAgICAgdGhpcy54SGlnaGVzdENvbXBsZXRlU3RlcCA9IFtdO1xuXG4gICAgICAgIHRoaXMuc25hcCA9IHNuYXA7XG5cbiAgICAgICAgdmFyIGluZGV4O1xuICAgICAgICB2YXIgb3JkZXJlZCA9IFtdOyAvLyBbMCwgJ21pbiddLCBbMSwgJzUwJSddLCBbMiwgJ21heCddXG5cbiAgICAgICAgLy8gTWFwIHRoZSBvYmplY3Qga2V5cyB0byBhbiBhcnJheS5cbiAgICAgICAgZm9yIChpbmRleCBpbiBlbnRyeSkge1xuICAgICAgICAgICAgaWYgKGVudHJ5Lmhhc093blByb3BlcnR5KGluZGV4KSkge1xuICAgICAgICAgICAgICAgIG9yZGVyZWQucHVzaChbZW50cnlbaW5kZXhdLCBpbmRleF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU29ydCBhbGwgZW50cmllcyBieSB2YWx1ZSAobnVtZXJpYyBzb3J0KS5cbiAgICAgICAgaWYgKG9yZGVyZWQubGVuZ3RoICYmIHR5cGVvZiBvcmRlcmVkWzBdWzBdID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICBvcmRlcmVkLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBhWzBdWzBdIC0gYlswXVswXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3JkZXJlZC5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYVswXSAtIGJbMF07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENvbnZlcnQgYWxsIGVudHJpZXMgdG8gc3VicmFuZ2VzLlxuICAgICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBvcmRlcmVkLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgaGFuZGxlRW50cnlQb2ludChvcmRlcmVkW2luZGV4XVsxXSwgb3JkZXJlZFtpbmRleF1bMF0sIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RvcmUgdGhlIGFjdHVhbCBzdGVwIHZhbHVlcy5cbiAgICAgICAgLy8geFN0ZXBzIGlzIHNvcnRlZCBpbiB0aGUgc2FtZSBvcmRlciBhcyB4UGN0IGFuZCB4VmFsLlxuICAgICAgICB0aGlzLnhOdW1TdGVwcyA9IHRoaXMueFN0ZXBzLnNsaWNlKDApO1xuXG4gICAgICAgIC8vIENvbnZlcnQgYWxsIG51bWVyaWMgc3RlcHMgdG8gdGhlIHBlcmNlbnRhZ2Ugb2YgdGhlIHN1YnJhbmdlIHRoZXkgcmVwcmVzZW50LlxuICAgICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLnhOdW1TdGVwcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGhhbmRsZVN0ZXBQb2ludChpbmRleCwgdGhpcy54TnVtU3RlcHNbaW5kZXhdLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIFNwZWN0cnVtLnByb3RvdHlwZS5nZXREaXN0YW5jZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHZhciBpbmRleDtcbiAgICAgICAgdmFyIGRpc3RhbmNlcyA9IFtdO1xuXG4gICAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IHRoaXMueE51bVN0ZXBzLmxlbmd0aCAtIDE7IGluZGV4KyspIHtcbiAgICAgICAgICAgIC8vIGxhc3QgXCJyYW5nZVwiIGNhbid0IGNvbnRhaW4gc3RlcCBzaXplIGFzIGl0IGlzIHB1cmVseSBhbiBlbmRwb2ludC5cbiAgICAgICAgICAgIHZhciBzdGVwID0gdGhpcy54TnVtU3RlcHNbaW5kZXhdO1xuXG4gICAgICAgICAgICBpZiAoc3RlcCAmJiAodmFsdWUgLyBzdGVwKSAlIDEgIT09IDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIFwibm9VaVNsaWRlciAoXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgVkVSU0lPTiArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIik6ICdsaW1pdCcsICdtYXJnaW4nIGFuZCAncGFkZGluZycgb2YgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy54UGN0W2luZGV4XSArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiUgcmFuZ2UgbXVzdCBiZSBkaXZpc2libGUgYnkgc3RlcC5cIlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBwZXJjZW50dWFsIGRpc3RhbmNlIGluIGN1cnJlbnQgcmFuZ2Ugb2YgbGltaXQsIG1hcmdpbiBvciBwYWRkaW5nXG4gICAgICAgICAgICBkaXN0YW5jZXNbaW5kZXhdID0gZnJvbVBlcmNlbnRhZ2UodGhpcy54VmFsLCB2YWx1ZSwgaW5kZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRpc3RhbmNlcztcbiAgICB9O1xuXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBwZXJjZW50dWFsIGRpc3RhbmNlIG92ZXIgdGhlIHdob2xlIHNjYWxlIG9mIHJhbmdlcy5cbiAgICAvLyBkaXJlY3Rpb246IDAgPSBiYWNrd2FyZHMgLyAxID0gZm9yd2FyZHNcbiAgICBTcGVjdHJ1bS5wcm90b3R5cGUuZ2V0QWJzb2x1dGVEaXN0YW5jZSA9IGZ1bmN0aW9uKHZhbHVlLCBkaXN0YW5jZXMsIGRpcmVjdGlvbikge1xuICAgICAgICB2YXIgeFBjdF9pbmRleCA9IDA7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIHJhbmdlIHdoZXJlIHRvIHN0YXJ0IGNhbGN1bGF0aW9uXG4gICAgICAgIGlmICh2YWx1ZSA8IHRoaXMueFBjdFt0aGlzLnhQY3QubGVuZ3RoIC0gMV0pIHtcbiAgICAgICAgICAgIHdoaWxlICh2YWx1ZSA+IHRoaXMueFBjdFt4UGN0X2luZGV4ICsgMV0pIHtcbiAgICAgICAgICAgICAgICB4UGN0X2luZGV4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09IHRoaXMueFBjdFt0aGlzLnhQY3QubGVuZ3RoIC0gMV0pIHtcbiAgICAgICAgICAgIHhQY3RfaW5kZXggPSB0aGlzLnhQY3QubGVuZ3RoIC0gMjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIGxvb2tpbmcgYmFja3dhcmRzIGFuZCB0aGUgdmFsdWUgaXMgZXhhY3RseSBhdCBhIHJhbmdlIHNlcGFyYXRvciB0aGVuIGxvb2sgb25lIHJhbmdlIGZ1cnRoZXJcbiAgICAgICAgaWYgKCFkaXJlY3Rpb24gJiYgdmFsdWUgPT09IHRoaXMueFBjdFt4UGN0X2luZGV4ICsgMV0pIHtcbiAgICAgICAgICAgIHhQY3RfaW5kZXgrKztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdGFydF9mYWN0b3I7XG4gICAgICAgIHZhciByZXN0X2ZhY3RvciA9IDE7XG5cbiAgICAgICAgdmFyIHJlc3RfcmVsX2Rpc3RhbmNlID0gZGlzdGFuY2VzW3hQY3RfaW5kZXhdO1xuXG4gICAgICAgIHZhciByYW5nZV9wY3QgPSAwO1xuXG4gICAgICAgIHZhciByZWxfcmFuZ2VfZGlzdGFuY2UgPSAwO1xuICAgICAgICB2YXIgYWJzX2Rpc3RhbmNlX2NvdW50ZXIgPSAwO1xuICAgICAgICB2YXIgcmFuZ2VfY291bnRlciA9IDA7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIHdoYXQgcGFydCBvZiB0aGUgc3RhcnQgcmFuZ2UgdGhlIHZhbHVlIGlzXG4gICAgICAgIGlmIChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIHN0YXJ0X2ZhY3RvciA9ICh2YWx1ZSAtIHRoaXMueFBjdFt4UGN0X2luZGV4XSkgLyAodGhpcy54UGN0W3hQY3RfaW5kZXggKyAxXSAtIHRoaXMueFBjdFt4UGN0X2luZGV4XSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGFydF9mYWN0b3IgPSAodGhpcy54UGN0W3hQY3RfaW5kZXggKyAxXSAtIHZhbHVlKSAvICh0aGlzLnhQY3RbeFBjdF9pbmRleCArIDFdIC0gdGhpcy54UGN0W3hQY3RfaW5kZXhdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERvIHVudGlsIHRoZSBjb21wbGV0ZSBkaXN0YW5jZSBhY3Jvc3MgcmFuZ2VzIGlzIGNhbGN1bGF0ZWRcbiAgICAgICAgd2hpbGUgKHJlc3RfcmVsX2Rpc3RhbmNlID4gMCkge1xuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBwZXJjZW50YWdlIG9mIHRvdGFsIHJhbmdlXG4gICAgICAgICAgICByYW5nZV9wY3QgPSB0aGlzLnhQY3RbeFBjdF9pbmRleCArIDEgKyByYW5nZV9jb3VudGVyXSAtIHRoaXMueFBjdFt4UGN0X2luZGV4ICsgcmFuZ2VfY291bnRlcl07XG5cbiAgICAgICAgICAgIC8vIERldGVjdCBpZiB0aGUgbWFyZ2luLCBwYWRkaW5nIG9yIGxpbWl0IGlzIGxhcmdlciB0aGVuIHRoZSBjdXJyZW50IHJhbmdlIGFuZCBjYWxjdWxhdGVcbiAgICAgICAgICAgIGlmIChkaXN0YW5jZXNbeFBjdF9pbmRleCArIHJhbmdlX2NvdW50ZXJdICogcmVzdF9mYWN0b3IgKyAxMDAgLSBzdGFydF9mYWN0b3IgKiAxMDAgPiAxMDApIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBsYXJnZXIgdGhlbiB0YWtlIHRoZSBwZXJjZW50dWFsIGRpc3RhbmNlIG9mIHRoZSB3aG9sZSByYW5nZVxuICAgICAgICAgICAgICAgIHJlbF9yYW5nZV9kaXN0YW5jZSA9IHJhbmdlX3BjdCAqIHN0YXJ0X2ZhY3RvcjtcbiAgICAgICAgICAgICAgICAvLyBSZXN0IGZhY3RvciBvZiByZWxhdGl2ZSBwZXJjZW50dWFsIGRpc3RhbmNlIHN0aWxsIHRvIGJlIGNhbGN1bGF0ZWRcbiAgICAgICAgICAgICAgICByZXN0X2ZhY3RvciA9IChyZXN0X3JlbF9kaXN0YW5jZSAtIDEwMCAqIHN0YXJ0X2ZhY3RvcikgLyBkaXN0YW5jZXNbeFBjdF9pbmRleCArIHJhbmdlX2NvdW50ZXJdO1xuICAgICAgICAgICAgICAgIC8vIFNldCBzdGFydCBmYWN0b3IgdG8gMSBhcyBmb3IgbmV4dCByYW5nZSBpdCBkb2VzIG5vdCBhcHBseS5cbiAgICAgICAgICAgICAgICBzdGFydF9mYWN0b3IgPSAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBzbWFsbGVyIG9yIGVxdWFsIHRoZW4gdGFrZSB0aGUgcGVyY2VudHVhbCBkaXN0YW5jZSBvZiB0aGUgY2FsY3VsYXRlIHBlcmNlbnR1YWwgcGFydCBvZiB0aGF0IHJhbmdlXG4gICAgICAgICAgICAgICAgcmVsX3JhbmdlX2Rpc3RhbmNlID0gKChkaXN0YW5jZXNbeFBjdF9pbmRleCArIHJhbmdlX2NvdW50ZXJdICogcmFuZ2VfcGN0KSAvIDEwMCkgKiByZXN0X2ZhY3RvcjtcbiAgICAgICAgICAgICAgICAvLyBObyByZXN0IGxlZnQgYXMgdGhlIHJlc3QgZml0cyBpbiBjdXJyZW50IHJhbmdlXG4gICAgICAgICAgICAgICAgcmVzdF9mYWN0b3IgPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgYWJzX2Rpc3RhbmNlX2NvdW50ZXIgPSBhYnNfZGlzdGFuY2VfY291bnRlciAtIHJlbF9yYW5nZV9kaXN0YW5jZTtcbiAgICAgICAgICAgICAgICAvLyBMaW1pdCByYW5nZSB0byBmaXJzdCByYW5nZSB3aGVuIGRpc3RhbmNlIGJlY29tZXMgb3V0c2lkZSBvZiBtaW5pbXVtIHJhbmdlXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMueFBjdC5sZW5ndGggKyByYW5nZV9jb3VudGVyID49IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VfY291bnRlci0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYWJzX2Rpc3RhbmNlX2NvdW50ZXIgPSBhYnNfZGlzdGFuY2VfY291bnRlciArIHJlbF9yYW5nZV9kaXN0YW5jZTtcbiAgICAgICAgICAgICAgICAvLyBMaW1pdCByYW5nZSB0byBsYXN0IHJhbmdlIHdoZW4gZGlzdGFuY2UgYmVjb21lcyBvdXRzaWRlIG9mIG1heGltdW0gcmFuZ2VcbiAgICAgICAgICAgICAgICBpZiAodGhpcy54UGN0Lmxlbmd0aCAtIHJhbmdlX2NvdW50ZXIgPj0gMSkge1xuICAgICAgICAgICAgICAgICAgICByYW5nZV9jb3VudGVyKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSZXN0IG9mIHJlbGF0aXZlIHBlcmNlbnR1YWwgZGlzdGFuY2Ugc3RpbGwgdG8gYmUgY2FsY3VsYXRlZFxuICAgICAgICAgICAgcmVzdF9yZWxfZGlzdGFuY2UgPSBkaXN0YW5jZXNbeFBjdF9pbmRleCArIHJhbmdlX2NvdW50ZXJdICogcmVzdF9mYWN0b3I7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWUgKyBhYnNfZGlzdGFuY2VfY291bnRlcjtcbiAgICB9O1xuXG4gICAgU3BlY3RydW0ucHJvdG90eXBlLnRvU3RlcHBpbmcgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IHRvU3RlcHBpbmcodGhpcy54VmFsLCB0aGlzLnhQY3QsIHZhbHVlKTtcblxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcblxuICAgIFNwZWN0cnVtLnByb3RvdHlwZS5mcm9tU3RlcHBpbmcgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gZnJvbVN0ZXBwaW5nKHRoaXMueFZhbCwgdGhpcy54UGN0LCB2YWx1ZSk7XG4gICAgfTtcblxuICAgIFNwZWN0cnVtLnByb3RvdHlwZS5nZXRTdGVwID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSBnZXRTdGVwKHRoaXMueFBjdCwgdGhpcy54U3RlcHMsIHRoaXMuc25hcCwgdmFsdWUpO1xuXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuXG4gICAgU3BlY3RydW0ucHJvdG90eXBlLmdldERlZmF1bHRTdGVwID0gZnVuY3Rpb24odmFsdWUsIGlzRG93biwgc2l6ZSkge1xuICAgICAgICB2YXIgaiA9IGdldEoodmFsdWUsIHRoaXMueFBjdCk7XG5cbiAgICAgICAgLy8gV2hlbiBhdCB0aGUgdG9wIG9yIHN0ZXBwaW5nIGRvd24sIGxvb2sgYXQgdGhlIHByZXZpb3VzIHN1Yi1yYW5nZVxuICAgICAgICBpZiAodmFsdWUgPT09IDEwMCB8fCAoaXNEb3duICYmIHZhbHVlID09PSB0aGlzLnhQY3RbaiAtIDFdKSkge1xuICAgICAgICAgICAgaiA9IE1hdGgubWF4KGogLSAxLCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAodGhpcy54VmFsW2pdIC0gdGhpcy54VmFsW2ogLSAxXSkgLyBzaXplO1xuICAgIH07XG5cbiAgICBTcGVjdHJ1bS5wcm90b3R5cGUuZ2V0TmVhcmJ5U3RlcHMgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2YXIgaiA9IGdldEoodmFsdWUsIHRoaXMueFBjdCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0ZXBCZWZvcmU6IHtcbiAgICAgICAgICAgICAgICBzdGFydFZhbHVlOiB0aGlzLnhWYWxbaiAtIDJdLFxuICAgICAgICAgICAgICAgIHN0ZXA6IHRoaXMueE51bVN0ZXBzW2ogLSAyXSxcbiAgICAgICAgICAgICAgICBoaWdoZXN0U3RlcDogdGhpcy54SGlnaGVzdENvbXBsZXRlU3RlcFtqIC0gMl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0aGlzU3RlcDoge1xuICAgICAgICAgICAgICAgIHN0YXJ0VmFsdWU6IHRoaXMueFZhbFtqIC0gMV0sXG4gICAgICAgICAgICAgICAgc3RlcDogdGhpcy54TnVtU3RlcHNbaiAtIDFdLFxuICAgICAgICAgICAgICAgIGhpZ2hlc3RTdGVwOiB0aGlzLnhIaWdoZXN0Q29tcGxldGVTdGVwW2ogLSAxXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0ZXBBZnRlcjoge1xuICAgICAgICAgICAgICAgIHN0YXJ0VmFsdWU6IHRoaXMueFZhbFtqXSxcbiAgICAgICAgICAgICAgICBzdGVwOiB0aGlzLnhOdW1TdGVwc1tqXSxcbiAgICAgICAgICAgICAgICBoaWdoZXN0U3RlcDogdGhpcy54SGlnaGVzdENvbXBsZXRlU3RlcFtqXVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICBTcGVjdHJ1bS5wcm90b3R5cGUuY291bnRTdGVwRGVjaW1hbHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHN0ZXBEZWNpbWFscyA9IHRoaXMueE51bVN0ZXBzLm1hcChjb3VudERlY2ltYWxzKTtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4LmFwcGx5KG51bGwsIHN0ZXBEZWNpbWFscyk7XG4gICAgfTtcblxuICAgIC8vIE91dHNpZGUgdGVzdGluZ1xuICAgIFNwZWN0cnVtLnByb3RvdHlwZS5jb252ZXJ0ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U3RlcCh0aGlzLnRvU3RlcHBpbmcodmFsdWUpKTtcbiAgICB9O1xuXG4gICAgLy9lbmRyZWdpb25cblxuICAgIC8vcmVnaW9uIE9wdGlvbnNcblxuICAgIC8qXHRFdmVyeSBpbnB1dCBvcHRpb24gaXMgdGVzdGVkIGFuZCBwYXJzZWQuIFRoaXMnbGwgcHJldmVudFxuICAgICAgICBlbmRsZXNzIHZhbGlkYXRpb24gaW4gaW50ZXJuYWwgbWV0aG9kcy4gVGhlc2UgdGVzdHMgYXJlXG4gICAgICAgIHN0cnVjdHVyZWQgd2l0aCBhbiBpdGVtIGZvciBldmVyeSBvcHRpb24gYXZhaWxhYmxlLiBBblxuICAgICAgICBvcHRpb24gY2FuIGJlIG1hcmtlZCBhcyByZXF1aXJlZCBieSBzZXR0aW5nIHRoZSAncicgZmxhZy5cbiAgICAgICAgVGhlIHRlc3RpbmcgZnVuY3Rpb24gaXMgcHJvdmlkZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6XG4gICAgICAgICAgICAtIFRoZSBwcm92aWRlZCB2YWx1ZSBmb3IgdGhlIG9wdGlvbjtcbiAgICAgICAgICAgIC0gQSByZWZlcmVuY2UgdG8gdGhlIG9wdGlvbnMgb2JqZWN0O1xuICAgICAgICAgICAgLSBUaGUgbmFtZSBmb3IgdGhlIG9wdGlvbjtcblxuICAgICAgICBUaGUgdGVzdGluZyBmdW5jdGlvbiByZXR1cm5zIGZhbHNlIHdoZW4gYW4gZXJyb3IgaXMgZGV0ZWN0ZWQsXG4gICAgICAgIG9yIHRydWUgd2hlbiBldmVyeXRoaW5nIGlzIE9LLiBJdCBjYW4gYWxzbyBtb2RpZnkgdGhlIG9wdGlvblxuICAgICAgICBvYmplY3QsIHRvIG1ha2Ugc3VyZSBhbGwgdmFsdWVzIGNhbiBiZSBjb3JyZWN0bHkgbG9vcGVkIGVsc2V3aGVyZS4gKi9cblxuICAgIC8vcmVnaW9uIERlZmF1bHRzXG5cbiAgICB2YXIgZGVmYXVsdEZvcm1hdHRlciA9IHtcbiAgICAgICAgdG86IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZS50b0ZpeGVkKDIpO1xuICAgICAgICB9LFxuICAgICAgICBmcm9tOiBOdW1iZXJcbiAgICB9O1xuXG4gICAgdmFyIGNzc0NsYXNzZXMgPSB7XG4gICAgICAgIHRhcmdldDogXCJ0YXJnZXRcIixcbiAgICAgICAgYmFzZTogXCJiYXNlXCIsXG4gICAgICAgIG9yaWdpbjogXCJvcmlnaW5cIixcbiAgICAgICAgaGFuZGxlOiBcImhhbmRsZVwiLFxuICAgICAgICBoYW5kbGVMb3dlcjogXCJoYW5kbGUtbG93ZXJcIixcbiAgICAgICAgaGFuZGxlVXBwZXI6IFwiaGFuZGxlLXVwcGVyXCIsXG4gICAgICAgIHRvdWNoQXJlYTogXCJ0b3VjaC1hcmVhXCIsXG4gICAgICAgIGhvcml6b250YWw6IFwiaG9yaXpvbnRhbFwiLFxuICAgICAgICB2ZXJ0aWNhbDogXCJ2ZXJ0aWNhbFwiLFxuICAgICAgICBiYWNrZ3JvdW5kOiBcImJhY2tncm91bmRcIixcbiAgICAgICAgY29ubmVjdDogXCJjb25uZWN0XCIsXG4gICAgICAgIGNvbm5lY3RzOiBcImNvbm5lY3RzXCIsXG4gICAgICAgIGx0cjogXCJsdHJcIixcbiAgICAgICAgcnRsOiBcInJ0bFwiLFxuICAgICAgICB0ZXh0RGlyZWN0aW9uTHRyOiBcInR4dC1kaXItbHRyXCIsXG4gICAgICAgIHRleHREaXJlY3Rpb25SdGw6IFwidHh0LWRpci1ydGxcIixcbiAgICAgICAgZHJhZ2dhYmxlOiBcImRyYWdnYWJsZVwiLFxuICAgICAgICBkcmFnOiBcInN0YXRlLWRyYWdcIixcbiAgICAgICAgdGFwOiBcInN0YXRlLXRhcFwiLFxuICAgICAgICBhY3RpdmU6IFwiYWN0aXZlXCIsXG4gICAgICAgIHRvb2x0aXA6IFwidG9vbHRpcFwiLFxuICAgICAgICBwaXBzOiBcInBpcHNcIixcbiAgICAgICAgcGlwc0hvcml6b250YWw6IFwicGlwcy1ob3Jpem9udGFsXCIsXG4gICAgICAgIHBpcHNWZXJ0aWNhbDogXCJwaXBzLXZlcnRpY2FsXCIsXG4gICAgICAgIG1hcmtlcjogXCJtYXJrZXJcIixcbiAgICAgICAgbWFya2VySG9yaXpvbnRhbDogXCJtYXJrZXItaG9yaXpvbnRhbFwiLFxuICAgICAgICBtYXJrZXJWZXJ0aWNhbDogXCJtYXJrZXItdmVydGljYWxcIixcbiAgICAgICAgbWFya2VyTm9ybWFsOiBcIm1hcmtlci1ub3JtYWxcIixcbiAgICAgICAgbWFya2VyTGFyZ2U6IFwibWFya2VyLWxhcmdlXCIsXG4gICAgICAgIG1hcmtlclN1YjogXCJtYXJrZXItc3ViXCIsXG4gICAgICAgIHZhbHVlOiBcInZhbHVlXCIsXG4gICAgICAgIHZhbHVlSG9yaXpvbnRhbDogXCJ2YWx1ZS1ob3Jpem9udGFsXCIsXG4gICAgICAgIHZhbHVlVmVydGljYWw6IFwidmFsdWUtdmVydGljYWxcIixcbiAgICAgICAgdmFsdWVOb3JtYWw6IFwidmFsdWUtbm9ybWFsXCIsXG4gICAgICAgIHZhbHVlTGFyZ2U6IFwidmFsdWUtbGFyZ2VcIixcbiAgICAgICAgdmFsdWVTdWI6IFwidmFsdWUtc3ViXCJcbiAgICB9O1xuXG4gICAgLy9lbmRyZWdpb25cblxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlRm9ybWF0KGVudHJ5KSB7XG4gICAgICAgIC8vIEFueSBvYmplY3Qgd2l0aCBhIHRvIGFuZCBmcm9tIG1ldGhvZCBpcyBzdXBwb3J0ZWQuXG4gICAgICAgIGlmIChpc1ZhbGlkRm9ybWF0dGVyKGVudHJ5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdmb3JtYXQnIHJlcXVpcmVzICd0bycgYW5kICdmcm9tJyBtZXRob2RzLlwiKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0ZXN0U3RlcChwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIGlmICghaXNOdW1lcmljKGVudHJ5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnc3RlcCcgaXMgbm90IG51bWVyaWMuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlIHN0ZXAgb3B0aW9uIGNhbiBzdGlsbCBiZSB1c2VkIHRvIHNldCBzdGVwcGluZ1xuICAgICAgICAvLyBmb3IgbGluZWFyIHNsaWRlcnMuIE92ZXJ3cml0dGVuIGlmIHNldCBpbiAncmFuZ2UnLlxuICAgICAgICBwYXJzZWQuc2luZ2xlU3RlcCA9IGVudHJ5O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRlc3RSYW5nZShwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIC8vIEZpbHRlciBpbmNvcnJlY3QgaW5wdXQuXG4gICAgICAgIGlmICh0eXBlb2YgZW50cnkgIT09IFwib2JqZWN0XCIgfHwgQXJyYXkuaXNBcnJheShlbnRyeSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3JhbmdlJyBpcyBub3QgYW4gb2JqZWN0LlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhdGNoIG1pc3Npbmcgc3RhcnQgb3IgZW5kLlxuICAgICAgICBpZiAoZW50cnkubWluID09PSB1bmRlZmluZWQgfHwgZW50cnkubWF4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogTWlzc2luZyAnbWluJyBvciAnbWF4JyBpbiAncmFuZ2UnLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhdGNoIGVxdWFsIHN0YXJ0IG9yIGVuZC5cbiAgICAgICAgaWYgKGVudHJ5Lm1pbiA9PT0gZW50cnkubWF4KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdyYW5nZScgJ21pbicgYW5kICdtYXgnIGNhbm5vdCBiZSBlcXVhbC5cIik7XG4gICAgICAgIH1cblxuICAgICAgICBwYXJzZWQuc3BlY3RydW0gPSBuZXcgU3BlY3RydW0oZW50cnksIHBhcnNlZC5zbmFwLCBwYXJzZWQuc2luZ2xlU3RlcCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGVzdFN0YXJ0KHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgZW50cnkgPSBhc0FycmF5KGVudHJ5KTtcblxuICAgICAgICAvLyBWYWxpZGF0ZSBpbnB1dC4gVmFsdWVzIGFyZW4ndCB0ZXN0ZWQsIGFzIHRoZSBwdWJsaWMgLnZhbCBtZXRob2RcbiAgICAgICAgLy8gd2lsbCBhbHdheXMgcHJvdmlkZSBhIHZhbGlkIGxvY2F0aW9uLlxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZW50cnkpIHx8ICFlbnRyeS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3N0YXJ0JyBvcHRpb24gaXMgaW5jb3JyZWN0LlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0b3JlIHRoZSBudW1iZXIgb2YgaGFuZGxlcy5cbiAgICAgICAgcGFyc2VkLmhhbmRsZXMgPSBlbnRyeS5sZW5ndGg7XG5cbiAgICAgICAgLy8gV2hlbiB0aGUgc2xpZGVyIGlzIGluaXRpYWxpemVkLCB0aGUgLnZhbCBtZXRob2Qgd2lsbFxuICAgICAgICAvLyBiZSBjYWxsZWQgd2l0aCB0aGUgc3RhcnQgb3B0aW9ucy5cbiAgICAgICAgcGFyc2VkLnN0YXJ0ID0gZW50cnk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGVzdFNuYXAocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICAvLyBFbmZvcmNlIDEwMCUgc3RlcHBpbmcgd2l0aGluIHN1YnJhbmdlcy5cbiAgICAgICAgcGFyc2VkLnNuYXAgPSBlbnRyeTtcblxuICAgICAgICBpZiAodHlwZW9mIGVudHJ5ICE9PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnc25hcCcgb3B0aW9uIG11c3QgYmUgYSBib29sZWFuLlwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRlc3RBbmltYXRlKHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgLy8gRW5mb3JjZSAxMDAlIHN0ZXBwaW5nIHdpdGhpbiBzdWJyYW5nZXMuXG4gICAgICAgIHBhcnNlZC5hbmltYXRlID0gZW50cnk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBlbnRyeSAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2FuaW1hdGUnIG9wdGlvbiBtdXN0IGJlIGEgYm9vbGVhbi5cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0ZXN0QW5pbWF0aW9uRHVyYXRpb24ocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICBwYXJzZWQuYW5pbWF0aW9uRHVyYXRpb24gPSBlbnRyeTtcblxuICAgICAgICBpZiAodHlwZW9mIGVudHJ5ICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdhbmltYXRpb25EdXJhdGlvbicgb3B0aW9uIG11c3QgYmUgYSBudW1iZXIuXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGVzdENvbm5lY3QocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICB2YXIgY29ubmVjdCA9IFtmYWxzZV07XG4gICAgICAgIHZhciBpO1xuXG4gICAgICAgIC8vIE1hcCBsZWdhY3kgb3B0aW9uc1xuICAgICAgICBpZiAoZW50cnkgPT09IFwibG93ZXJcIikge1xuICAgICAgICAgICAgZW50cnkgPSBbdHJ1ZSwgZmFsc2VdO1xuICAgICAgICB9IGVsc2UgaWYgKGVudHJ5ID09PSBcInVwcGVyXCIpIHtcbiAgICAgICAgICAgIGVudHJ5ID0gW2ZhbHNlLCB0cnVlXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhhbmRsZSBib29sZWFuIG9wdGlvbnNcbiAgICAgICAgaWYgKGVudHJ5ID09PSB0cnVlIHx8IGVudHJ5ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgZm9yIChpID0gMTsgaSA8IHBhcnNlZC5oYW5kbGVzOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25uZWN0LnB1c2goZW50cnkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25uZWN0LnB1c2goZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVqZWN0IGludmFsaWQgaW5wdXRcbiAgICAgICAgZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkoZW50cnkpIHx8ICFlbnRyeS5sZW5ndGggfHwgZW50cnkubGVuZ3RoICE9PSBwYXJzZWQuaGFuZGxlcyArIDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2Nvbm5lY3QnIG9wdGlvbiBkb2Vzbid0IG1hdGNoIGhhbmRsZSBjb3VudC5cIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25uZWN0ID0gZW50cnk7XG4gICAgICAgIH1cblxuICAgICAgICBwYXJzZWQuY29ubmVjdCA9IGNvbm5lY3Q7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGVzdE9yaWVudGF0aW9uKHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgLy8gU2V0IG9yaWVudGF0aW9uIHRvIGFuIGEgbnVtZXJpY2FsIHZhbHVlIGZvciBlYXN5XG4gICAgICAgIC8vIGFycmF5IHNlbGVjdGlvbi5cbiAgICAgICAgc3dpdGNoIChlbnRyeSkge1xuICAgICAgICAgICAgY2FzZSBcImhvcml6b250YWxcIjpcbiAgICAgICAgICAgICAgICBwYXJzZWQub3J0ID0gMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ2ZXJ0aWNhbFwiOlxuICAgICAgICAgICAgICAgIHBhcnNlZC5vcnQgPSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdvcmllbnRhdGlvbicgb3B0aW9uIGlzIGludmFsaWQuXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGVzdE1hcmdpbihwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIGlmICghaXNOdW1lcmljKGVudHJ5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnbWFyZ2luJyBvcHRpb24gbXVzdCBiZSBudW1lcmljLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElzc3VlICM1ODJcbiAgICAgICAgaWYgKGVudHJ5ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBwYXJzZWQubWFyZ2luID0gcGFyc2VkLnNwZWN0cnVtLmdldERpc3RhbmNlKGVudHJ5KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0ZXN0TGltaXQocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICBpZiAoIWlzTnVtZXJpYyhlbnRyeSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2xpbWl0JyBvcHRpb24gbXVzdCBiZSBudW1lcmljLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcnNlZC5saW1pdCA9IHBhcnNlZC5zcGVjdHJ1bS5nZXREaXN0YW5jZShlbnRyeSk7XG5cbiAgICAgICAgaWYgKCFwYXJzZWQubGltaXQgfHwgcGFyc2VkLmhhbmRsZXMgPCAyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJub1VpU2xpZGVyIChcIiArXG4gICAgICAgICAgICAgICAgICAgIFZFUlNJT04gK1xuICAgICAgICAgICAgICAgICAgICBcIik6ICdsaW1pdCcgb3B0aW9uIGlzIG9ubHkgc3VwcG9ydGVkIG9uIGxpbmVhciBzbGlkZXJzIHdpdGggMiBvciBtb3JlIGhhbmRsZXMuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0ZXN0UGFkZGluZyhwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIHZhciBpbmRleDtcblxuICAgICAgICBpZiAoIWlzTnVtZXJpYyhlbnRyeSkgJiYgIUFycmF5LmlzQXJyYXkoZW50cnkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdwYWRkaW5nJyBvcHRpb24gbXVzdCBiZSBudW1lcmljIG9yIGFycmF5IG9mIGV4YWN0bHkgMiBudW1iZXJzLlwiXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZW50cnkpICYmICEoZW50cnkubGVuZ3RoID09PSAyIHx8IGlzTnVtZXJpYyhlbnRyeVswXSkgfHwgaXNOdW1lcmljKGVudHJ5WzFdKSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICBcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3BhZGRpbmcnIG9wdGlvbiBtdXN0IGJlIG51bWVyaWMgb3IgYXJyYXkgb2YgZXhhY3RseSAyIG51bWJlcnMuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW50cnkgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShlbnRyeSkpIHtcbiAgICAgICAgICAgIGVudHJ5ID0gW2VudHJ5LCBlbnRyeV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyAnZ2V0RGlzdGFuY2UnIHJldHVybnMgZmFsc2UgZm9yIGludmFsaWQgdmFsdWVzLlxuICAgICAgICBwYXJzZWQucGFkZGluZyA9IFtwYXJzZWQuc3BlY3RydW0uZ2V0RGlzdGFuY2UoZW50cnlbMF0pLCBwYXJzZWQuc3BlY3RydW0uZ2V0RGlzdGFuY2UoZW50cnlbMV0pXTtcblxuICAgICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBwYXJzZWQuc3BlY3RydW0ueE51bVN0ZXBzLmxlbmd0aCAtIDE7IGluZGV4KyspIHtcbiAgICAgICAgICAgIC8vIGxhc3QgXCJyYW5nZVwiIGNhbid0IGNvbnRhaW4gc3RlcCBzaXplIGFzIGl0IGlzIHB1cmVseSBhbiBlbmRwb2ludC5cbiAgICAgICAgICAgIGlmIChwYXJzZWQucGFkZGluZ1swXVtpbmRleF0gPCAwIHx8IHBhcnNlZC5wYWRkaW5nWzFdW2luZGV4XSA8IDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdwYWRkaW5nJyBvcHRpb24gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcihzKS5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdG90YWxQYWRkaW5nID0gZW50cnlbMF0gKyBlbnRyeVsxXTtcbiAgICAgICAgdmFyIGZpcnN0VmFsdWUgPSBwYXJzZWQuc3BlY3RydW0ueFZhbFswXTtcbiAgICAgICAgdmFyIGxhc3RWYWx1ZSA9IHBhcnNlZC5zcGVjdHJ1bS54VmFsW3BhcnNlZC5zcGVjdHJ1bS54VmFsLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIGlmICh0b3RhbFBhZGRpbmcgLyAobGFzdFZhbHVlIC0gZmlyc3RWYWx1ZSkgPiAxKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdwYWRkaW5nJyBvcHRpb24gbXVzdCBub3QgZXhjZWVkIDEwMCUgb2YgdGhlIHJhbmdlLlwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRlc3REaXJlY3Rpb24ocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICAvLyBTZXQgZGlyZWN0aW9uIGFzIGEgbnVtZXJpY2FsIHZhbHVlIGZvciBlYXN5IHBhcnNpbmcuXG4gICAgICAgIC8vIEludmVydCBjb25uZWN0aW9uIGZvciBSVEwgc2xpZGVycywgc28gdGhhdCB0aGUgcHJvcGVyXG4gICAgICAgIC8vIGhhbmRsZXMgZ2V0IHRoZSBjb25uZWN0L2JhY2tncm91bmQgY2xhc3Nlcy5cbiAgICAgICAgc3dpdGNoIChlbnRyeSkge1xuICAgICAgICAgICAgY2FzZSBcImx0clwiOlxuICAgICAgICAgICAgICAgIHBhcnNlZC5kaXIgPSAwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInJ0bFwiOlxuICAgICAgICAgICAgICAgIHBhcnNlZC5kaXIgPSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdkaXJlY3Rpb24nIG9wdGlvbiB3YXMgbm90IHJlY29nbml6ZWQuXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGVzdEJlaGF2aW91cihwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgaW5wdXQgaXMgYSBzdHJpbmcuXG4gICAgICAgIGlmICh0eXBlb2YgZW50cnkgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2JlaGF2aW91cicgbXVzdCBiZSBhIHN0cmluZyBjb250YWluaW5nIG9wdGlvbnMuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHN0cmluZyBjb250YWlucyBhbnkga2V5d29yZHMuXG4gICAgICAgIC8vIE5vbmUgYXJlIHJlcXVpcmVkLlxuICAgICAgICB2YXIgdGFwID0gZW50cnkuaW5kZXhPZihcInRhcFwiKSA+PSAwO1xuICAgICAgICB2YXIgZHJhZyA9IGVudHJ5LmluZGV4T2YoXCJkcmFnXCIpID49IDA7XG4gICAgICAgIHZhciBmaXhlZCA9IGVudHJ5LmluZGV4T2YoXCJmaXhlZFwiKSA+PSAwO1xuICAgICAgICB2YXIgc25hcCA9IGVudHJ5LmluZGV4T2YoXCJzbmFwXCIpID49IDA7XG4gICAgICAgIHZhciBob3ZlciA9IGVudHJ5LmluZGV4T2YoXCJob3ZlclwiKSA+PSAwO1xuICAgICAgICB2YXIgdW5jb25zdHJhaW5lZCA9IGVudHJ5LmluZGV4T2YoXCJ1bmNvbnN0cmFpbmVkXCIpID49IDA7XG5cbiAgICAgICAgaWYgKGZpeGVkKSB7XG4gICAgICAgICAgICBpZiAocGFyc2VkLmhhbmRsZXMgIT09IDIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdmaXhlZCcgYmVoYXZpb3VyIG11c3QgYmUgdXNlZCB3aXRoIDIgaGFuZGxlc1wiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVXNlIG1hcmdpbiB0byBlbmZvcmNlIGZpeGVkIHN0YXRlXG4gICAgICAgICAgICB0ZXN0TWFyZ2luKHBhcnNlZCwgcGFyc2VkLnN0YXJ0WzFdIC0gcGFyc2VkLnN0YXJ0WzBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1bmNvbnN0cmFpbmVkICYmIChwYXJzZWQubWFyZ2luIHx8IHBhcnNlZC5saW1pdCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICBcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3VuY29uc3RyYWluZWQnIGJlaGF2aW91ciBjYW5ub3QgYmUgdXNlZCB3aXRoIG1hcmdpbiBvciBsaW1pdFwiXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFyc2VkLmV2ZW50cyA9IHtcbiAgICAgICAgICAgIHRhcDogdGFwIHx8IHNuYXAsXG4gICAgICAgICAgICBkcmFnOiBkcmFnLFxuICAgICAgICAgICAgZml4ZWQ6IGZpeGVkLFxuICAgICAgICAgICAgc25hcDogc25hcCxcbiAgICAgICAgICAgIGhvdmVyOiBob3ZlcixcbiAgICAgICAgICAgIHVuY29uc3RyYWluZWQ6IHVuY29uc3RyYWluZWRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0ZXN0VG9vbHRpcHMocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICBpZiAoZW50cnkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW50cnkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHBhcnNlZC50b29sdGlwcyA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnNlZC5oYW5kbGVzOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwYXJzZWQudG9vbHRpcHMucHVzaCh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlZC50b29sdGlwcyA9IGFzQXJyYXkoZW50cnkpO1xuXG4gICAgICAgICAgICBpZiAocGFyc2VkLnRvb2x0aXBzLmxlbmd0aCAhPT0gcGFyc2VkLmhhbmRsZXMpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6IG11c3QgcGFzcyBhIGZvcm1hdHRlciBmb3IgYWxsIGhhbmRsZXMuXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwYXJzZWQudG9vbHRpcHMuZm9yRWFjaChmdW5jdGlvbihmb3JtYXR0ZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiBmb3JtYXR0ZXIgIT09IFwiYm9vbGVhblwiICYmXG4gICAgICAgICAgICAgICAgICAgICh0eXBlb2YgZm9ybWF0dGVyICE9PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBmb3JtYXR0ZXIudG8gIT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAndG9vbHRpcHMnIG11c3QgYmUgcGFzc2VkIGEgZm9ybWF0dGVyIG9yICdmYWxzZScuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGVzdEFyaWFGb3JtYXQocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICBwYXJzZWQuYXJpYUZvcm1hdCA9IGVudHJ5O1xuICAgICAgICB2YWxpZGF0ZUZvcm1hdChlbnRyeSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGVzdEZvcm1hdChwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIHBhcnNlZC5mb3JtYXQgPSBlbnRyeTtcbiAgICAgICAgdmFsaWRhdGVGb3JtYXQoZW50cnkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRlc3RLZXlib2FyZFN1cHBvcnQocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICBwYXJzZWQua2V5Ym9hcmRTdXBwb3J0ID0gZW50cnk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBlbnRyeSAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2tleWJvYXJkU3VwcG9ydCcgb3B0aW9uIG11c3QgYmUgYSBib29sZWFuLlwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRlc3REb2N1bWVudEVsZW1lbnQocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICAvLyBUaGlzIGlzIGFuIGFkdmFuY2VkIG9wdGlvbi4gUGFzc2VkIHZhbHVlcyBhcmUgdXNlZCB3aXRob3V0IHZhbGlkYXRpb24uXG4gICAgICAgIHBhcnNlZC5kb2N1bWVudEVsZW1lbnQgPSBlbnRyeTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0ZXN0Q3NzUHJlZml4KHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBlbnRyeSAhPT0gXCJzdHJpbmdcIiAmJiBlbnRyeSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2Nzc1ByZWZpeCcgbXVzdCBiZSBhIHN0cmluZyBvciBgZmFsc2VgLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcnNlZC5jc3NQcmVmaXggPSBlbnRyeTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0ZXN0Q3NzQ2xhc3NlcyhwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIGlmICh0eXBlb2YgZW50cnkgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2Nzc0NsYXNzZXMnIG11c3QgYmUgYW4gb2JqZWN0LlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgcGFyc2VkLmNzc1ByZWZpeCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcGFyc2VkLmNzc0NsYXNzZXMgPSB7fTtcblxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGVudHJ5KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFlbnRyeS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHBhcnNlZC5jc3NDbGFzc2VzW2tleV0gPSBwYXJzZWQuY3NzUHJlZml4ICsgZW50cnlba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlZC5jc3NDbGFzc2VzID0gZW50cnk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUZXN0IGFsbCBkZXZlbG9wZXIgc2V0dGluZ3MgYW5kIHBhcnNlIHRvIGFzc3VtcHRpb24tc2FmZSB2YWx1ZXMuXG4gICAgZnVuY3Rpb24gdGVzdE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICAvLyBUbyBwcm92ZSBhIGZpeCBmb3IgIzUzNywgZnJlZXplIG9wdGlvbnMgaGVyZS5cbiAgICAgICAgLy8gSWYgdGhlIG9iamVjdCBpcyBtb2RpZmllZCwgYW4gZXJyb3Igd2lsbCBiZSB0aHJvd24uXG4gICAgICAgIC8vIE9iamVjdC5mcmVlemUob3B0aW9ucyk7XG5cbiAgICAgICAgdmFyIHBhcnNlZCA9IHtcbiAgICAgICAgICAgIG1hcmdpbjogMCxcbiAgICAgICAgICAgIGxpbWl0OiAwLFxuICAgICAgICAgICAgcGFkZGluZzogMCxcbiAgICAgICAgICAgIGFuaW1hdGU6IHRydWUsXG4gICAgICAgICAgICBhbmltYXRpb25EdXJhdGlvbjogMzAwLFxuICAgICAgICAgICAgYXJpYUZvcm1hdDogZGVmYXVsdEZvcm1hdHRlcixcbiAgICAgICAgICAgIGZvcm1hdDogZGVmYXVsdEZvcm1hdHRlclxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFRlc3RzIGFyZSBleGVjdXRlZCBpbiB0aGUgb3JkZXIgdGhleSBhcmUgcHJlc2VudGVkIGhlcmUuXG4gICAgICAgIHZhciB0ZXN0cyA9IHtcbiAgICAgICAgICAgIHN0ZXA6IHsgcjogZmFsc2UsIHQ6IHRlc3RTdGVwIH0sXG4gICAgICAgICAgICBzdGFydDogeyByOiB0cnVlLCB0OiB0ZXN0U3RhcnQgfSxcbiAgICAgICAgICAgIGNvbm5lY3Q6IHsgcjogdHJ1ZSwgdDogdGVzdENvbm5lY3QgfSxcbiAgICAgICAgICAgIGRpcmVjdGlvbjogeyByOiB0cnVlLCB0OiB0ZXN0RGlyZWN0aW9uIH0sXG4gICAgICAgICAgICBzbmFwOiB7IHI6IGZhbHNlLCB0OiB0ZXN0U25hcCB9LFxuICAgICAgICAgICAgYW5pbWF0ZTogeyByOiBmYWxzZSwgdDogdGVzdEFuaW1hdGUgfSxcbiAgICAgICAgICAgIGFuaW1hdGlvbkR1cmF0aW9uOiB7IHI6IGZhbHNlLCB0OiB0ZXN0QW5pbWF0aW9uRHVyYXRpb24gfSxcbiAgICAgICAgICAgIHJhbmdlOiB7IHI6IHRydWUsIHQ6IHRlc3RSYW5nZSB9LFxuICAgICAgICAgICAgb3JpZW50YXRpb246IHsgcjogZmFsc2UsIHQ6IHRlc3RPcmllbnRhdGlvbiB9LFxuICAgICAgICAgICAgbWFyZ2luOiB7IHI6IGZhbHNlLCB0OiB0ZXN0TWFyZ2luIH0sXG4gICAgICAgICAgICBsaW1pdDogeyByOiBmYWxzZSwgdDogdGVzdExpbWl0IH0sXG4gICAgICAgICAgICBwYWRkaW5nOiB7IHI6IGZhbHNlLCB0OiB0ZXN0UGFkZGluZyB9LFxuICAgICAgICAgICAgYmVoYXZpb3VyOiB7IHI6IHRydWUsIHQ6IHRlc3RCZWhhdmlvdXIgfSxcbiAgICAgICAgICAgIGFyaWFGb3JtYXQ6IHsgcjogZmFsc2UsIHQ6IHRlc3RBcmlhRm9ybWF0IH0sXG4gICAgICAgICAgICBmb3JtYXQ6IHsgcjogZmFsc2UsIHQ6IHRlc3RGb3JtYXQgfSxcbiAgICAgICAgICAgIHRvb2x0aXBzOiB7IHI6IGZhbHNlLCB0OiB0ZXN0VG9vbHRpcHMgfSxcbiAgICAgICAgICAgIGtleWJvYXJkU3VwcG9ydDogeyByOiB0cnVlLCB0OiB0ZXN0S2V5Ym9hcmRTdXBwb3J0IH0sXG4gICAgICAgICAgICBkb2N1bWVudEVsZW1lbnQ6IHsgcjogZmFsc2UsIHQ6IHRlc3REb2N1bWVudEVsZW1lbnQgfSxcbiAgICAgICAgICAgIGNzc1ByZWZpeDogeyByOiB0cnVlLCB0OiB0ZXN0Q3NzUHJlZml4IH0sXG4gICAgICAgICAgICBjc3NDbGFzc2VzOiB7IHI6IHRydWUsIHQ6IHRlc3RDc3NDbGFzc2VzIH1cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICBjb25uZWN0OiBmYWxzZSxcbiAgICAgICAgICAgIGRpcmVjdGlvbjogXCJsdHJcIixcbiAgICAgICAgICAgIGJlaGF2aW91cjogXCJ0YXBcIixcbiAgICAgICAgICAgIG9yaWVudGF0aW9uOiBcImhvcml6b250YWxcIixcbiAgICAgICAgICAgIGtleWJvYXJkU3VwcG9ydDogdHJ1ZSxcbiAgICAgICAgICAgIGNzc1ByZWZpeDogXCJub1VpLVwiLFxuICAgICAgICAgICAgY3NzQ2xhc3NlczogY3NzQ2xhc3Nlc1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEFyaWFGb3JtYXQgZGVmYXVsdHMgdG8gcmVndWxhciBmb3JtYXQsIGlmIGFueS5cbiAgICAgICAgaWYgKG9wdGlvbnMuZm9ybWF0ICYmICFvcHRpb25zLmFyaWFGb3JtYXQpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuYXJpYUZvcm1hdCA9IG9wdGlvbnMuZm9ybWF0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUnVuIGFsbCBvcHRpb25zIHRocm91Z2ggYSB0ZXN0aW5nIG1lY2hhbmlzbSB0byBlbnN1cmUgY29ycmVjdFxuICAgICAgICAvLyBpbnB1dC4gSXQgc2hvdWxkIGJlIG5vdGVkIHRoYXQgb3B0aW9ucyBtaWdodCBnZXQgbW9kaWZpZWQgdG9cbiAgICAgICAgLy8gYmUgaGFuZGxlZCBwcm9wZXJseS4gRS5nLiB3cmFwcGluZyBpbnRlZ2VycyBpbiBhcnJheXMuXG4gICAgICAgIE9iamVjdC5rZXlzKHRlc3RzKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBvcHRpb24gaXNuJ3Qgc2V0LCBidXQgaXQgaXMgcmVxdWlyZWQsIHRocm93IGFuIGVycm9yLlxuICAgICAgICAgICAgaWYgKCFpc1NldChvcHRpb25zW25hbWVdKSAmJiBkZWZhdWx0c1tuYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRlc3RzW25hbWVdLnIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnXCIgKyBuYW1lICsgXCInIGlzIHJlcXVpcmVkLlwiKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGVzdHNbbmFtZV0udChwYXJzZWQsICFpc1NldChvcHRpb25zW25hbWVdKSA/IGRlZmF1bHRzW25hbWVdIDogb3B0aW9uc1tuYW1lXSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEZvcndhcmQgcGlwcyBvcHRpb25zXG4gICAgICAgIHBhcnNlZC5waXBzID0gb3B0aW9ucy5waXBzO1xuXG4gICAgICAgIC8vIEFsbCByZWNlbnQgYnJvd3NlcnMgYWNjZXB0IHVucHJlZml4ZWQgdHJhbnNmb3JtLlxuICAgICAgICAvLyBXZSBuZWVkIC1tcy0gZm9yIElFOSBhbmQgLXdlYmtpdC0gZm9yIG9sZGVyIEFuZHJvaWQ7XG4gICAgICAgIC8vIEFzc3VtZSB1c2Ugb2YgLXdlYmtpdC0gaWYgdW5wcmVmaXhlZCBhbmQgLW1zLSBhcmUgbm90IHN1cHBvcnRlZC5cbiAgICAgICAgLy8gaHR0cHM6Ly9jYW5pdXNlLmNvbS8jZmVhdD10cmFuc2Zvcm1zMmRcbiAgICAgICAgdmFyIGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB2YXIgbXNQcmVmaXggPSBkLnN0eWxlLm1zVHJhbnNmb3JtICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBub1ByZWZpeCA9IGQuc3R5bGUudHJhbnNmb3JtICE9PSB1bmRlZmluZWQ7XG5cbiAgICAgICAgcGFyc2VkLnRyYW5zZm9ybVJ1bGUgPSBub1ByZWZpeCA/IFwidHJhbnNmb3JtXCIgOiBtc1ByZWZpeCA/IFwibXNUcmFuc2Zvcm1cIiA6IFwid2Via2l0VHJhbnNmb3JtXCI7XG5cbiAgICAgICAgLy8gUGlwcyBkb24ndCBtb3ZlLCBzbyB3ZSBjYW4gcGxhY2UgdGhlbSB1c2luZyBsZWZ0L3RvcC5cbiAgICAgICAgdmFyIHN0eWxlcyA9IFtbXCJsZWZ0XCIsIFwidG9wXCJdLCBbXCJyaWdodFwiLCBcImJvdHRvbVwiXV07XG5cbiAgICAgICAgcGFyc2VkLnN0eWxlID0gc3R5bGVzW3BhcnNlZC5kaXJdW3BhcnNlZC5vcnRdO1xuXG4gICAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgfVxuXG4gICAgLy9lbmRyZWdpb25cblxuICAgIGZ1bmN0aW9uIHNjb3BlKHRhcmdldCwgb3B0aW9ucywgb3JpZ2luYWxPcHRpb25zKSB7XG4gICAgICAgIHZhciBhY3Rpb25zID0gZ2V0QWN0aW9ucygpO1xuICAgICAgICB2YXIgc3VwcG9ydHNUb3VjaEFjdGlvbk5vbmUgPSBnZXRTdXBwb3J0c1RvdWNoQWN0aW9uTm9uZSgpO1xuICAgICAgICB2YXIgc3VwcG9ydHNQYXNzaXZlID0gc3VwcG9ydHNUb3VjaEFjdGlvbk5vbmUgJiYgZ2V0U3VwcG9ydHNQYXNzaXZlKCk7XG5cbiAgICAgICAgLy8gQWxsIHZhcmlhYmxlcyBsb2NhbCB0byAnc2NvcGUnIGFyZSBwcmVmaXhlZCB3aXRoICdzY29wZV8nXG5cbiAgICAgICAgLy8gU2xpZGVyIERPTSBOb2Rlc1xuICAgICAgICB2YXIgc2NvcGVfVGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB2YXIgc2NvcGVfQmFzZTtcbiAgICAgICAgdmFyIHNjb3BlX0hhbmRsZXM7XG4gICAgICAgIHZhciBzY29wZV9Db25uZWN0cztcbiAgICAgICAgdmFyIHNjb3BlX1BpcHM7XG4gICAgICAgIHZhciBzY29wZV9Ub29sdGlwcztcblxuICAgICAgICAvLyBTbGlkZXIgc3RhdGUgdmFsdWVzXG4gICAgICAgIHZhciBzY29wZV9TcGVjdHJ1bSA9IG9wdGlvbnMuc3BlY3RydW07XG4gICAgICAgIHZhciBzY29wZV9WYWx1ZXMgPSBbXTtcbiAgICAgICAgdmFyIHNjb3BlX0xvY2F0aW9ucyA9IFtdO1xuICAgICAgICB2YXIgc2NvcGVfSGFuZGxlTnVtYmVycyA9IFtdO1xuICAgICAgICB2YXIgc2NvcGVfQWN0aXZlSGFuZGxlc0NvdW50ID0gMDtcbiAgICAgICAgdmFyIHNjb3BlX0V2ZW50cyA9IHt9O1xuXG4gICAgICAgIC8vIEV4cG9zZWQgQVBJXG4gICAgICAgIHZhciBzY29wZV9TZWxmO1xuXG4gICAgICAgIC8vIERvY3VtZW50IE5vZGVzXG4gICAgICAgIHZhciBzY29wZV9Eb2N1bWVudCA9IHRhcmdldC5vd25lckRvY3VtZW50O1xuICAgICAgICB2YXIgc2NvcGVfRG9jdW1lbnRFbGVtZW50ID0gb3B0aW9ucy5kb2N1bWVudEVsZW1lbnQgfHwgc2NvcGVfRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICB2YXIgc2NvcGVfQm9keSA9IHNjb3BlX0RvY3VtZW50LmJvZHk7XG5cbiAgICAgICAgLy8gUGlwcyBjb25zdGFudHNcbiAgICAgICAgdmFyIFBJUFNfTk9ORSA9IC0xO1xuICAgICAgICB2YXIgUElQU19OT19WQUxVRSA9IDA7XG4gICAgICAgIHZhciBQSVBTX0xBUkdFX1ZBTFVFID0gMTtcbiAgICAgICAgdmFyIFBJUFNfU01BTExfVkFMVUUgPSAyO1xuXG4gICAgICAgIC8vIEZvciBob3Jpem9udGFsIHNsaWRlcnMgaW4gc3RhbmRhcmQgbHRyIGRvY3VtZW50cyxcbiAgICAgICAgLy8gbWFrZSAubm9VaS1vcmlnaW4gb3ZlcmZsb3cgdG8gdGhlIGxlZnQgc28gdGhlIGRvY3VtZW50IGRvZXNuJ3Qgc2Nyb2xsLlxuICAgICAgICB2YXIgc2NvcGVfRGlyT2Zmc2V0ID0gc2NvcGVfRG9jdW1lbnQuZGlyID09PSBcInJ0bFwiIHx8IG9wdGlvbnMub3J0ID09PSAxID8gMCA6IDEwMDtcblxuICAgICAgICAvLyBDcmVhdGVzIGEgbm9kZSwgYWRkcyBpdCB0byB0YXJnZXQsIHJldHVybnMgdGhlIG5ldyBub2RlLlxuICAgICAgICBmdW5jdGlvbiBhZGROb2RlVG8oYWRkVGFyZ2V0LCBjbGFzc05hbWUpIHtcbiAgICAgICAgICAgIHZhciBkaXYgPSBzY29wZV9Eb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgICAgICAgICBpZiAoY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoZGl2LCBjbGFzc05hbWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhZGRUYXJnZXQuYXBwZW5kQ2hpbGQoZGl2KTtcblxuICAgICAgICAgICAgcmV0dXJuIGRpdjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFwcGVuZCBhIG9yaWdpbiB0byB0aGUgYmFzZVxuICAgICAgICBmdW5jdGlvbiBhZGRPcmlnaW4oYmFzZSwgaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICB2YXIgb3JpZ2luID0gYWRkTm9kZVRvKGJhc2UsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5vcmlnaW4pO1xuICAgICAgICAgICAgdmFyIGhhbmRsZSA9IGFkZE5vZGVUbyhvcmlnaW4sIG9wdGlvbnMuY3NzQ2xhc3Nlcy5oYW5kbGUpO1xuXG4gICAgICAgICAgICBhZGROb2RlVG8oaGFuZGxlLCBvcHRpb25zLmNzc0NsYXNzZXMudG91Y2hBcmVhKTtcblxuICAgICAgICAgICAgaGFuZGxlLnNldEF0dHJpYnV0ZShcImRhdGEtaGFuZGxlXCIsIGhhbmRsZU51bWJlcik7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmtleWJvYXJkU3VwcG9ydCkge1xuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvR2xvYmFsX2F0dHJpYnV0ZXMvdGFiaW5kZXhcbiAgICAgICAgICAgICAgICAvLyAwID0gZm9jdXNhYmxlIGFuZCByZWFjaGFibGVcbiAgICAgICAgICAgICAgICBoYW5kbGUuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIiwgXCIwXCIpO1xuICAgICAgICAgICAgICAgIGhhbmRsZS5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnRLZXlkb3duKGV2ZW50LCBoYW5kbGVOdW1iZXIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBoYW5kbGUuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcInNsaWRlclwiKTtcbiAgICAgICAgICAgIGhhbmRsZS5zZXRBdHRyaWJ1dGUoXCJhcmlhLW9yaWVudGF0aW9uXCIsIG9wdGlvbnMub3J0ID8gXCJ2ZXJ0aWNhbFwiIDogXCJob3Jpem9udGFsXCIpO1xuXG4gICAgICAgICAgICBpZiAoaGFuZGxlTnVtYmVyID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoaGFuZGxlLCBvcHRpb25zLmNzc0NsYXNzZXMuaGFuZGxlTG93ZXIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChoYW5kbGVOdW1iZXIgPT09IG9wdGlvbnMuaGFuZGxlcyAtIDEpIHtcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhoYW5kbGUsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5oYW5kbGVVcHBlcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBvcmlnaW47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbnNlcnQgbm9kZXMgZm9yIGNvbm5lY3QgZWxlbWVudHNcbiAgICAgICAgZnVuY3Rpb24gYWRkQ29ubmVjdChiYXNlLCBhZGQpIHtcbiAgICAgICAgICAgIGlmICghYWRkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYWRkTm9kZVRvKGJhc2UsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5jb25uZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCBoYW5kbGVzIHRvIHRoZSBzbGlkZXIgYmFzZS5cbiAgICAgICAgZnVuY3Rpb24gYWRkRWxlbWVudHMoY29ubmVjdE9wdGlvbnMsIGJhc2UpIHtcbiAgICAgICAgICAgIHZhciBjb25uZWN0QmFzZSA9IGFkZE5vZGVUbyhiYXNlLCBvcHRpb25zLmNzc0NsYXNzZXMuY29ubmVjdHMpO1xuXG4gICAgICAgICAgICBzY29wZV9IYW5kbGVzID0gW107XG4gICAgICAgICAgICBzY29wZV9Db25uZWN0cyA9IFtdO1xuXG4gICAgICAgICAgICBzY29wZV9Db25uZWN0cy5wdXNoKGFkZENvbm5lY3QoY29ubmVjdEJhc2UsIGNvbm5lY3RPcHRpb25zWzBdKSk7XG5cbiAgICAgICAgICAgIC8vIFs6Ojo6Tz09PT1PPT09PU89PT09XVxuICAgICAgICAgICAgLy8gY29ubmVjdE9wdGlvbnMgPSBbMCwgMSwgMSwgMV1cblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25zLmhhbmRsZXM7IGkrKykge1xuICAgICAgICAgICAgICAgIC8vIEtlZXAgYSBsaXN0IG9mIGFsbCBhZGRlZCBoYW5kbGVzLlxuICAgICAgICAgICAgICAgIHNjb3BlX0hhbmRsZXMucHVzaChhZGRPcmlnaW4oYmFzZSwgaSkpO1xuICAgICAgICAgICAgICAgIHNjb3BlX0hhbmRsZU51bWJlcnNbaV0gPSBpO1xuICAgICAgICAgICAgICAgIHNjb3BlX0Nvbm5lY3RzLnB1c2goYWRkQ29ubmVjdChjb25uZWN0QmFzZSwgY29ubmVjdE9wdGlvbnNbaSArIDFdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbml0aWFsaXplIGEgc2luZ2xlIHNsaWRlci5cbiAgICAgICAgZnVuY3Rpb24gYWRkU2xpZGVyKGFkZFRhcmdldCkge1xuICAgICAgICAgICAgLy8gQXBwbHkgY2xhc3NlcyBhbmQgZGF0YSB0byB0aGUgdGFyZ2V0LlxuICAgICAgICAgICAgYWRkQ2xhc3MoYWRkVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMudGFyZ2V0KTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGlyID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoYWRkVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMubHRyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoYWRkVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMucnRsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMub3J0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoYWRkVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMuaG9yaXpvbnRhbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFkZENsYXNzKGFkZFRhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLnZlcnRpY2FsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHRleHREaXJlY3Rpb24gPSBnZXRDb21wdXRlZFN0eWxlKGFkZFRhcmdldCkuZGlyZWN0aW9uO1xuXG4gICAgICAgICAgICBpZiAodGV4dERpcmVjdGlvbiA9PT0gXCJydGxcIikge1xuICAgICAgICAgICAgICAgIGFkZENsYXNzKGFkZFRhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLnRleHREaXJlY3Rpb25SdGwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhhZGRUYXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy50ZXh0RGlyZWN0aW9uTHRyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGFkZE5vZGVUbyhhZGRUYXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5iYXNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGFkZFRvb2x0aXAoaGFuZGxlLCBoYW5kbGVOdW1iZXIpIHtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy50b29sdGlwc1toYW5kbGVOdW1iZXJdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYWRkTm9kZVRvKGhhbmRsZS5maXJzdENoaWxkLCBvcHRpb25zLmNzc0NsYXNzZXMudG9vbHRpcCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBpc1NsaWRlckRpc2FibGVkKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNjb3BlX1RhcmdldC5oYXNBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERpc2FibGUgdGhlIHNsaWRlciBkcmFnZ2luZyBpZiBhbnkgaGFuZGxlIGlzIGRpc2FibGVkXG4gICAgICAgIGZ1bmN0aW9uIGlzSGFuZGxlRGlzYWJsZWQoaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICB2YXIgaGFuZGxlT3JpZ2luID0gc2NvcGVfSGFuZGxlc1toYW5kbGVOdW1iZXJdO1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZU9yaWdpbi5oYXNBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZVRvb2x0aXBzKCkge1xuICAgICAgICAgICAgaWYgKHNjb3BlX1Rvb2x0aXBzKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlRXZlbnQoXCJ1cGRhdGUudG9vbHRpcHNcIik7XG4gICAgICAgICAgICAgICAgc2NvcGVfVG9vbHRpcHMuZm9yRWFjaChmdW5jdGlvbih0b29sdGlwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b29sdGlwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVFbGVtZW50KHRvb2x0aXApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc2NvcGVfVG9vbHRpcHMgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlIHRvb2x0aXBzIG9wdGlvbiBpcyBhIHNob3J0aGFuZCBmb3IgdXNpbmcgdGhlICd1cGRhdGUnIGV2ZW50LlxuICAgICAgICBmdW5jdGlvbiB0b29sdGlwcygpIHtcbiAgICAgICAgICAgIHJlbW92ZVRvb2x0aXBzKCk7XG5cbiAgICAgICAgICAgIC8vIFRvb2x0aXBzIGFyZSBhZGRlZCB3aXRoIG9wdGlvbnMudG9vbHRpcHMgaW4gb3JpZ2luYWwgb3JkZXIuXG4gICAgICAgICAgICBzY29wZV9Ub29sdGlwcyA9IHNjb3BlX0hhbmRsZXMubWFwKGFkZFRvb2x0aXApO1xuXG4gICAgICAgICAgICBiaW5kRXZlbnQoXCJ1cGRhdGUudG9vbHRpcHNcIiwgZnVuY3Rpb24odmFsdWVzLCBoYW5kbGVOdW1iZXIsIHVuZW5jb2RlZCkge1xuICAgICAgICAgICAgICAgIGlmICghc2NvcGVfVG9vbHRpcHNbaGFuZGxlTnVtYmVyXSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIGZvcm1hdHRlZFZhbHVlID0gdmFsdWVzW2hhbmRsZU51bWJlcl07XG5cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy50b29sdGlwc1toYW5kbGVOdW1iZXJdICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlID0gb3B0aW9ucy50b29sdGlwc1toYW5kbGVOdW1iZXJdLnRvKHVuZW5jb2RlZFtoYW5kbGVOdW1iZXJdKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzY29wZV9Ub29sdGlwc1toYW5kbGVOdW1iZXJdLmlubmVySFRNTCA9IGZvcm1hdHRlZFZhbHVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBhcmlhKCkge1xuICAgICAgICAgICAgYmluZEV2ZW50KFwidXBkYXRlXCIsIGZ1bmN0aW9uKHZhbHVlcywgaGFuZGxlTnVtYmVyLCB1bmVuY29kZWQsIHRhcCwgcG9zaXRpb25zKSB7XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIEFyaWEgVmFsdWVzIGZvciBhbGwgaGFuZGxlcywgYXMgYSBjaGFuZ2UgaW4gb25lIGNoYW5nZXMgbWluIGFuZCBtYXggdmFsdWVzIGZvciB0aGUgbmV4dC5cbiAgICAgICAgICAgICAgICBzY29wZV9IYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhhbmRsZSA9IHNjb3BlX0hhbmRsZXNbaW5kZXhdO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBtaW4gPSBjaGVja0hhbmRsZVBvc2l0aW9uKHNjb3BlX0xvY2F0aW9ucywgaW5kZXgsIDAsIHRydWUsIHRydWUsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWF4ID0gY2hlY2tIYW5kbGVQb3NpdGlvbihzY29wZV9Mb2NhdGlvbnMsIGluZGV4LCAxMDAsIHRydWUsIHRydWUsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBub3cgPSBwb3NpdGlvbnNbaW5kZXhdO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEZvcm1hdHRlZCB2YWx1ZSBmb3IgZGlzcGxheVxuICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dCA9IG9wdGlvbnMuYXJpYUZvcm1hdC50byh1bmVuY29kZWRbaW5kZXhdKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBNYXAgdG8gc2xpZGVyIHJhbmdlIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICBtaW4gPSBzY29wZV9TcGVjdHJ1bS5mcm9tU3RlcHBpbmcobWluKS50b0ZpeGVkKDEpO1xuICAgICAgICAgICAgICAgICAgICBtYXggPSBzY29wZV9TcGVjdHJ1bS5mcm9tU3RlcHBpbmcobWF4KS50b0ZpeGVkKDEpO1xuICAgICAgICAgICAgICAgICAgICBub3cgPSBzY29wZV9TcGVjdHJ1bS5mcm9tU3RlcHBpbmcobm93KS50b0ZpeGVkKDEpO1xuXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZS5jaGlsZHJlblswXS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXZhbHVlbWluXCIsIG1pbik7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZS5jaGlsZHJlblswXS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXZhbHVlbWF4XCIsIG1heCk7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZS5jaGlsZHJlblswXS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXZhbHVlbm93XCIsIG5vdyk7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZS5jaGlsZHJlblswXS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXZhbHVldGV4dFwiLCB0ZXh0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0R3JvdXAobW9kZSwgdmFsdWVzLCBzdGVwcGVkKSB7XG4gICAgICAgICAgICAvLyBVc2UgdGhlIHJhbmdlLlxuICAgICAgICAgICAgaWYgKG1vZGUgPT09IFwicmFuZ2VcIiB8fCBtb2RlID09PSBcInN0ZXBzXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NvcGVfU3BlY3RydW0ueFZhbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG1vZGUgPT09IFwiY291bnRcIikge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZXMgPCAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3ZhbHVlcycgKD49IDIpIHJlcXVpcmVkIGZvciBtb2RlICdjb3VudCcuXCIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIERpdmlkZSAwIC0gMTAwIGluICdjb3VudCcgcGFydHMuXG4gICAgICAgICAgICAgICAgdmFyIGludGVydmFsID0gdmFsdWVzIC0gMTtcbiAgICAgICAgICAgICAgICB2YXIgc3ByZWFkID0gMTAwIC8gaW50ZXJ2YWw7XG5cbiAgICAgICAgICAgICAgICB2YWx1ZXMgPSBbXTtcblxuICAgICAgICAgICAgICAgIC8vIExpc3QgdGhlc2UgcGFydHMgYW5kIGhhdmUgdGhlbSBoYW5kbGVkIGFzICdwb3NpdGlvbnMnLlxuICAgICAgICAgICAgICAgIHdoaWxlIChpbnRlcnZhbC0tKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlc1tpbnRlcnZhbF0gPSBpbnRlcnZhbCAqIHNwcmVhZDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaCgxMDApO1xuXG4gICAgICAgICAgICAgICAgbW9kZSA9IFwicG9zaXRpb25zXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtb2RlID09PSBcInBvc2l0aW9uc1wiKSB7XG4gICAgICAgICAgICAgICAgLy8gTWFwIGFsbCBwZXJjZW50YWdlcyB0byBvbi1yYW5nZSB2YWx1ZXMuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlcy5tYXAoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlX1NwZWN0cnVtLmZyb21TdGVwcGluZyhzdGVwcGVkID8gc2NvcGVfU3BlY3RydW0uZ2V0U3RlcCh2YWx1ZSkgOiB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtb2RlID09PSBcInZhbHVlc1wiKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHZhbHVlIG11c3QgYmUgc3RlcHBlZCwgaXQgbmVlZHMgdG8gYmUgY29udmVydGVkIHRvIGEgcGVyY2VudGFnZSBmaXJzdC5cbiAgICAgICAgICAgICAgICBpZiAoc3RlcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzLm1hcChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29udmVydCB0byBwZXJjZW50YWdlLCBhcHBseSBzdGVwLCByZXR1cm4gdG8gdmFsdWUuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2NvcGVfU3BlY3RydW0uZnJvbVN0ZXBwaW5nKHNjb3BlX1NwZWN0cnVtLmdldFN0ZXAoc2NvcGVfU3BlY3RydW0udG9TdGVwcGluZyh2YWx1ZSkpKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSBjYW4gc2ltcGx5IHVzZSB0aGUgdmFsdWVzLlxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZW5lcmF0ZVNwcmVhZChkZW5zaXR5LCBtb2RlLCBncm91cCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gc2FmZUluY3JlbWVudCh2YWx1ZSwgaW5jcmVtZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gQXZvaWQgZmxvYXRpbmcgcG9pbnQgdmFyaWFuY2UgYnkgZHJvcHBpbmcgdGhlIHNtYWxsZXN0IGRlY2ltYWwgcGxhY2VzLlxuICAgICAgICAgICAgICAgIHJldHVybiAodmFsdWUgKyBpbmNyZW1lbnQpLnRvRml4ZWQoNykgLyAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgaW5kZXhlcyA9IHt9O1xuICAgICAgICAgICAgdmFyIGZpcnN0SW5SYW5nZSA9IHNjb3BlX1NwZWN0cnVtLnhWYWxbMF07XG4gICAgICAgICAgICB2YXIgbGFzdEluUmFuZ2UgPSBzY29wZV9TcGVjdHJ1bS54VmFsW3Njb3BlX1NwZWN0cnVtLnhWYWwubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICB2YXIgaWdub3JlRmlyc3QgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBpZ25vcmVMYXN0ID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgcHJldlBjdCA9IDA7XG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIGNvcHkgb2YgdGhlIGdyb3VwLCBzb3J0IGl0IGFuZCBmaWx0ZXIgYXdheSBhbGwgZHVwbGljYXRlcy5cbiAgICAgICAgICAgIGdyb3VwID0gdW5pcXVlKFxuICAgICAgICAgICAgICAgIGdyb3VwLnNsaWNlKCkuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhIC0gYjtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSByYW5nZSBzdGFydHMgd2l0aCB0aGUgZmlyc3QgZWxlbWVudC5cbiAgICAgICAgICAgIGlmIChncm91cFswXSAhPT0gZmlyc3RJblJhbmdlKSB7XG4gICAgICAgICAgICAgICAgZ3JvdXAudW5zaGlmdChmaXJzdEluUmFuZ2UpO1xuICAgICAgICAgICAgICAgIGlnbm9yZUZpcnN0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTGlrZXdpc2UgZm9yIHRoZSBsYXN0IG9uZS5cbiAgICAgICAgICAgIGlmIChncm91cFtncm91cC5sZW5ndGggLSAxXSAhPT0gbGFzdEluUmFuZ2UpIHtcbiAgICAgICAgICAgICAgICBncm91cC5wdXNoKGxhc3RJblJhbmdlKTtcbiAgICAgICAgICAgICAgICBpZ25vcmVMYXN0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZ3JvdXAuZm9yRWFjaChmdW5jdGlvbihjdXJyZW50LCBpbmRleCkge1xuICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgY3VycmVudCBzdGVwIGFuZCB0aGUgbG93ZXIgKyB1cHBlciBwb3NpdGlvbnMuXG4gICAgICAgICAgICAgICAgdmFyIHN0ZXA7XG4gICAgICAgICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgICAgICAgdmFyIHE7XG4gICAgICAgICAgICAgICAgdmFyIGxvdyA9IGN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgdmFyIGhpZ2ggPSBncm91cFtpbmRleCArIDFdO1xuICAgICAgICAgICAgICAgIHZhciBuZXdQY3Q7XG4gICAgICAgICAgICAgICAgdmFyIHBjdERpZmZlcmVuY2U7XG4gICAgICAgICAgICAgICAgdmFyIHBjdFBvcztcbiAgICAgICAgICAgICAgICB2YXIgdHlwZTtcbiAgICAgICAgICAgICAgICB2YXIgc3RlcHM7XG4gICAgICAgICAgICAgICAgdmFyIHJlYWxTdGVwcztcbiAgICAgICAgICAgICAgICB2YXIgc3RlcFNpemU7XG4gICAgICAgICAgICAgICAgdmFyIGlzU3RlcHMgPSBtb2RlID09PSBcInN0ZXBzXCI7XG5cbiAgICAgICAgICAgICAgICAvLyBXaGVuIHVzaW5nICdzdGVwcycgbW9kZSwgdXNlIHRoZSBwcm92aWRlZCBzdGVwcy5cbiAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UsIHdlJ2xsIHN0ZXAgb24gdG8gdGhlIG5leHQgc3VicmFuZ2UuXG4gICAgICAgICAgICAgICAgaWYgKGlzU3RlcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RlcCA9IHNjb3BlX1NwZWN0cnVtLnhOdW1TdGVwc1tpbmRleF07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gRGVmYXVsdCB0byBhICdmdWxsJyBzdGVwLlxuICAgICAgICAgICAgICAgIGlmICghc3RlcCkge1xuICAgICAgICAgICAgICAgICAgICBzdGVwID0gaGlnaCAtIGxvdztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBMb3cgY2FuIGJlIDAsIHNvIHRlc3QgZm9yIGZhbHNlLiBJZiBoaWdoIGlzIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAvLyB3ZSBhcmUgYXQgdGhlIGxhc3Qgc3VicmFuZ2UuIEluZGV4IDAgaXMgYWxyZWFkeSBoYW5kbGVkLlxuICAgICAgICAgICAgICAgIGlmIChsb3cgPT09IGZhbHNlIHx8IGhpZ2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHN0ZXAgaXNuJ3QgMCwgd2hpY2ggd291bGQgY2F1c2UgYW4gaW5maW5pdGUgbG9vcCAoIzY1NClcbiAgICAgICAgICAgICAgICBzdGVwID0gTWF0aC5tYXgoc3RlcCwgMC4wMDAwMDAxKTtcblxuICAgICAgICAgICAgICAgIC8vIEZpbmQgYWxsIHN0ZXBzIGluIHRoZSBzdWJyYW5nZS5cbiAgICAgICAgICAgICAgICBmb3IgKGkgPSBsb3c7IGkgPD0gaGlnaDsgaSA9IHNhZmVJbmNyZW1lbnQoaSwgc3RlcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHRoZSBwZXJjZW50YWdlIHZhbHVlIGZvciB0aGUgY3VycmVudCBzdGVwLFxuICAgICAgICAgICAgICAgICAgICAvLyBjYWxjdWxhdGUgdGhlIHNpemUgZm9yIHRoZSBzdWJyYW5nZS5cbiAgICAgICAgICAgICAgICAgICAgbmV3UGN0ID0gc2NvcGVfU3BlY3RydW0udG9TdGVwcGluZyhpKTtcbiAgICAgICAgICAgICAgICAgICAgcGN0RGlmZmVyZW5jZSA9IG5ld1BjdCAtIHByZXZQY3Q7XG5cbiAgICAgICAgICAgICAgICAgICAgc3RlcHMgPSBwY3REaWZmZXJlbmNlIC8gZGVuc2l0eTtcbiAgICAgICAgICAgICAgICAgICAgcmVhbFN0ZXBzID0gTWF0aC5yb3VuZChzdGVwcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyByYXRpbyByZXByZXNlbnRzIHRoZSBhbW91bnQgb2YgcGVyY2VudGFnZS1zcGFjZSBhIHBvaW50IGluZGljYXRlcy5cbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIGEgZGVuc2l0eSAxIHRoZSBwb2ludHMvcGVyY2VudGFnZSA9IDEuIEZvciBkZW5zaXR5IDIsIHRoYXQgcGVyY2VudGFnZSBuZWVkcyB0byBiZSByZS1kaXZpZGVkLlxuICAgICAgICAgICAgICAgICAgICAvLyBSb3VuZCB0aGUgcGVyY2VudGFnZSBvZmZzZXQgdG8gYW4gZXZlbiBudW1iZXIsIHRoZW4gZGl2aWRlIGJ5IHR3b1xuICAgICAgICAgICAgICAgICAgICAvLyB0byBzcHJlYWQgdGhlIG9mZnNldCBvbiBib3RoIHNpZGVzIG9mIHRoZSByYW5nZS5cbiAgICAgICAgICAgICAgICAgICAgc3RlcFNpemUgPSBwY3REaWZmZXJlbmNlIC8gcmVhbFN0ZXBzO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIERpdmlkZSBhbGwgcG9pbnRzIGV2ZW5seSwgYWRkaW5nIHRoZSBjb3JyZWN0IG51bWJlciB0byB0aGlzIHN1YnJhbmdlLlxuICAgICAgICAgICAgICAgICAgICAvLyBSdW4gdXAgdG8gPD0gc28gdGhhdCAxMDAlIGdldHMgYSBwb2ludCwgZXZlbnQgaWYgaWdub3JlTGFzdCBpcyBzZXQuXG4gICAgICAgICAgICAgICAgICAgIGZvciAocSA9IDE7IHEgPD0gcmVhbFN0ZXBzOyBxICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSByYXRpbyBiZXR3ZWVuIHRoZSByb3VuZGVkIHZhbHVlIGFuZCB0aGUgYWN0dWFsIHNpemUgbWlnaHQgYmUgfjElIG9mZi5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvcnJlY3QgdGhlIHBlcmNlbnRhZ2Ugb2Zmc2V0IGJ5IHRoZSBudW1iZXIgb2YgcG9pbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwZXIgc3VicmFuZ2UuIGRlbnNpdHkgPSAxIHdpbGwgcmVzdWx0IGluIDEwMCBwb2ludHMgb24gdGhlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmdWxsIHJhbmdlLCAyIGZvciA1MCwgNCBmb3IgMjUsIGV0Yy5cbiAgICAgICAgICAgICAgICAgICAgICAgIHBjdFBvcyA9IHByZXZQY3QgKyBxICogc3RlcFNpemU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleGVzW3BjdFBvcy50b0ZpeGVkKDUpXSA9IFtzY29wZV9TcGVjdHJ1bS5mcm9tU3RlcHBpbmcocGN0UG9zKSwgMF07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIHBvaW50IHR5cGUuXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBncm91cC5pbmRleE9mKGkpID4gLTEgPyBQSVBTX0xBUkdFX1ZBTFVFIDogaXNTdGVwcyA/IFBJUFNfU01BTExfVkFMVUUgOiBQSVBTX05PX1ZBTFVFO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEVuZm9yY2UgdGhlICdpZ25vcmVGaXJzdCcgb3B0aW9uIGJ5IG92ZXJ3cml0aW5nIHRoZSB0eXBlIGZvciAwLlxuICAgICAgICAgICAgICAgICAgICBpZiAoIWluZGV4ICYmIGlnbm9yZUZpcnN0ICYmIGkgIT09IGhpZ2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoaSA9PT0gaGlnaCAmJiBpZ25vcmVMYXN0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWFyayB0aGUgJ3R5cGUnIG9mIHRoaXMgcG9pbnQuIDAgPSBwbGFpbiwgMSA9IHJlYWwgdmFsdWUsIDIgPSBzdGVwIHZhbHVlLlxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhlc1tuZXdQY3QudG9GaXhlZCg1KV0gPSBbaSwgdHlwZV07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIHBlcmNlbnRhZ2UgY291bnQuXG4gICAgICAgICAgICAgICAgICAgIHByZXZQY3QgPSBuZXdQY3Q7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBpbmRleGVzO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYWRkTWFya2luZyhzcHJlYWQsIGZpbHRlckZ1bmMsIGZvcm1hdHRlcikge1xuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBzY29wZV9Eb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgICAgICAgICB2YXIgdmFsdWVTaXplQ2xhc3NlcyA9IFtdO1xuICAgICAgICAgICAgdmFsdWVTaXplQ2xhc3Nlc1tQSVBTX05PX1ZBTFVFXSA9IG9wdGlvbnMuY3NzQ2xhc3Nlcy52YWx1ZU5vcm1hbDtcbiAgICAgICAgICAgIHZhbHVlU2l6ZUNsYXNzZXNbUElQU19MQVJHRV9WQUxVRV0gPSBvcHRpb25zLmNzc0NsYXNzZXMudmFsdWVMYXJnZTtcbiAgICAgICAgICAgIHZhbHVlU2l6ZUNsYXNzZXNbUElQU19TTUFMTF9WQUxVRV0gPSBvcHRpb25zLmNzc0NsYXNzZXMudmFsdWVTdWI7XG5cbiAgICAgICAgICAgIHZhciBtYXJrZXJTaXplQ2xhc3NlcyA9IFtdO1xuICAgICAgICAgICAgbWFya2VyU2l6ZUNsYXNzZXNbUElQU19OT19WQUxVRV0gPSBvcHRpb25zLmNzc0NsYXNzZXMubWFya2VyTm9ybWFsO1xuICAgICAgICAgICAgbWFya2VyU2l6ZUNsYXNzZXNbUElQU19MQVJHRV9WQUxVRV0gPSBvcHRpb25zLmNzc0NsYXNzZXMubWFya2VyTGFyZ2U7XG4gICAgICAgICAgICBtYXJrZXJTaXplQ2xhc3Nlc1tQSVBTX1NNQUxMX1ZBTFVFXSA9IG9wdGlvbnMuY3NzQ2xhc3Nlcy5tYXJrZXJTdWI7XG5cbiAgICAgICAgICAgIHZhciB2YWx1ZU9yaWVudGF0aW9uQ2xhc3NlcyA9IFtvcHRpb25zLmNzc0NsYXNzZXMudmFsdWVIb3Jpem9udGFsLCBvcHRpb25zLmNzc0NsYXNzZXMudmFsdWVWZXJ0aWNhbF07XG4gICAgICAgICAgICB2YXIgbWFya2VyT3JpZW50YXRpb25DbGFzc2VzID0gW29wdGlvbnMuY3NzQ2xhc3Nlcy5tYXJrZXJIb3Jpem9udGFsLCBvcHRpb25zLmNzc0NsYXNzZXMubWFya2VyVmVydGljYWxdO1xuXG4gICAgICAgICAgICBhZGRDbGFzcyhlbGVtZW50LCBvcHRpb25zLmNzc0NsYXNzZXMucGlwcyk7XG4gICAgICAgICAgICBhZGRDbGFzcyhlbGVtZW50LCBvcHRpb25zLm9ydCA9PT0gMCA/IG9wdGlvbnMuY3NzQ2xhc3Nlcy5waXBzSG9yaXpvbnRhbCA6IG9wdGlvbnMuY3NzQ2xhc3Nlcy5waXBzVmVydGljYWwpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRDbGFzc2VzKHR5cGUsIHNvdXJjZSkge1xuICAgICAgICAgICAgICAgIHZhciBhID0gc291cmNlID09PSBvcHRpb25zLmNzc0NsYXNzZXMudmFsdWU7XG4gICAgICAgICAgICAgICAgdmFyIG9yaWVudGF0aW9uQ2xhc3NlcyA9IGEgPyB2YWx1ZU9yaWVudGF0aW9uQ2xhc3NlcyA6IG1hcmtlck9yaWVudGF0aW9uQ2xhc3NlcztcbiAgICAgICAgICAgICAgICB2YXIgc2l6ZUNsYXNzZXMgPSBhID8gdmFsdWVTaXplQ2xhc3NlcyA6IG1hcmtlclNpemVDbGFzc2VzO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNvdXJjZSArIFwiIFwiICsgb3JpZW50YXRpb25DbGFzc2VzW29wdGlvbnMub3J0XSArIFwiIFwiICsgc2l6ZUNsYXNzZXNbdHlwZV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGFkZFNwcmVhZChvZmZzZXQsIHZhbHVlLCB0eXBlKSB7XG4gICAgICAgICAgICAgICAgLy8gQXBwbHkgdGhlIGZpbHRlciBmdW5jdGlvbiwgaWYgaXQgaXMgc2V0LlxuICAgICAgICAgICAgICAgIHR5cGUgPSBmaWx0ZXJGdW5jID8gZmlsdGVyRnVuYyh2YWx1ZSwgdHlwZSkgOiB0eXBlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IFBJUFNfTk9ORSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQWRkIGEgbWFya2VyIGZvciBldmVyeSBwb2ludFxuICAgICAgICAgICAgICAgIHZhciBub2RlID0gYWRkTm9kZVRvKGVsZW1lbnQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBub2RlLmNsYXNzTmFtZSA9IGdldENsYXNzZXModHlwZSwgb3B0aW9ucy5jc3NDbGFzc2VzLm1hcmtlcik7XG4gICAgICAgICAgICAgICAgbm9kZS5zdHlsZVtvcHRpb25zLnN0eWxlXSA9IG9mZnNldCArIFwiJVwiO1xuXG4gICAgICAgICAgICAgICAgLy8gVmFsdWVzIGFyZSBvbmx5IGFwcGVuZGVkIGZvciBwb2ludHMgbWFya2VkICcxJyBvciAnMicuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPiBQSVBTX05PX1ZBTFVFKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSBhZGROb2RlVG8oZWxlbWVudCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBub2RlLmNsYXNzTmFtZSA9IGdldENsYXNzZXModHlwZSwgb3B0aW9ucy5jc3NDbGFzc2VzLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXZhbHVlXCIsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5zdHlsZVtvcHRpb25zLnN0eWxlXSA9IG9mZnNldCArIFwiJVwiO1xuICAgICAgICAgICAgICAgICAgICBub2RlLmlubmVySFRNTCA9IGZvcm1hdHRlci50byh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBcHBlbmQgYWxsIHBvaW50cy5cbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHNwcmVhZCkuZm9yRWFjaChmdW5jdGlvbihvZmZzZXQpIHtcbiAgICAgICAgICAgICAgICBhZGRTcHJlYWQob2Zmc2V0LCBzcHJlYWRbb2Zmc2V0XVswXSwgc3ByZWFkW29mZnNldF1bMV0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlUGlwcygpIHtcbiAgICAgICAgICAgIGlmIChzY29wZV9QaXBzKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlRWxlbWVudChzY29wZV9QaXBzKTtcbiAgICAgICAgICAgICAgICBzY29wZV9QaXBzID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHBpcHMoZ3JpZCkge1xuICAgICAgICAgICAgLy8gRml4ICM2NjlcbiAgICAgICAgICAgIHJlbW92ZVBpcHMoKTtcblxuICAgICAgICAgICAgdmFyIG1vZGUgPSBncmlkLm1vZGU7XG4gICAgICAgICAgICB2YXIgZGVuc2l0eSA9IGdyaWQuZGVuc2l0eSB8fCAxO1xuICAgICAgICAgICAgdmFyIGZpbHRlciA9IGdyaWQuZmlsdGVyIHx8IGZhbHNlO1xuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IGdyaWQudmFsdWVzIHx8IGZhbHNlO1xuICAgICAgICAgICAgdmFyIHN0ZXBwZWQgPSBncmlkLnN0ZXBwZWQgfHwgZmFsc2U7XG4gICAgICAgICAgICB2YXIgZ3JvdXAgPSBnZXRHcm91cChtb2RlLCB2YWx1ZXMsIHN0ZXBwZWQpO1xuICAgICAgICAgICAgdmFyIHNwcmVhZCA9IGdlbmVyYXRlU3ByZWFkKGRlbnNpdHksIG1vZGUsIGdyb3VwKTtcbiAgICAgICAgICAgIHZhciBmb3JtYXQgPSBncmlkLmZvcm1hdCB8fCB7XG4gICAgICAgICAgICAgICAgdG86IE1hdGgucm91bmRcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHNjb3BlX1BpcHMgPSBzY29wZV9UYXJnZXQuYXBwZW5kQ2hpbGQoYWRkTWFya2luZyhzcHJlYWQsIGZpbHRlciwgZm9ybWF0KSk7XG5cbiAgICAgICAgICAgIHJldHVybiBzY29wZV9QaXBzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2hvcnRoYW5kIGZvciBiYXNlIGRpbWVuc2lvbnMuXG4gICAgICAgIGZ1bmN0aW9uIGJhc2VTaXplKCkge1xuICAgICAgICAgICAgdmFyIHJlY3QgPSBzY29wZV9CYXNlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgdmFyIGFsdCA9IFwib2Zmc2V0XCIgKyBbXCJXaWR0aFwiLCBcIkhlaWdodFwiXVtvcHRpb25zLm9ydF07XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5vcnQgPT09IDAgPyByZWN0LndpZHRoIHx8IHNjb3BlX0Jhc2VbYWx0XSA6IHJlY3QuaGVpZ2h0IHx8IHNjb3BlX0Jhc2VbYWx0XTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhhbmRsZXIgZm9yIGF0dGFjaGluZyBldmVudHMgdHJvdWdoIGEgcHJveHkuXG4gICAgICAgIGZ1bmN0aW9uIGF0dGFjaEV2ZW50KGV2ZW50cywgZWxlbWVudCwgY2FsbGJhY2ssIGRhdGEpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gY2FuIGJlIHVzZWQgdG8gJ2ZpbHRlcicgZXZlbnRzIHRvIHRoZSBzbGlkZXIuXG4gICAgICAgICAgICAvLyBlbGVtZW50IGlzIGEgbm9kZSwgbm90IGEgbm9kZUxpc3RcblxuICAgICAgICAgICAgdmFyIG1ldGhvZCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBlID0gZml4RXZlbnQoZSwgZGF0YS5wYWdlT2Zmc2V0LCBkYXRhLnRhcmdldCB8fCBlbGVtZW50KTtcblxuICAgICAgICAgICAgICAgIC8vIGZpeEV2ZW50IHJldHVybnMgZmFsc2UgaWYgdGhpcyBldmVudCBoYXMgYSBkaWZmZXJlbnQgdGFyZ2V0XG4gICAgICAgICAgICAgICAgLy8gd2hlbiBoYW5kbGluZyAobXVsdGktKSB0b3VjaCBldmVudHM7XG4gICAgICAgICAgICAgICAgaWYgKCFlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBkb05vdFJlamVjdCBpcyBwYXNzZWQgYnkgYWxsIGVuZCBldmVudHMgdG8gbWFrZSBzdXJlIHJlbGVhc2VkIHRvdWNoZXNcbiAgICAgICAgICAgICAgICAvLyBhcmUgbm90IHJlamVjdGVkLCBsZWF2aW5nIHRoZSBzbGlkZXIgXCJzdHVja1wiIHRvIHRoZSBjdXJzb3I7XG4gICAgICAgICAgICAgICAgaWYgKGlzU2xpZGVyRGlzYWJsZWQoKSAmJiAhZGF0YS5kb05vdFJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gU3RvcCBpZiBhbiBhY3RpdmUgJ3RhcCcgdHJhbnNpdGlvbiBpcyB0YWtpbmcgcGxhY2UuXG4gICAgICAgICAgICAgICAgaWYgKGhhc0NsYXNzKHNjb3BlX1RhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLnRhcCkgJiYgIWRhdGEuZG9Ob3RSZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIElnbm9yZSByaWdodCBvciBtaWRkbGUgY2xpY2tzIG9uIHN0YXJ0ICM0NTRcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRzID09PSBhY3Rpb25zLnN0YXJ0ICYmIGUuYnV0dG9ucyAhPT0gdW5kZWZpbmVkICYmIGUuYnV0dG9ucyA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIElnbm9yZSByaWdodCBvciBtaWRkbGUgY2xpY2tzIG9uIHN0YXJ0ICM0NTRcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5ob3ZlciAmJiBlLmJ1dHRvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vICdzdXBwb3J0c1Bhc3NpdmUnIGlzIG9ubHkgdHJ1ZSBpZiBhIGJyb3dzZXIgYWxzbyBzdXBwb3J0cyB0b3VjaC1hY3Rpb246IG5vbmUgaW4gQ1NTLlxuICAgICAgICAgICAgICAgIC8vIGlPUyBzYWZhcmkgZG9lcyBub3QsIHNvIGl0IGRvZXNuJ3QgZ2V0IHRvIGJlbmVmaXQgZnJvbSBwYXNzaXZlIHNjcm9sbGluZy4gaU9TIGRvZXMgc3VwcG9ydFxuICAgICAgICAgICAgICAgIC8vIHRvdWNoLWFjdGlvbjogbWFuaXB1bGF0aW9uLCBidXQgdGhhdCBhbGxvd3MgcGFubmluZywgd2hpY2ggYnJlYWtzXG4gICAgICAgICAgICAgICAgLy8gc2xpZGVycyBhZnRlciB6b29taW5nL29uIG5vbi1yZXNwb25zaXZlIHBhZ2VzLlxuICAgICAgICAgICAgICAgIC8vIFNlZTogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEzMzExMlxuICAgICAgICAgICAgICAgIGlmICghc3VwcG9ydHNQYXNzaXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlLmNhbGNQb2ludCA9IGUucG9pbnRzW29wdGlvbnMub3J0XTtcblxuICAgICAgICAgICAgICAgIC8vIENhbGwgdGhlIGV2ZW50IGhhbmRsZXIgd2l0aCB0aGUgZXZlbnQgWyBhbmQgYWRkaXRpb25hbCBkYXRhIF0uXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZSwgZGF0YSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgbWV0aG9kcyA9IFtdO1xuXG4gICAgICAgICAgICAvLyBCaW5kIGEgY2xvc3VyZSBvbiB0aGUgdGFyZ2V0IGZvciBldmVyeSBldmVudCB0eXBlLlxuICAgICAgICAgICAgZXZlbnRzLnNwbGl0KFwiIFwiKS5mb3JFYWNoKGZ1bmN0aW9uKGV2ZW50TmFtZSkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIG1ldGhvZCwgc3VwcG9ydHNQYXNzaXZlID8geyBwYXNzaXZlOiB0cnVlIH0gOiBmYWxzZSk7XG4gICAgICAgICAgICAgICAgbWV0aG9kcy5wdXNoKFtldmVudE5hbWUsIG1ldGhvZF0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBtZXRob2RzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUHJvdmlkZSBhIGNsZWFuIGV2ZW50IHdpdGggc3RhbmRhcmRpemVkIG9mZnNldCB2YWx1ZXMuXG4gICAgICAgIGZ1bmN0aW9uIGZpeEV2ZW50KGUsIHBhZ2VPZmZzZXQsIGV2ZW50VGFyZ2V0KSB7XG4gICAgICAgICAgICAvLyBGaWx0ZXIgdGhlIGV2ZW50IHRvIHJlZ2lzdGVyIHRoZSB0eXBlLCB3aGljaCBjYW4gYmVcbiAgICAgICAgICAgIC8vIHRvdWNoLCBtb3VzZSBvciBwb2ludGVyLiBPZmZzZXQgY2hhbmdlcyBuZWVkIHRvIGJlXG4gICAgICAgICAgICAvLyBtYWRlIG9uIGFuIGV2ZW50IHNwZWNpZmljIGJhc2lzLlxuICAgICAgICAgICAgdmFyIHRvdWNoID0gZS50eXBlLmluZGV4T2YoXCJ0b3VjaFwiKSA9PT0gMDtcbiAgICAgICAgICAgIHZhciBtb3VzZSA9IGUudHlwZS5pbmRleE9mKFwibW91c2VcIikgPT09IDA7XG4gICAgICAgICAgICB2YXIgcG9pbnRlciA9IGUudHlwZS5pbmRleE9mKFwicG9pbnRlclwiKSA9PT0gMDtcblxuICAgICAgICAgICAgdmFyIHg7XG4gICAgICAgICAgICB2YXIgeTtcblxuICAgICAgICAgICAgLy8gSUUxMCBpbXBsZW1lbnRlZCBwb2ludGVyIGV2ZW50cyB3aXRoIGEgcHJlZml4O1xuICAgICAgICAgICAgaWYgKGUudHlwZS5pbmRleE9mKFwiTVNQb2ludGVyXCIpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcG9pbnRlciA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFRoZSBvbmx5IHRoaW5nIG9uZSBoYW5kbGUgc2hvdWxkIGJlIGNvbmNlcm5lZCBhYm91dCBpcyB0aGUgdG91Y2hlcyB0aGF0IG9yaWdpbmF0ZWQgb24gdG9wIG9mIGl0LlxuICAgICAgICAgICAgaWYgKHRvdWNoKSB7XG4gICAgICAgICAgICAgICAgLy8gUmV0dXJucyB0cnVlIGlmIGEgdG91Y2ggb3JpZ2luYXRlZCBvbiB0aGUgdGFyZ2V0LlxuICAgICAgICAgICAgICAgIHZhciBpc1RvdWNoT25UYXJnZXQgPSBmdW5jdGlvbihjaGVja1RvdWNoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja1RvdWNoLnRhcmdldCA9PT0gZXZlbnRUYXJnZXQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50VGFyZ2V0LmNvbnRhaW5zKGNoZWNrVG91Y2gudGFyZ2V0KSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKGNoZWNrVG91Y2gudGFyZ2V0LnNoYWRvd1Jvb3QgJiYgY2hlY2tUb3VjaC50YXJnZXQuc2hhZG93Um9vdC5jb250YWlucyhldmVudFRhcmdldCkpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIEluIHRoZSBjYXNlIG9mIHRvdWNoc3RhcnQgZXZlbnRzLCB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB0aGVyZSBpcyBzdGlsbCBubyBtb3JlIHRoYW4gb25lXG4gICAgICAgICAgICAgICAgLy8gdG91Y2ggb24gdGhlIHRhcmdldCBzbyB3ZSBsb29rIGFtb25nc3QgYWxsIHRvdWNoZXMuXG4gICAgICAgICAgICAgICAgaWYgKGUudHlwZSA9PT0gXCJ0b3VjaHN0YXJ0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldFRvdWNoZXMgPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoZS50b3VjaGVzLCBpc1RvdWNoT25UYXJnZXQpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIERvIG5vdCBzdXBwb3J0IG1vcmUgdGhhbiBvbmUgdG91Y2ggcGVyIGhhbmRsZS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldFRvdWNoZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgeCA9IHRhcmdldFRvdWNoZXNbMF0ucGFnZVg7XG4gICAgICAgICAgICAgICAgICAgIHkgPSB0YXJnZXRUb3VjaGVzWzBdLnBhZ2VZO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEluIHRoZSBvdGhlciBjYXNlcywgZmluZCBvbiBjaGFuZ2VkVG91Y2hlcyBpcyBlbm91Z2guXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXRUb3VjaCA9IEFycmF5LnByb3RvdHlwZS5maW5kLmNhbGwoZS5jaGFuZ2VkVG91Y2hlcywgaXNUb3VjaE9uVGFyZ2V0KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBDYW5jZWwgaWYgdGhlIHRhcmdldCB0b3VjaCBoYXMgbm90IG1vdmVkLlxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRhcmdldFRvdWNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB4ID0gdGFyZ2V0VG91Y2gucGFnZVg7XG4gICAgICAgICAgICAgICAgICAgIHkgPSB0YXJnZXRUb3VjaC5wYWdlWTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhZ2VPZmZzZXQgPSBwYWdlT2Zmc2V0IHx8IGdldFBhZ2VPZmZzZXQoc2NvcGVfRG9jdW1lbnQpO1xuXG4gICAgICAgICAgICBpZiAobW91c2UgfHwgcG9pbnRlcikge1xuICAgICAgICAgICAgICAgIHggPSBlLmNsaWVudFggKyBwYWdlT2Zmc2V0Lng7XG4gICAgICAgICAgICAgICAgeSA9IGUuY2xpZW50WSArIHBhZ2VPZmZzZXQueTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZS5wYWdlT2Zmc2V0ID0gcGFnZU9mZnNldDtcbiAgICAgICAgICAgIGUucG9pbnRzID0gW3gsIHldO1xuICAgICAgICAgICAgZS5jdXJzb3IgPSBtb3VzZSB8fCBwb2ludGVyOyAvLyBGaXggIzQzNVxuXG4gICAgICAgICAgICByZXR1cm4gZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRyYW5zbGF0ZSBhIGNvb3JkaW5hdGUgaW4gdGhlIGRvY3VtZW50IHRvIGEgcGVyY2VudGFnZSBvbiB0aGUgc2xpZGVyXG4gICAgICAgIGZ1bmN0aW9uIGNhbGNQb2ludFRvUGVyY2VudGFnZShjYWxjUG9pbnQpIHtcbiAgICAgICAgICAgIHZhciBsb2NhdGlvbiA9IGNhbGNQb2ludCAtIG9mZnNldChzY29wZV9CYXNlLCBvcHRpb25zLm9ydCk7XG4gICAgICAgICAgICB2YXIgcHJvcG9zYWwgPSAobG9jYXRpb24gKiAxMDApIC8gYmFzZVNpemUoKTtcblxuICAgICAgICAgICAgLy8gQ2xhbXAgcHJvcG9zYWwgYmV0d2VlbiAwJSBhbmQgMTAwJVxuICAgICAgICAgICAgLy8gT3V0LW9mLWJvdW5kIGNvb3JkaW5hdGVzIG1heSBvY2N1ciB3aGVuIC5ub1VpLWJhc2UgcHNldWRvLWVsZW1lbnRzXG4gICAgICAgICAgICAvLyBhcmUgdXNlZCAoZS5nLiBjb250YWluZWQgaGFuZGxlcyBmZWF0dXJlKVxuICAgICAgICAgICAgcHJvcG9zYWwgPSBsaW1pdChwcm9wb3NhbCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmRpciA/IDEwMCAtIHByb3Bvc2FsIDogcHJvcG9zYWw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGaW5kIGhhbmRsZSBjbG9zZXN0IHRvIGEgY2VydGFpbiBwZXJjZW50YWdlIG9uIHRoZSBzbGlkZXJcbiAgICAgICAgZnVuY3Rpb24gZ2V0Q2xvc2VzdEhhbmRsZShjbGlja2VkUG9zaXRpb24pIHtcbiAgICAgICAgICAgIHZhciBzbWFsbGVzdERpZmZlcmVuY2UgPSAxMDA7XG4gICAgICAgICAgICB2YXIgaGFuZGxlTnVtYmVyID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHNjb3BlX0hhbmRsZXMuZm9yRWFjaChmdW5jdGlvbihoYW5kbGUsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgLy8gRGlzYWJsZWQgaGFuZGxlcyBhcmUgaWdub3JlZFxuICAgICAgICAgICAgICAgIGlmIChpc0hhbmRsZURpc2FibGVkKGluZGV4KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIGhhbmRsZVBvc2l0aW9uID0gc2NvcGVfTG9jYXRpb25zW2luZGV4XTtcbiAgICAgICAgICAgICAgICB2YXIgZGlmZmVyZW5jZVdpdGhUaGlzSGFuZGxlID0gTWF0aC5hYnMoaGFuZGxlUG9zaXRpb24gLSBjbGlja2VkUG9zaXRpb24pO1xuXG4gICAgICAgICAgICAgICAgLy8gSW5pdGlhbCBzdGF0ZVxuICAgICAgICAgICAgICAgIHZhciBjbGlja0F0RWRnZSA9IGRpZmZlcmVuY2VXaXRoVGhpc0hhbmRsZSA9PT0gMTAwICYmIHNtYWxsZXN0RGlmZmVyZW5jZSA9PT0gMTAwO1xuXG4gICAgICAgICAgICAgICAgLy8gRGlmZmVyZW5jZSB3aXRoIHRoaXMgaGFuZGxlIGlzIHNtYWxsZXIgdGhhbiB0aGUgcHJldmlvdXNseSBjaGVja2VkIGhhbmRsZVxuICAgICAgICAgICAgICAgIHZhciBpc0Nsb3NlciA9IGRpZmZlcmVuY2VXaXRoVGhpc0hhbmRsZSA8IHNtYWxsZXN0RGlmZmVyZW5jZTtcbiAgICAgICAgICAgICAgICB2YXIgaXNDbG9zZXJBZnRlciA9IGRpZmZlcmVuY2VXaXRoVGhpc0hhbmRsZSA8PSBzbWFsbGVzdERpZmZlcmVuY2UgJiYgY2xpY2tlZFBvc2l0aW9uID4gaGFuZGxlUG9zaXRpb247XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNDbG9zZXIgfHwgaXNDbG9zZXJBZnRlciB8fCBjbGlja0F0RWRnZSkge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVOdW1iZXIgPSBpbmRleDtcbiAgICAgICAgICAgICAgICAgICAgc21hbGxlc3REaWZmZXJlbmNlID0gZGlmZmVyZW5jZVdpdGhUaGlzSGFuZGxlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlTnVtYmVyO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmlyZSAnZW5kJyB3aGVuIGEgbW91c2Ugb3IgcGVuIGxlYXZlcyB0aGUgZG9jdW1lbnQuXG4gICAgICAgIGZ1bmN0aW9uIGRvY3VtZW50TGVhdmUoZXZlbnQsIGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChldmVudC50eXBlID09PSBcIm1vdXNlb3V0XCIgJiYgZXZlbnQudGFyZ2V0Lm5vZGVOYW1lID09PSBcIkhUTUxcIiAmJiBldmVudC5yZWxhdGVkVGFyZ2V0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZXZlbnRFbmQoZXZlbnQsIGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGFuZGxlIG1vdmVtZW50IG9uIGRvY3VtZW50IGZvciBoYW5kbGUgYW5kIHJhbmdlIGRyYWcuXG4gICAgICAgIGZ1bmN0aW9uIGV2ZW50TW92ZShldmVudCwgZGF0YSkge1xuICAgICAgICAgICAgLy8gRml4ICM0OThcbiAgICAgICAgICAgIC8vIENoZWNrIHZhbHVlIG9mIC5idXR0b25zIGluICdzdGFydCcgdG8gd29yayBhcm91bmQgYSBidWcgaW4gSUUxMCBtb2JpbGUgKGRhdGEuYnV0dG9uc1Byb3BlcnR5KS5cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vY29ubmVjdC5taWNyb3NvZnQuY29tL0lFL2ZlZWRiYWNrL2RldGFpbHMvOTI3MDA1L21vYmlsZS1pZTEwLXdpbmRvd3MtcGhvbmUtYnV0dG9ucy1wcm9wZXJ0eS1vZi1wb2ludGVybW92ZS1ldmVudC1hbHdheXMtemVyb1xuICAgICAgICAgICAgLy8gSUU5IGhhcyAuYnV0dG9ucyBhbmQgLndoaWNoIHplcm8gb24gbW91c2Vtb3ZlLlxuICAgICAgICAgICAgLy8gRmlyZWZveCBicmVha3MgdGhlIHNwZWMgTUROIGRlZmluZXMuXG4gICAgICAgICAgICBpZiAobmF2aWdhdG9yLmFwcFZlcnNpb24uaW5kZXhPZihcIk1TSUUgOVwiKSA9PT0gLTEgJiYgZXZlbnQuYnV0dG9ucyA9PT0gMCAmJiBkYXRhLmJ1dHRvbnNQcm9wZXJ0eSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBldmVudEVuZChldmVudCwgZGF0YSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHdlIGFyZSBtb3ZpbmcgdXAgb3IgZG93blxuICAgICAgICAgICAgdmFyIG1vdmVtZW50ID0gKG9wdGlvbnMuZGlyID8gLTEgOiAxKSAqIChldmVudC5jYWxjUG9pbnQgLSBkYXRhLnN0YXJ0Q2FsY1BvaW50KTtcblxuICAgICAgICAgICAgLy8gQ29udmVydCB0aGUgbW92ZW1lbnQgaW50byBhIHBlcmNlbnRhZ2Ugb2YgdGhlIHNsaWRlciB3aWR0aC9oZWlnaHRcbiAgICAgICAgICAgIHZhciBwcm9wb3NhbCA9IChtb3ZlbWVudCAqIDEwMCkgLyBkYXRhLmJhc2VTaXplO1xuXG4gICAgICAgICAgICBtb3ZlSGFuZGxlcyhtb3ZlbWVudCA+IDAsIHByb3Bvc2FsLCBkYXRhLmxvY2F0aW9ucywgZGF0YS5oYW5kbGVOdW1iZXJzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVuYmluZCBtb3ZlIGV2ZW50cyBvbiBkb2N1bWVudCwgY2FsbCBjYWxsYmFja3MuXG4gICAgICAgIGZ1bmN0aW9uIGV2ZW50RW5kKGV2ZW50LCBkYXRhKSB7XG4gICAgICAgICAgICAvLyBUaGUgaGFuZGxlIGlzIG5vIGxvbmdlciBhY3RpdmUsIHNvIHJlbW92ZSB0aGUgY2xhc3MuXG4gICAgICAgICAgICBpZiAoZGF0YS5oYW5kbGUpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhkYXRhLmhhbmRsZSwgb3B0aW9ucy5jc3NDbGFzc2VzLmFjdGl2ZSk7XG4gICAgICAgICAgICAgICAgc2NvcGVfQWN0aXZlSGFuZGxlc0NvdW50IC09IDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFVuYmluZCB0aGUgbW92ZSBhbmQgZW5kIGV2ZW50cywgd2hpY2ggYXJlIGFkZGVkIG9uICdzdGFydCcuXG4gICAgICAgICAgICBkYXRhLmxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgICAgICAgICBzY29wZV9Eb2N1bWVudEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihjWzBdLCBjWzFdKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoc2NvcGVfQWN0aXZlSGFuZGxlc0NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGRyYWdnaW5nIGNsYXNzLlxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKHNjb3BlX1RhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLmRyYWcpO1xuICAgICAgICAgICAgICAgIHNldFppbmRleCgpO1xuXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGN1cnNvciBzdHlsZXMgYW5kIHRleHQtc2VsZWN0aW9uIGV2ZW50cyBib3VuZCB0byB0aGUgYm9keS5cbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuY3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlX0JvZHkuc3R5bGUuY3Vyc29yID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGVfQm9keS5yZW1vdmVFdmVudExpc3RlbmVyKFwic2VsZWN0c3RhcnRcIiwgcHJldmVudERlZmF1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGF0YS5oYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24oaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwiY2hhbmdlXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwic2V0XCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwiZW5kXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJpbmQgbW92ZSBldmVudHMgb24gZG9jdW1lbnQuXG4gICAgICAgIGZ1bmN0aW9uIGV2ZW50U3RhcnQoZXZlbnQsIGRhdGEpIHtcbiAgICAgICAgICAgIC8vIElnbm9yZSBldmVudCBpZiBhbnkgaGFuZGxlIGlzIGRpc2FibGVkXG4gICAgICAgICAgICBpZiAoZGF0YS5oYW5kbGVOdW1iZXJzLnNvbWUoaXNIYW5kbGVEaXNhYmxlZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBoYW5kbGU7XG5cbiAgICAgICAgICAgIGlmIChkYXRhLmhhbmRsZU51bWJlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhhbmRsZU9yaWdpbiA9IHNjb3BlX0hhbmRsZXNbZGF0YS5oYW5kbGVOdW1iZXJzWzBdXTtcblxuICAgICAgICAgICAgICAgIGhhbmRsZSA9IGhhbmRsZU9yaWdpbi5jaGlsZHJlblswXTtcbiAgICAgICAgICAgICAgICBzY29wZV9BY3RpdmVIYW5kbGVzQ291bnQgKz0gMTtcblxuICAgICAgICAgICAgICAgIC8vIE1hcmsgdGhlIGhhbmRsZSBhcyAnYWN0aXZlJyBzbyBpdCBjYW4gYmUgc3R5bGVkLlxuICAgICAgICAgICAgICAgIGFkZENsYXNzKGhhbmRsZSwgb3B0aW9ucy5jc3NDbGFzc2VzLmFjdGl2ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEEgZHJhZyBzaG91bGQgbmV2ZXIgcHJvcGFnYXRlIHVwIHRvIHRoZSAndGFwJyBldmVudC5cbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgICAvLyBSZWNvcmQgdGhlIGV2ZW50IGxpc3RlbmVycy5cbiAgICAgICAgICAgIHZhciBsaXN0ZW5lcnMgPSBbXTtcblxuICAgICAgICAgICAgLy8gQXR0YWNoIHRoZSBtb3ZlIGFuZCBlbmQgZXZlbnRzLlxuICAgICAgICAgICAgdmFyIG1vdmVFdmVudCA9IGF0dGFjaEV2ZW50KGFjdGlvbnMubW92ZSwgc2NvcGVfRG9jdW1lbnRFbGVtZW50LCBldmVudE1vdmUsIHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgZXZlbnQgdGFyZ2V0IGhhcyBjaGFuZ2VkIHNvIHdlIG5lZWQgdG8gcHJvcGFnYXRlIHRoZSBvcmlnaW5hbCBvbmUgc28gdGhhdCB3ZSBrZWVwXG4gICAgICAgICAgICAgICAgLy8gcmVseWluZyBvbiBpdCB0byBleHRyYWN0IHRhcmdldCB0b3VjaGVzLlxuICAgICAgICAgICAgICAgIHRhcmdldDogZXZlbnQudGFyZ2V0LFxuICAgICAgICAgICAgICAgIGhhbmRsZTogaGFuZGxlLFxuICAgICAgICAgICAgICAgIGxpc3RlbmVyczogbGlzdGVuZXJzLFxuICAgICAgICAgICAgICAgIHN0YXJ0Q2FsY1BvaW50OiBldmVudC5jYWxjUG9pbnQsXG4gICAgICAgICAgICAgICAgYmFzZVNpemU6IGJhc2VTaXplKCksXG4gICAgICAgICAgICAgICAgcGFnZU9mZnNldDogZXZlbnQucGFnZU9mZnNldCxcbiAgICAgICAgICAgICAgICBoYW5kbGVOdW1iZXJzOiBkYXRhLmhhbmRsZU51bWJlcnMsXG4gICAgICAgICAgICAgICAgYnV0dG9uc1Byb3BlcnR5OiBldmVudC5idXR0b25zLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uczogc2NvcGVfTG9jYXRpb25zLnNsaWNlKClcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgZW5kRXZlbnQgPSBhdHRhY2hFdmVudChhY3Rpb25zLmVuZCwgc2NvcGVfRG9jdW1lbnRFbGVtZW50LCBldmVudEVuZCwge1xuICAgICAgICAgICAgICAgIHRhcmdldDogZXZlbnQudGFyZ2V0LFxuICAgICAgICAgICAgICAgIGhhbmRsZTogaGFuZGxlLFxuICAgICAgICAgICAgICAgIGxpc3RlbmVyczogbGlzdGVuZXJzLFxuICAgICAgICAgICAgICAgIGRvTm90UmVqZWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgIGhhbmRsZU51bWJlcnM6IGRhdGEuaGFuZGxlTnVtYmVyc1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHZhciBvdXRFdmVudCA9IGF0dGFjaEV2ZW50KFwibW91c2VvdXRcIiwgc2NvcGVfRG9jdW1lbnRFbGVtZW50LCBkb2N1bWVudExlYXZlLCB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBldmVudC50YXJnZXQsXG4gICAgICAgICAgICAgICAgaGFuZGxlOiBoYW5kbGUsXG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzOiBsaXN0ZW5lcnMsXG4gICAgICAgICAgICAgICAgZG9Ob3RSZWplY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgaGFuZGxlTnVtYmVyczogZGF0YS5oYW5kbGVOdW1iZXJzXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gV2Ugd2FudCB0byBtYWtlIHN1cmUgd2UgcHVzaGVkIHRoZSBsaXN0ZW5lcnMgaW4gdGhlIGxpc3RlbmVyIGxpc3QgcmF0aGVyIHRoYW4gY3JlYXRpbmdcbiAgICAgICAgICAgIC8vIGEgbmV3IG9uZSBhcyBpdCBoYXMgYWxyZWFkeSBiZWVuIHBhc3NlZCB0byB0aGUgZXZlbnQgaGFuZGxlcnMuXG4gICAgICAgICAgICBsaXN0ZW5lcnMucHVzaC5hcHBseShsaXN0ZW5lcnMsIG1vdmVFdmVudC5jb25jYXQoZW5kRXZlbnQsIG91dEV2ZW50KSk7XG5cbiAgICAgICAgICAgIC8vIFRleHQgc2VsZWN0aW9uIGlzbid0IGFuIGlzc3VlIG9uIHRvdWNoIGRldmljZXMsXG4gICAgICAgICAgICAvLyBzbyBhZGRpbmcgY3Vyc29yIHN0eWxlcyBjYW4gYmUgc2tpcHBlZC5cbiAgICAgICAgICAgIGlmIChldmVudC5jdXJzb3IpIHtcbiAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IHRoZSAnSScgY3Vyc29yIGFuZCBleHRlbmQgdGhlIHJhbmdlLWRyYWcgY3Vyc29yLlxuICAgICAgICAgICAgICAgIHNjb3BlX0JvZHkuc3R5bGUuY3Vyc29yID0gZ2V0Q29tcHV0ZWRTdHlsZShldmVudC50YXJnZXQpLmN1cnNvcjtcblxuICAgICAgICAgICAgICAgIC8vIE1hcmsgdGhlIHRhcmdldCB3aXRoIGEgZHJhZ2dpbmcgc3RhdGUuXG4gICAgICAgICAgICAgICAgaWYgKHNjb3BlX0hhbmRsZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcyhzY29wZV9UYXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5kcmFnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IHRleHQgc2VsZWN0aW9uIHdoZW4gZHJhZ2dpbmcgdGhlIGhhbmRsZXMuXG4gICAgICAgICAgICAgICAgLy8gSW4gbm9VaVNsaWRlciA8PSA5LjIuMCwgdGhpcyB3YXMgaGFuZGxlZCBieSBjYWxsaW5nIHByZXZlbnREZWZhdWx0IG9uIG1vdXNlL3RvdWNoIHN0YXJ0L21vdmUsXG4gICAgICAgICAgICAgICAgLy8gd2hpY2ggaXMgc2Nyb2xsIGJsb2NraW5nLiBUaGUgc2VsZWN0c3RhcnQgZXZlbnQgaXMgc3VwcG9ydGVkIGJ5IEZpcmVGb3ggc3RhcnRpbmcgZnJvbSB2ZXJzaW9uIDUyLFxuICAgICAgICAgICAgICAgIC8vIG1lYW5pbmcgdGhlIG9ubHkgaG9sZG91dCBpcyBpT1MgU2FmYXJpLiBUaGlzIGRvZXNuJ3QgbWF0dGVyOiB0ZXh0IHNlbGVjdGlvbiBpc24ndCB0cmlnZ2VyZWQgdGhlcmUuXG4gICAgICAgICAgICAgICAgLy8gVGhlICdjdXJzb3InIGZsYWcgaXMgZmFsc2UuXG4gICAgICAgICAgICAgICAgLy8gU2VlOiBodHRwOi8vY2FuaXVzZS5jb20vI3NlYXJjaD1zZWxlY3RzdGFydFxuICAgICAgICAgICAgICAgIHNjb3BlX0JvZHkuYWRkRXZlbnRMaXN0ZW5lcihcInNlbGVjdHN0YXJ0XCIsIHByZXZlbnREZWZhdWx0LCBmYWxzZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRhdGEuaGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZU51bWJlcikge1xuICAgICAgICAgICAgICAgIGZpcmVFdmVudChcInN0YXJ0XCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1vdmUgY2xvc2VzdCBoYW5kbGUgdG8gdGFwcGVkIGxvY2F0aW9uLlxuICAgICAgICBmdW5jdGlvbiBldmVudFRhcChldmVudCkge1xuICAgICAgICAgICAgLy8gVGhlIHRhcCBldmVudCBzaG91bGRuJ3QgcHJvcGFnYXRlIHVwXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgdmFyIHByb3Bvc2FsID0gY2FsY1BvaW50VG9QZXJjZW50YWdlKGV2ZW50LmNhbGNQb2ludCk7XG4gICAgICAgICAgICB2YXIgaGFuZGxlTnVtYmVyID0gZ2V0Q2xvc2VzdEhhbmRsZShwcm9wb3NhbCk7XG5cbiAgICAgICAgICAgIC8vIFRhY2tsZSB0aGUgY2FzZSB0aGF0IGFsbCBoYW5kbGVzIGFyZSAnZGlzYWJsZWQnLlxuICAgICAgICAgICAgaWYgKGhhbmRsZU51bWJlciA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEZsYWcgdGhlIHNsaWRlciBhcyBpdCBpcyBub3cgaW4gYSB0cmFuc2l0aW9uYWwgc3RhdGUuXG4gICAgICAgICAgICAvLyBUcmFuc2l0aW9uIHRha2VzIGEgY29uZmlndXJhYmxlIGFtb3VudCBvZiBtcyAoZGVmYXVsdCAzMDApLiBSZS1lbmFibGUgdGhlIHNsaWRlciBhZnRlciB0aGF0LlxuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmV2ZW50cy5zbmFwKSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3NGb3Ioc2NvcGVfVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMudGFwLCBvcHRpb25zLmFuaW1hdGlvbkR1cmF0aW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2V0SGFuZGxlKGhhbmRsZU51bWJlciwgcHJvcG9zYWwsIHRydWUsIHRydWUpO1xuXG4gICAgICAgICAgICBzZXRaaW5kZXgoKTtcblxuICAgICAgICAgICAgZmlyZUV2ZW50KFwic2xpZGVcIiwgaGFuZGxlTnVtYmVyLCB0cnVlKTtcbiAgICAgICAgICAgIGZpcmVFdmVudChcInVwZGF0ZVwiLCBoYW5kbGVOdW1iZXIsIHRydWUpO1xuICAgICAgICAgICAgZmlyZUV2ZW50KFwiY2hhbmdlXCIsIGhhbmRsZU51bWJlciwgdHJ1ZSk7XG4gICAgICAgICAgICBmaXJlRXZlbnQoXCJzZXRcIiwgaGFuZGxlTnVtYmVyLCB0cnVlKTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZXZlbnRzLnNuYXApIHtcbiAgICAgICAgICAgICAgICBldmVudFN0YXJ0KGV2ZW50LCB7IGhhbmRsZU51bWJlcnM6IFtoYW5kbGVOdW1iZXJdIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmlyZXMgYSAnaG92ZXInIGV2ZW50IGZvciBhIGhvdmVyZWQgbW91c2UvcGVuIHBvc2l0aW9uLlxuICAgICAgICBmdW5jdGlvbiBldmVudEhvdmVyKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgcHJvcG9zYWwgPSBjYWxjUG9pbnRUb1BlcmNlbnRhZ2UoZXZlbnQuY2FsY1BvaW50KTtcblxuICAgICAgICAgICAgdmFyIHRvID0gc2NvcGVfU3BlY3RydW0uZ2V0U3RlcChwcm9wb3NhbCk7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBzY29wZV9TcGVjdHJ1bS5mcm9tU3RlcHBpbmcodG8pO1xuXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzY29wZV9FdmVudHMpLmZvckVhY2goZnVuY3Rpb24odGFyZ2V0RXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoXCJob3ZlclwiID09PSB0YXJnZXRFdmVudC5zcGxpdChcIi5cIilbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGVfRXZlbnRzW3RhcmdldEV2ZW50XS5mb3JFYWNoKGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKHNjb3BlX1NlbGYsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGVzIGtleWRvd24gb24gZm9jdXNlZCBoYW5kbGVzXG4gICAgICAgIC8vIERvbid0IG1vdmUgdGhlIGRvY3VtZW50IHdoZW4gcHJlc3NpbmcgYXJyb3cga2V5cyBvbiBmb2N1c2VkIGhhbmRsZXNcbiAgICAgICAgZnVuY3Rpb24gZXZlbnRLZXlkb3duKGV2ZW50LCBoYW5kbGVOdW1iZXIpIHtcbiAgICAgICAgICAgIGlmIChpc1NsaWRlckRpc2FibGVkKCkgfHwgaXNIYW5kbGVEaXNhYmxlZChoYW5kbGVOdW1iZXIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgaG9yaXpvbnRhbEtleXMgPSBbXCJMZWZ0XCIsIFwiUmlnaHRcIl07XG4gICAgICAgICAgICB2YXIgdmVydGljYWxLZXlzID0gW1wiRG93blwiLCBcIlVwXCJdO1xuICAgICAgICAgICAgdmFyIGxhcmdlU3RlcEtleXMgPSBbXCJQYWdlRG93blwiLCBcIlBhZ2VVcFwiXTtcbiAgICAgICAgICAgIHZhciBlZGdlS2V5cyA9IFtcIkhvbWVcIiwgXCJFbmRcIl07XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmRpciAmJiAhb3B0aW9ucy5vcnQpIHtcbiAgICAgICAgICAgICAgICAvLyBPbiBhbiByaWdodC10by1sZWZ0IHNsaWRlciwgdGhlIGxlZnQgYW5kIHJpZ2h0IGtleXMgYWN0IGludmVydGVkXG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbEtleXMucmV2ZXJzZSgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLm9ydCAmJiAhb3B0aW9ucy5kaXIpIHtcbiAgICAgICAgICAgICAgICAvLyBPbiBhIHRvcC10by1ib3R0b20gc2xpZGVyLCB0aGUgdXAgYW5kIGRvd24ga2V5cyBhY3QgaW52ZXJ0ZWRcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbEtleXMucmV2ZXJzZSgpO1xuICAgICAgICAgICAgICAgIGxhcmdlU3RlcEtleXMucmV2ZXJzZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTdHJpcCBcIkFycm93XCIgZm9yIElFIGNvbXBhdGliaWxpdHkuIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9LZXlib2FyZEV2ZW50L2tleVxuICAgICAgICAgICAgdmFyIGtleSA9IGV2ZW50LmtleS5yZXBsYWNlKFwiQXJyb3dcIiwgXCJcIik7XG5cbiAgICAgICAgICAgIHZhciBpc0xhcmdlRG93biA9IGtleSA9PT0gbGFyZ2VTdGVwS2V5c1swXTtcbiAgICAgICAgICAgIHZhciBpc0xhcmdlVXAgPSBrZXkgPT09IGxhcmdlU3RlcEtleXNbMV07XG4gICAgICAgICAgICB2YXIgaXNEb3duID0ga2V5ID09PSB2ZXJ0aWNhbEtleXNbMF0gfHwga2V5ID09PSBob3Jpem9udGFsS2V5c1swXSB8fCBpc0xhcmdlRG93bjtcbiAgICAgICAgICAgIHZhciBpc1VwID0ga2V5ID09PSB2ZXJ0aWNhbEtleXNbMV0gfHwga2V5ID09PSBob3Jpem9udGFsS2V5c1sxXSB8fCBpc0xhcmdlVXA7XG4gICAgICAgICAgICB2YXIgaXNNaW4gPSBrZXkgPT09IGVkZ2VLZXlzWzBdO1xuICAgICAgICAgICAgdmFyIGlzTWF4ID0ga2V5ID09PSBlZGdlS2V5c1sxXTtcblxuICAgICAgICAgICAgaWYgKCFpc0Rvd24gJiYgIWlzVXAgJiYgIWlzTWluICYmICFpc01heCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICB2YXIgdG87XG5cbiAgICAgICAgICAgIGlmIChpc1VwIHx8IGlzRG93bikge1xuICAgICAgICAgICAgICAgIHZhciBtdWx0aXBsaWVyID0gNTtcbiAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gaXNEb3duID8gMCA6IDE7XG4gICAgICAgICAgICAgICAgdmFyIHN0ZXBzID0gZ2V0TmV4dFN0ZXBzRm9ySGFuZGxlKGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgdmFyIHN0ZXAgPSBzdGVwc1tkaXJlY3Rpb25dO1xuXG4gICAgICAgICAgICAgICAgLy8gQXQgdGhlIGVkZ2Ugb2YgYSBzbGlkZXIsIGRvIG5vdGhpbmdcbiAgICAgICAgICAgICAgICBpZiAoc3RlcCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTm8gc3RlcCBzZXQsIHVzZSB0aGUgZGVmYXVsdCBvZiAxMCUgb2YgdGhlIHN1Yi1yYW5nZVxuICAgICAgICAgICAgICAgIGlmIChzdGVwID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBzdGVwID0gc2NvcGVfU3BlY3RydW0uZ2V0RGVmYXVsdFN0ZXAoc2NvcGVfTG9jYXRpb25zW2hhbmRsZU51bWJlcl0sIGlzRG93biwgMTApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChpc0xhcmdlVXAgfHwgaXNMYXJnZURvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgc3RlcCAqPSBtdWx0aXBsaWVyO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFN0ZXAgb3ZlciB6ZXJvLWxlbmd0aCByYW5nZXMgKCM5NDgpO1xuICAgICAgICAgICAgICAgIHN0ZXAgPSBNYXRoLm1heChzdGVwLCAwLjAwMDAwMDEpO1xuXG4gICAgICAgICAgICAgICAgLy8gRGVjcmVtZW50IGZvciBkb3duIHN0ZXBzXG4gICAgICAgICAgICAgICAgc3RlcCA9IChpc0Rvd24gPyAtMSA6IDEpICogc3RlcDtcblxuICAgICAgICAgICAgICAgIHRvID0gc2NvcGVfVmFsdWVzW2hhbmRsZU51bWJlcl0gKyBzdGVwO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc01heCkge1xuICAgICAgICAgICAgICAgIC8vIEVuZCBrZXlcbiAgICAgICAgICAgICAgICB0byA9IG9wdGlvbnMuc3BlY3RydW0ueFZhbFtvcHRpb25zLnNwZWN0cnVtLnhWYWwubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEhvbWUga2V5XG4gICAgICAgICAgICAgICAgdG8gPSBvcHRpb25zLnNwZWN0cnVtLnhWYWxbMF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNldEhhbmRsZShoYW5kbGVOdW1iZXIsIHNjb3BlX1NwZWN0cnVtLnRvU3RlcHBpbmcodG8pLCB0cnVlLCB0cnVlKTtcblxuICAgICAgICAgICAgZmlyZUV2ZW50KFwic2xpZGVcIiwgaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgIGZpcmVFdmVudChcInVwZGF0ZVwiLCBoYW5kbGVOdW1iZXIpO1xuICAgICAgICAgICAgZmlyZUV2ZW50KFwiY2hhbmdlXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICBmaXJlRXZlbnQoXCJzZXRcIiwgaGFuZGxlTnVtYmVyKTtcblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXR0YWNoIGV2ZW50cyB0byBzZXZlcmFsIHNsaWRlciBwYXJ0cy5cbiAgICAgICAgZnVuY3Rpb24gYmluZFNsaWRlckV2ZW50cyhiZWhhdmlvdXIpIHtcbiAgICAgICAgICAgIC8vIEF0dGFjaCB0aGUgc3RhbmRhcmQgZHJhZyBldmVudCB0byB0aGUgaGFuZGxlcy5cbiAgICAgICAgICAgIGlmICghYmVoYXZpb3VyLmZpeGVkKSB7XG4gICAgICAgICAgICAgICAgc2NvcGVfSGFuZGxlcy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlc2UgZXZlbnRzIGFyZSBvbmx5IGJvdW5kIHRvIHRoZSB2aXN1YWwgaGFuZGxlXG4gICAgICAgICAgICAgICAgICAgIC8vIGVsZW1lbnQsIG5vdCB0aGUgJ3JlYWwnIG9yaWdpbiBlbGVtZW50LlxuICAgICAgICAgICAgICAgICAgICBhdHRhY2hFdmVudChhY3Rpb25zLnN0YXJ0LCBoYW5kbGUuY2hpbGRyZW5bMF0sIGV2ZW50U3RhcnQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZU51bWJlcnM6IFtpbmRleF1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEF0dGFjaCB0aGUgdGFwIGV2ZW50IHRvIHRoZSBzbGlkZXIgYmFzZS5cbiAgICAgICAgICAgIGlmIChiZWhhdmlvdXIudGFwKSB7XG4gICAgICAgICAgICAgICAgYXR0YWNoRXZlbnQoYWN0aW9ucy5zdGFydCwgc2NvcGVfQmFzZSwgZXZlbnRUYXAsIHt9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRmlyZSBob3ZlciBldmVudHNcbiAgICAgICAgICAgIGlmIChiZWhhdmlvdXIuaG92ZXIpIHtcbiAgICAgICAgICAgICAgICBhdHRhY2hFdmVudChhY3Rpb25zLm1vdmUsIHNjb3BlX0Jhc2UsIGV2ZW50SG92ZXIsIHtcbiAgICAgICAgICAgICAgICAgICAgaG92ZXI6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTWFrZSB0aGUgcmFuZ2UgZHJhZ2dhYmxlLlxuICAgICAgICAgICAgaWYgKGJlaGF2aW91ci5kcmFnKSB7XG4gICAgICAgICAgICAgICAgc2NvcGVfQ29ubmVjdHMuZm9yRWFjaChmdW5jdGlvbihjb25uZWN0LCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29ubmVjdCA9PT0gZmFsc2UgfHwgaW5kZXggPT09IDAgfHwgaW5kZXggPT09IHNjb3BlX0Nvbm5lY3RzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBoYW5kbGVCZWZvcmUgPSBzY29wZV9IYW5kbGVzW2luZGV4IC0gMV07XG4gICAgICAgICAgICAgICAgICAgIHZhciBoYW5kbGVBZnRlciA9IHNjb3BlX0hhbmRsZXNbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnRIb2xkZXJzID0gW2Nvbm5lY3RdO1xuXG4gICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKGNvbm5lY3QsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5kcmFnZ2FibGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIHJhbmdlIGlzIGZpeGVkLCB0aGUgZW50aXJlIHJhbmdlIGNhblxuICAgICAgICAgICAgICAgICAgICAvLyBiZSBkcmFnZ2VkIGJ5IHRoZSBoYW5kbGVzLiBUaGUgaGFuZGxlIGluIHRoZSBmaXJzdFxuICAgICAgICAgICAgICAgICAgICAvLyBvcmlnaW4gd2lsbCBwcm9wYWdhdGUgdGhlIHN0YXJ0IGV2ZW50IHVwd2FyZCxcbiAgICAgICAgICAgICAgICAgICAgLy8gYnV0IGl0IG5lZWRzIHRvIGJlIGJvdW5kIG1hbnVhbGx5IG9uIHRoZSBvdGhlci5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGJlaGF2aW91ci5maXhlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRIb2xkZXJzLnB1c2goaGFuZGxlQmVmb3JlLmNoaWxkcmVuWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SG9sZGVycy5wdXNoKGhhbmRsZUFmdGVyLmNoaWxkcmVuWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SG9sZGVycy5mb3JFYWNoKGZ1bmN0aW9uKGV2ZW50SG9sZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2hFdmVudChhY3Rpb25zLnN0YXJ0LCBldmVudEhvbGRlciwgZXZlbnRTdGFydCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXM6IFtoYW5kbGVCZWZvcmUsIGhhbmRsZUFmdGVyXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVOdW1iZXJzOiBbaW5kZXggLSAxLCBpbmRleF1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEF0dGFjaCBhbiBldmVudCB0byB0aGlzIHNsaWRlciwgcG9zc2libHkgaW5jbHVkaW5nIGEgbmFtZXNwYWNlXG4gICAgICAgIGZ1bmN0aW9uIGJpbmRFdmVudChuYW1lc3BhY2VkRXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBzY29wZV9FdmVudHNbbmFtZXNwYWNlZEV2ZW50XSA9IHNjb3BlX0V2ZW50c1tuYW1lc3BhY2VkRXZlbnRdIHx8IFtdO1xuICAgICAgICAgICAgc2NvcGVfRXZlbnRzW25hbWVzcGFjZWRFdmVudF0ucHVzaChjYWxsYmFjayk7XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSBldmVudCBib3VuZCBpcyAndXBkYXRlLCcgZmlyZSBpdCBpbW1lZGlhdGVseSBmb3IgYWxsIGhhbmRsZXMuXG4gICAgICAgICAgICBpZiAobmFtZXNwYWNlZEV2ZW50LnNwbGl0KFwiLlwiKVswXSA9PT0gXCJ1cGRhdGVcIikge1xuICAgICAgICAgICAgICAgIHNjb3BlX0hhbmRsZXMuZm9yRWFjaChmdW5jdGlvbihhLCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBmaXJlRXZlbnQoXCJ1cGRhdGVcIiwgaW5kZXgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVW5kbyBhdHRhY2htZW50IG9mIGV2ZW50XG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZUV2ZW50KG5hbWVzcGFjZWRFdmVudCkge1xuICAgICAgICAgICAgdmFyIGV2ZW50ID0gbmFtZXNwYWNlZEV2ZW50ICYmIG5hbWVzcGFjZWRFdmVudC5zcGxpdChcIi5cIilbMF07XG4gICAgICAgICAgICB2YXIgbmFtZXNwYWNlID0gZXZlbnQgJiYgbmFtZXNwYWNlZEV2ZW50LnN1YnN0cmluZyhldmVudC5sZW5ndGgpO1xuXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzY29wZV9FdmVudHMpLmZvckVhY2goZnVuY3Rpb24oYmluZCkge1xuICAgICAgICAgICAgICAgIHZhciB0RXZlbnQgPSBiaW5kLnNwbGl0KFwiLlwiKVswXTtcbiAgICAgICAgICAgICAgICB2YXIgdE5hbWVzcGFjZSA9IGJpbmQuc3Vic3RyaW5nKHRFdmVudC5sZW5ndGgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCghZXZlbnQgfHwgZXZlbnQgPT09IHRFdmVudCkgJiYgKCFuYW1lc3BhY2UgfHwgbmFtZXNwYWNlID09PSB0TmFtZXNwYWNlKSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgc2NvcGVfRXZlbnRzW2JpbmRdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRXh0ZXJuYWwgZXZlbnQgaGFuZGxpbmdcbiAgICAgICAgZnVuY3Rpb24gZmlyZUV2ZW50KGV2ZW50TmFtZSwgaGFuZGxlTnVtYmVyLCB0YXApIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHNjb3BlX0V2ZW50cykuZm9yRWFjaChmdW5jdGlvbih0YXJnZXRFdmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBldmVudFR5cGUgPSB0YXJnZXRFdmVudC5zcGxpdChcIi5cIilbMF07XG5cbiAgICAgICAgICAgICAgICBpZiAoZXZlbnROYW1lID09PSBldmVudFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGVfRXZlbnRzW3RhcmdldEV2ZW50XS5mb3JFYWNoKGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZSB0aGUgc2xpZGVyIHB1YmxpYyBBUEkgYXMgdGhlIHNjb3BlICgndGhpcycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGVfU2VsZixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXR1cm4gdmFsdWVzIGFzIGFycmF5LCBzbyBhcmdfMVthcmdfMl0gaXMgYWx3YXlzIHZhbGlkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlX1ZhbHVlcy5tYXAob3B0aW9ucy5mb3JtYXQudG8pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBpbmRleCwgMCBvciAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlTnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVuLWZvcm1hdHRlZCBzbGlkZXIgdmFsdWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGVfVmFsdWVzLnNsaWNlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXZlbnQgaXMgZmlyZWQgYnkgdGFwLCB0cnVlIG9yIGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFwIHx8IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIExlZnQgb2Zmc2V0IG9mIHRoZSBoYW5kbGUsIGluIHJlbGF0aW9uIHRvIHRoZSBzbGlkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZV9Mb2NhdGlvbnMuc2xpY2UoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgdGhlIHNsaWRlciBwdWJsaWMgQVBJIHRvIGFuIGFjY2Vzc2libGUgcGFyYW1ldGVyIHdoZW4gdGhpcyBpcyB1bmF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlX1NlbGZcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3BsaXQgb3V0IHRoZSBoYW5kbGUgcG9zaXRpb25pbmcgbG9naWMgc28gdGhlIE1vdmUgZXZlbnQgY2FuIHVzZSBpdCwgdG9vXG4gICAgICAgIGZ1bmN0aW9uIGNoZWNrSGFuZGxlUG9zaXRpb24ocmVmZXJlbmNlLCBoYW5kbGVOdW1iZXIsIHRvLCBsb29rQmFja3dhcmQsIGxvb2tGb3J3YXJkLCBnZXRWYWx1ZSkge1xuICAgICAgICAgICAgdmFyIGRpc3RhbmNlO1xuXG4gICAgICAgICAgICAvLyBGb3Igc2xpZGVycyB3aXRoIG11bHRpcGxlIGhhbmRsZXMsIGxpbWl0IG1vdmVtZW50IHRvIHRoZSBvdGhlciBoYW5kbGUuXG4gICAgICAgICAgICAvLyBBcHBseSB0aGUgbWFyZ2luIG9wdGlvbiBieSBhZGRpbmcgaXQgdG8gdGhlIGhhbmRsZSBwb3NpdGlvbnMuXG4gICAgICAgICAgICBpZiAoc2NvcGVfSGFuZGxlcy5sZW5ndGggPiAxICYmICFvcHRpb25zLmV2ZW50cy51bmNvbnN0cmFpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxvb2tCYWNrd2FyZCAmJiBoYW5kbGVOdW1iZXIgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gc2NvcGVfU3BlY3RydW0uZ2V0QWJzb2x1dGVEaXN0YW5jZShyZWZlcmVuY2VbaGFuZGxlTnVtYmVyIC0gMV0sIG9wdGlvbnMubWFyZ2luLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgdG8gPSBNYXRoLm1heCh0bywgZGlzdGFuY2UpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChsb29rRm9yd2FyZCAmJiBoYW5kbGVOdW1iZXIgPCBzY29wZV9IYW5kbGVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBzY29wZV9TcGVjdHJ1bS5nZXRBYnNvbHV0ZURpc3RhbmNlKHJlZmVyZW5jZVtoYW5kbGVOdW1iZXIgKyAxXSwgb3B0aW9ucy5tYXJnaW4sIDEpO1xuICAgICAgICAgICAgICAgICAgICB0byA9IE1hdGgubWluKHRvLCBkaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBUaGUgbGltaXQgb3B0aW9uIGhhcyB0aGUgb3Bwb3NpdGUgZWZmZWN0LCBsaW1pdGluZyBoYW5kbGVzIHRvIGFcbiAgICAgICAgICAgIC8vIG1heGltdW0gZGlzdGFuY2UgZnJvbSBhbm90aGVyLiBMaW1pdCBtdXN0IGJlID4gMCwgYXMgb3RoZXJ3aXNlXG4gICAgICAgICAgICAvLyBoYW5kbGVzIHdvdWxkIGJlIHVubW92YWJsZS5cbiAgICAgICAgICAgIGlmIChzY29wZV9IYW5kbGVzLmxlbmd0aCA+IDEgJiYgb3B0aW9ucy5saW1pdCkge1xuICAgICAgICAgICAgICAgIGlmIChsb29rQmFja3dhcmQgJiYgaGFuZGxlTnVtYmVyID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IHNjb3BlX1NwZWN0cnVtLmdldEFic29sdXRlRGlzdGFuY2UocmVmZXJlbmNlW2hhbmRsZU51bWJlciAtIDFdLCBvcHRpb25zLmxpbWl0LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgdG8gPSBNYXRoLm1pbih0bywgZGlzdGFuY2UpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChsb29rRm9yd2FyZCAmJiBoYW5kbGVOdW1iZXIgPCBzY29wZV9IYW5kbGVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBzY29wZV9TcGVjdHJ1bS5nZXRBYnNvbHV0ZURpc3RhbmNlKHJlZmVyZW5jZVtoYW5kbGVOdW1iZXIgKyAxXSwgb3B0aW9ucy5saW1pdCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHRvID0gTWF0aC5tYXgodG8sIGRpc3RhbmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFRoZSBwYWRkaW5nIG9wdGlvbiBrZWVwcyB0aGUgaGFuZGxlcyBhIGNlcnRhaW4gZGlzdGFuY2UgZnJvbSB0aGVcbiAgICAgICAgICAgIC8vIGVkZ2VzIG9mIHRoZSBzbGlkZXIuIFBhZGRpbmcgbXVzdCBiZSA+IDAuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5wYWRkaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhbmRsZU51bWJlciA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IHNjb3BlX1NwZWN0cnVtLmdldEFic29sdXRlRGlzdGFuY2UoMCwgb3B0aW9ucy5wYWRkaW5nWzBdLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgdG8gPSBNYXRoLm1heCh0bywgZGlzdGFuY2UpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChoYW5kbGVOdW1iZXIgPT09IHNjb3BlX0hhbmRsZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IHNjb3BlX1NwZWN0cnVtLmdldEFic29sdXRlRGlzdGFuY2UoMTAwLCBvcHRpb25zLnBhZGRpbmdbMV0sIDEpO1xuICAgICAgICAgICAgICAgICAgICB0byA9IE1hdGgubWluKHRvLCBkaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0byA9IHNjb3BlX1NwZWN0cnVtLmdldFN0ZXAodG8pO1xuXG4gICAgICAgICAgICAvLyBMaW1pdCBwZXJjZW50YWdlIHRvIHRoZSAwIC0gMTAwIHJhbmdlXG4gICAgICAgICAgICB0byA9IGxpbWl0KHRvKTtcblxuICAgICAgICAgICAgLy8gUmV0dXJuIGZhbHNlIGlmIGhhbmRsZSBjYW4ndCBtb3ZlXG4gICAgICAgICAgICBpZiAodG8gPT09IHJlZmVyZW5jZVtoYW5kbGVOdW1iZXJdICYmICFnZXRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRvO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXNlcyBzbGlkZXIgb3JpZW50YXRpb24gdG8gY3JlYXRlIENTUyBydWxlcy4gYSA9IGJhc2UgdmFsdWU7XG4gICAgICAgIGZ1bmN0aW9uIGluUnVsZU9yZGVyKHYsIGEpIHtcbiAgICAgICAgICAgIHZhciBvID0gb3B0aW9ucy5vcnQ7XG4gICAgICAgICAgICByZXR1cm4gKG8gPyBhIDogdikgKyBcIiwgXCIgKyAobyA/IHYgOiBhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1vdmVzIGhhbmRsZShzKSBieSBhIHBlcmNlbnRhZ2VcbiAgICAgICAgLy8gKGJvb2wsICUgdG8gbW92ZSwgWyUgd2hlcmUgaGFuZGxlIHN0YXJ0ZWQsIC4uLl0sIFtpbmRleCBpbiBzY29wZV9IYW5kbGVzLCAuLi5dKVxuICAgICAgICBmdW5jdGlvbiBtb3ZlSGFuZGxlcyh1cHdhcmQsIHByb3Bvc2FsLCBsb2NhdGlvbnMsIGhhbmRsZU51bWJlcnMpIHtcbiAgICAgICAgICAgIHZhciBwcm9wb3NhbHMgPSBsb2NhdGlvbnMuc2xpY2UoKTtcblxuICAgICAgICAgICAgdmFyIGIgPSBbIXVwd2FyZCwgdXB3YXJkXTtcbiAgICAgICAgICAgIHZhciBmID0gW3Vwd2FyZCwgIXVwd2FyZF07XG5cbiAgICAgICAgICAgIC8vIENvcHkgaGFuZGxlTnVtYmVycyBzbyB3ZSBkb24ndCBjaGFuZ2UgdGhlIGRhdGFzZXRcbiAgICAgICAgICAgIGhhbmRsZU51bWJlcnMgPSBoYW5kbGVOdW1iZXJzLnNsaWNlKCk7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIHRvIHNlZSB3aGljaCBoYW5kbGUgaXMgJ2xlYWRpbmcnLlxuICAgICAgICAgICAgLy8gSWYgdGhhdCBvbmUgY2FuJ3QgbW92ZSB0aGUgc2Vjb25kIGNhbid0IGVpdGhlci5cbiAgICAgICAgICAgIGlmICh1cHdhcmQpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVOdW1iZXJzLnJldmVyc2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU3RlcCAxOiBnZXQgdGhlIG1heGltdW0gcGVyY2VudGFnZSB0aGF0IGFueSBvZiB0aGUgaGFuZGxlcyBjYW4gbW92ZVxuICAgICAgICAgICAgaWYgKGhhbmRsZU51bWJlcnMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGhhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbihoYW5kbGVOdW1iZXIsIG8pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRvID0gY2hlY2tIYW5kbGVQb3NpdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3Bvc2FscyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZU51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3Bvc2Fsc1toYW5kbGVOdW1iZXJdICsgcHJvcG9zYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBiW29dLFxuICAgICAgICAgICAgICAgICAgICAgICAgZltvXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gU3RvcCBpZiBvbmUgb2YgdGhlIGhhbmRsZXMgY2FuJ3QgbW92ZS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcG9zYWwgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcG9zYWwgPSB0byAtIHByb3Bvc2Fsc1toYW5kbGVOdW1iZXJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcG9zYWxzW2hhbmRsZU51bWJlcl0gPSB0bztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZiB1c2luZyBvbmUgaGFuZGxlLCBjaGVjayBiYWNrd2FyZCBBTkQgZm9yd2FyZFxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYiA9IGYgPSBbdHJ1ZV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAvLyBTdGVwIDI6IFRyeSB0byBzZXQgdGhlIGhhbmRsZXMgd2l0aCB0aGUgZm91bmQgcGVyY2VudGFnZVxuICAgICAgICAgICAgaGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZU51bWJlciwgbykge1xuICAgICAgICAgICAgICAgIHN0YXRlID0gc2V0SGFuZGxlKGhhbmRsZU51bWJlciwgbG9jYXRpb25zW2hhbmRsZU51bWJlcl0gKyBwcm9wb3NhbCwgYltvXSwgZltvXSkgfHwgc3RhdGU7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gU3RlcCAzOiBJZiBhIGhhbmRsZSBtb3ZlZCwgZmlyZSBldmVudHNcbiAgICAgICAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICAgICAgICAgIGhhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbihoYW5kbGVOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwidXBkYXRlXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgIGZpcmVFdmVudChcInNsaWRlXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUYWtlcyBhIGJhc2UgdmFsdWUgYW5kIGFuIG9mZnNldC4gVGhpcyBvZmZzZXQgaXMgdXNlZCBmb3IgdGhlIGNvbm5lY3QgYmFyIHNpemUuXG4gICAgICAgIC8vIEluIHRoZSBpbml0aWFsIGRlc2lnbiBmb3IgdGhpcyBmZWF0dXJlLCB0aGUgb3JpZ2luIGVsZW1lbnQgd2FzIDElIHdpZGUuXG4gICAgICAgIC8vIFVuZm9ydHVuYXRlbHksIGEgcm91bmRpbmcgYnVnIGluIENocm9tZSBtYWtlcyBpdCBpbXBvc3NpYmxlIHRvIGltcGxlbWVudCB0aGlzIGZlYXR1cmVcbiAgICAgICAgLy8gaW4gdGhpcyBtYW5uZXI6IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTc5ODIyM1xuICAgICAgICBmdW5jdGlvbiB0cmFuc2Zvcm1EaXJlY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuZGlyID8gMTAwIC0gYSAtIGIgOiBhO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlcyBzY29wZV9Mb2NhdGlvbnMgYW5kIHNjb3BlX1ZhbHVlcywgdXBkYXRlcyB2aXN1YWwgc3RhdGVcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlSGFuZGxlUG9zaXRpb24oaGFuZGxlTnVtYmVyLCB0bykge1xuICAgICAgICAgICAgLy8gVXBkYXRlIGxvY2F0aW9ucy5cbiAgICAgICAgICAgIHNjb3BlX0xvY2F0aW9uc1toYW5kbGVOdW1iZXJdID0gdG87XG5cbiAgICAgICAgICAgIC8vIENvbnZlcnQgdGhlIHZhbHVlIHRvIHRoZSBzbGlkZXIgc3RlcHBpbmcvcmFuZ2UuXG4gICAgICAgICAgICBzY29wZV9WYWx1ZXNbaGFuZGxlTnVtYmVyXSA9IHNjb3BlX1NwZWN0cnVtLmZyb21TdGVwcGluZyh0byk7XG5cbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGlvbiA9IDEwICogKHRyYW5zZm9ybURpcmVjdGlvbih0bywgMCkgLSBzY29wZV9EaXJPZmZzZXQpO1xuICAgICAgICAgICAgdmFyIHRyYW5zbGF0ZVJ1bGUgPSBcInRyYW5zbGF0ZShcIiArIGluUnVsZU9yZGVyKHRyYW5zbGF0aW9uICsgXCIlXCIsIFwiMFwiKSArIFwiKVwiO1xuXG4gICAgICAgICAgICBzY29wZV9IYW5kbGVzW2hhbmRsZU51bWJlcl0uc3R5bGVbb3B0aW9ucy50cmFuc2Zvcm1SdWxlXSA9IHRyYW5zbGF0ZVJ1bGU7XG5cbiAgICAgICAgICAgIHVwZGF0ZUNvbm5lY3QoaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgIHVwZGF0ZUNvbm5lY3QoaGFuZGxlTnVtYmVyICsgMSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGVzIGJlZm9yZSB0aGUgc2xpZGVyIG1pZGRsZSBhcmUgc3RhY2tlZCBsYXRlciA9IGhpZ2hlcixcbiAgICAgICAgLy8gSGFuZGxlcyBhZnRlciB0aGUgbWlkZGxlIGxhdGVyIGlzIGxvd2VyXG4gICAgICAgIC8vIFtbN10gWzhdIC4uLi4uLi4uLi4gfCAuLi4uLi4uLi4uIFs1XSBbNF1cbiAgICAgICAgZnVuY3Rpb24gc2V0WmluZGV4KCkge1xuICAgICAgICAgICAgc2NvcGVfSGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZU51bWJlcikge1xuICAgICAgICAgICAgICAgIHZhciBkaXIgPSBzY29wZV9Mb2NhdGlvbnNbaGFuZGxlTnVtYmVyXSA+IDUwID8gLTEgOiAxO1xuICAgICAgICAgICAgICAgIHZhciB6SW5kZXggPSAzICsgKHNjb3BlX0hhbmRsZXMubGVuZ3RoICsgZGlyICogaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgICAgICBzY29wZV9IYW5kbGVzW2hhbmRsZU51bWJlcl0uc3R5bGUuekluZGV4ID0gekluZGV4O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUZXN0IHN1Z2dlc3RlZCB2YWx1ZXMgYW5kIGFwcGx5IG1hcmdpbiwgc3RlcC5cbiAgICAgICAgZnVuY3Rpb24gc2V0SGFuZGxlKGhhbmRsZU51bWJlciwgdG8sIGxvb2tCYWNrd2FyZCwgbG9va0ZvcndhcmQpIHtcbiAgICAgICAgICAgIHRvID0gY2hlY2tIYW5kbGVQb3NpdGlvbihzY29wZV9Mb2NhdGlvbnMsIGhhbmRsZU51bWJlciwgdG8sIGxvb2tCYWNrd2FyZCwgbG9va0ZvcndhcmQsIGZhbHNlKTtcblxuICAgICAgICAgICAgaWYgKHRvID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdXBkYXRlSGFuZGxlUG9zaXRpb24oaGFuZGxlTnVtYmVyLCB0byk7XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlcyBzdHlsZSBhdHRyaWJ1dGUgZm9yIGNvbm5lY3Qgbm9kZXNcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlQ29ubmVjdChpbmRleCkge1xuICAgICAgICAgICAgLy8gU2tpcCBjb25uZWN0cyBzZXQgdG8gZmFsc2VcbiAgICAgICAgICAgIGlmICghc2NvcGVfQ29ubmVjdHNbaW5kZXhdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgbCA9IDA7XG4gICAgICAgICAgICB2YXIgaCA9IDEwMDtcblxuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgbCA9IHNjb3BlX0xvY2F0aW9uc1tpbmRleCAtIDFdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IHNjb3BlX0Nvbm5lY3RzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBoID0gc2NvcGVfTG9jYXRpb25zW2luZGV4XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gV2UgdXNlIHR3byBydWxlczpcbiAgICAgICAgICAgIC8vICd0cmFuc2xhdGUnIHRvIGNoYW5nZSB0aGUgbGVmdC90b3Agb2Zmc2V0O1xuICAgICAgICAgICAgLy8gJ3NjYWxlJyB0byBjaGFuZ2UgdGhlIHdpZHRoIG9mIHRoZSBlbGVtZW50O1xuICAgICAgICAgICAgLy8gQXMgdGhlIGVsZW1lbnQgaGFzIGEgd2lkdGggb2YgMTAwJSwgYSB0cmFuc2xhdGlvbiBvZiAxMDAlIGlzIGVxdWFsIHRvIDEwMCUgb2YgdGhlIHBhcmVudCAoLm5vVWktYmFzZSlcbiAgICAgICAgICAgIHZhciBjb25uZWN0V2lkdGggPSBoIC0gbDtcbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGVSdWxlID0gXCJ0cmFuc2xhdGUoXCIgKyBpblJ1bGVPcmRlcih0cmFuc2Zvcm1EaXJlY3Rpb24obCwgY29ubmVjdFdpZHRoKSArIFwiJVwiLCBcIjBcIikgKyBcIilcIjtcbiAgICAgICAgICAgIHZhciBzY2FsZVJ1bGUgPSBcInNjYWxlKFwiICsgaW5SdWxlT3JkZXIoY29ubmVjdFdpZHRoIC8gMTAwLCBcIjFcIikgKyBcIilcIjtcblxuICAgICAgICAgICAgc2NvcGVfQ29ubmVjdHNbaW5kZXhdLnN0eWxlW29wdGlvbnMudHJhbnNmb3JtUnVsZV0gPSB0cmFuc2xhdGVSdWxlICsgXCIgXCIgKyBzY2FsZVJ1bGU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQYXJzZXMgdmFsdWUgcGFzc2VkIHRvIC5zZXQgbWV0aG9kLiBSZXR1cm5zIGN1cnJlbnQgdmFsdWUgaWYgbm90IHBhcnNlLWFibGUuXG4gICAgICAgIGZ1bmN0aW9uIHJlc29sdmVUb1ZhbHVlKHRvLCBoYW5kbGVOdW1iZXIpIHtcbiAgICAgICAgICAgIC8vIFNldHRpbmcgd2l0aCBudWxsIGluZGljYXRlcyBhbiAnaWdub3JlJy5cbiAgICAgICAgICAgIC8vIElucHV0dGluZyAnZmFsc2UnIGlzIGludmFsaWQuXG4gICAgICAgICAgICBpZiAodG8gPT09IG51bGwgfHwgdG8gPT09IGZhbHNlIHx8IHRvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NvcGVfTG9jYXRpb25zW2hhbmRsZU51bWJlcl07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIGEgZm9ybWF0dGVkIG51bWJlciB3YXMgcGFzc2VkLCBhdHRlbXB0IHRvIGRlY29kZSBpdC5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdG8gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICB0byA9IFN0cmluZyh0byk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRvID0gb3B0aW9ucy5mb3JtYXQuZnJvbSh0byk7XG4gICAgICAgICAgICB0byA9IHNjb3BlX1NwZWN0cnVtLnRvU3RlcHBpbmcodG8pO1xuXG4gICAgICAgICAgICAvLyBJZiBwYXJzaW5nIHRoZSBudW1iZXIgZmFpbGVkLCB1c2UgdGhlIGN1cnJlbnQgdmFsdWUuXG4gICAgICAgICAgICBpZiAodG8gPT09IGZhbHNlIHx8IGlzTmFOKHRvKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzY29wZV9Mb2NhdGlvbnNbaGFuZGxlTnVtYmVyXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRvO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IHRoZSBzbGlkZXIgdmFsdWUuXG4gICAgICAgIGZ1bmN0aW9uIHZhbHVlU2V0KGlucHV0LCBmaXJlU2V0RXZlbnQpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBhc0FycmF5KGlucHV0KTtcbiAgICAgICAgICAgIHZhciBpc0luaXQgPSBzY29wZV9Mb2NhdGlvbnNbMF0gPT09IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgLy8gRXZlbnQgZmlyZXMgYnkgZGVmYXVsdFxuICAgICAgICAgICAgZmlyZVNldEV2ZW50ID0gZmlyZVNldEV2ZW50ID09PSB1bmRlZmluZWQgPyB0cnVlIDogISFmaXJlU2V0RXZlbnQ7XG5cbiAgICAgICAgICAgIC8vIEFuaW1hdGlvbiBpcyBvcHRpb25hbC5cbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgaW5pdGlhbCB2YWx1ZXMgd2VyZSBzZXQgYmVmb3JlIHVzaW5nIGFuaW1hdGVkIHBsYWNlbWVudC5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmFuaW1hdGUgJiYgIWlzSW5pdCkge1xuICAgICAgICAgICAgICAgIGFkZENsYXNzRm9yKHNjb3BlX1RhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLnRhcCwgb3B0aW9ucy5hbmltYXRpb25EdXJhdGlvbik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEZpcnN0IHBhc3MsIHdpdGhvdXQgbG9va0FoZWFkIGJ1dCB3aXRoIGxvb2tCYWNrd2FyZC4gVmFsdWVzIGFyZSBzZXQgZnJvbSBsZWZ0IHRvIHJpZ2h0LlxuICAgICAgICAgICAgc2NvcGVfSGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZU51bWJlcikge1xuICAgICAgICAgICAgICAgIHNldEhhbmRsZShoYW5kbGVOdW1iZXIsIHJlc29sdmVUb1ZhbHVlKHZhbHVlc1toYW5kbGVOdW1iZXJdLCBoYW5kbGVOdW1iZXIpLCB0cnVlLCBmYWxzZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdmFyIGkgPSBzY29wZV9IYW5kbGVOdW1iZXJzLmxlbmd0aCA9PT0gMSA/IDAgOiAxO1xuXG4gICAgICAgICAgICAvLyBTZWNvbmRhcnkgcGFzc2VzLiBOb3cgdGhhdCBhbGwgYmFzZSB2YWx1ZXMgYXJlIHNldCwgYXBwbHkgY29uc3RyYWludHMuXG4gICAgICAgICAgICAvLyBJdGVyYXRlIGFsbCBoYW5kbGVzIHRvIGVuc3VyZSBjb25zdHJhaW50cyBhcmUgYXBwbGllZCBmb3IgdGhlIGVudGlyZSBzbGlkZXIgKElzc3VlICMxMDA5KVxuICAgICAgICAgICAgZm9yICg7IGkgPCBzY29wZV9IYW5kbGVOdW1iZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgc2NvcGVfSGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZU51bWJlcikge1xuICAgICAgICAgICAgICAgICAgICBzZXRIYW5kbGUoaGFuZGxlTnVtYmVyLCBzY29wZV9Mb2NhdGlvbnNbaGFuZGxlTnVtYmVyXSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNldFppbmRleCgpO1xuXG4gICAgICAgICAgICBzY29wZV9IYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24oaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwidXBkYXRlXCIsIGhhbmRsZU51bWJlcik7XG5cbiAgICAgICAgICAgICAgICAvLyBGaXJlIHRoZSBldmVudCBvbmx5IGZvciBoYW5kbGVzIHRoYXQgcmVjZWl2ZWQgYSBuZXcgdmFsdWUsIGFzIHBlciAjNTc5XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlc1toYW5kbGVOdW1iZXJdICE9PSBudWxsICYmIGZpcmVTZXRFdmVudCkge1xuICAgICAgICAgICAgICAgICAgICBmaXJlRXZlbnQoXCJzZXRcIiwgaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlc2V0IHNsaWRlciB0byBpbml0aWFsIHZhbHVlc1xuICAgICAgICBmdW5jdGlvbiB2YWx1ZVJlc2V0KGZpcmVTZXRFdmVudCkge1xuICAgICAgICAgICAgdmFsdWVTZXQob3B0aW9ucy5zdGFydCwgZmlyZVNldEV2ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCB2YWx1ZSBmb3IgYSBzaW5nbGUgaGFuZGxlXG4gICAgICAgIGZ1bmN0aW9uIHZhbHVlU2V0SGFuZGxlKGhhbmRsZU51bWJlciwgdmFsdWUsIGZpcmVTZXRFdmVudCkge1xuICAgICAgICAgICAgLy8gRW5zdXJlIG51bWVyaWMgaW5wdXRcbiAgICAgICAgICAgIGhhbmRsZU51bWJlciA9IE51bWJlcihoYW5kbGVOdW1iZXIpO1xuXG4gICAgICAgICAgICBpZiAoIShoYW5kbGVOdW1iZXIgPj0gMCAmJiBoYW5kbGVOdW1iZXIgPCBzY29wZV9IYW5kbGVOdW1iZXJzLmxlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6IGludmFsaWQgaGFuZGxlIG51bWJlciwgZ290OiBcIiArIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIExvb2sgYm90aCBiYWNrd2FyZCBhbmQgZm9yd2FyZCwgc2luY2Ugd2UgZG9uJ3Qgd2FudCB0aGlzIGhhbmRsZSB0byBcInB1c2hcIiBvdGhlciBoYW5kbGVzICgjOTYwKTtcbiAgICAgICAgICAgIHNldEhhbmRsZShoYW5kbGVOdW1iZXIsIHJlc29sdmVUb1ZhbHVlKHZhbHVlLCBoYW5kbGVOdW1iZXIpLCB0cnVlLCB0cnVlKTtcblxuICAgICAgICAgICAgZmlyZUV2ZW50KFwidXBkYXRlXCIsIGhhbmRsZU51bWJlcik7XG5cbiAgICAgICAgICAgIGlmIChmaXJlU2V0RXZlbnQpIHtcbiAgICAgICAgICAgICAgICBmaXJlRXZlbnQoXCJzZXRcIiwgaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCB0aGUgc2xpZGVyIHZhbHVlLlxuICAgICAgICBmdW5jdGlvbiB2YWx1ZUdldCgpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBzY29wZV9WYWx1ZXMubWFwKG9wdGlvbnMuZm9ybWF0LnRvKTtcblxuICAgICAgICAgICAgLy8gSWYgb25seSBvbmUgaGFuZGxlIGlzIHVzZWQsIHJldHVybiBhIHNpbmdsZSB2YWx1ZS5cbiAgICAgICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlc1swXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbW92ZXMgY2xhc3NlcyBmcm9tIHRoZSByb290IGFuZCBlbXB0aWVzIGl0LlxuICAgICAgICBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIG9wdGlvbnMuY3NzQ2xhc3Nlcykge1xuICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucy5jc3NDbGFzc2VzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKHNjb3BlX1RhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzW2tleV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB3aGlsZSAoc2NvcGVfVGFyZ2V0LmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICBzY29wZV9UYXJnZXQucmVtb3ZlQ2hpbGQoc2NvcGVfVGFyZ2V0LmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkZWxldGUgc2NvcGVfVGFyZ2V0Lm5vVWlTbGlkZXI7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXROZXh0U3RlcHNGb3JIYW5kbGUoaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICB2YXIgbG9jYXRpb24gPSBzY29wZV9Mb2NhdGlvbnNbaGFuZGxlTnVtYmVyXTtcbiAgICAgICAgICAgIHZhciBuZWFyYnlTdGVwcyA9IHNjb3BlX1NwZWN0cnVtLmdldE5lYXJieVN0ZXBzKGxvY2F0aW9uKTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHNjb3BlX1ZhbHVlc1toYW5kbGVOdW1iZXJdO1xuICAgICAgICAgICAgdmFyIGluY3JlbWVudCA9IG5lYXJieVN0ZXBzLnRoaXNTdGVwLnN0ZXA7XG4gICAgICAgICAgICB2YXIgZGVjcmVtZW50ID0gbnVsbDtcblxuICAgICAgICAgICAgLy8gSWYgc25hcHBlZCwgZGlyZWN0bHkgdXNlIGRlZmluZWQgc3RlcCB2YWx1ZVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc25hcCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlIC0gbmVhcmJ5U3RlcHMuc3RlcEJlZm9yZS5zdGFydFZhbHVlIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIG5lYXJieVN0ZXBzLnN0ZXBBZnRlci5zdGFydFZhbHVlIC0gdmFsdWUgfHwgbnVsbFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSBuZXh0IHZhbHVlIGluIHRoaXMgc3RlcCBtb3ZlcyBpbnRvIHRoZSBuZXh0IHN0ZXAsXG4gICAgICAgICAgICAvLyB0aGUgaW5jcmVtZW50IGlzIHRoZSBzdGFydCBvZiB0aGUgbmV4dCBzdGVwIC0gdGhlIGN1cnJlbnQgdmFsdWVcbiAgICAgICAgICAgIGlmIChpbmNyZW1lbnQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICsgaW5jcmVtZW50ID4gbmVhcmJ5U3RlcHMuc3RlcEFmdGVyLnN0YXJ0VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5jcmVtZW50ID0gbmVhcmJ5U3RlcHMuc3RlcEFmdGVyLnN0YXJ0VmFsdWUgLSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSB2YWx1ZSBpcyBiZXlvbmQgdGhlIHN0YXJ0aW5nIHBvaW50XG4gICAgICAgICAgICBpZiAodmFsdWUgPiBuZWFyYnlTdGVwcy50aGlzU3RlcC5zdGFydFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgZGVjcmVtZW50ID0gbmVhcmJ5U3RlcHMudGhpc1N0ZXAuc3RlcDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobmVhcmJ5U3RlcHMuc3RlcEJlZm9yZS5zdGVwID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGRlY3JlbWVudCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZiBhIGhhbmRsZSBpcyBhdCB0aGUgc3RhcnQgb2YgYSBzdGVwLCBpdCBhbHdheXMgc3RlcHMgYmFjayBpbnRvIHRoZSBwcmV2aW91cyBzdGVwIGZpcnN0XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkZWNyZW1lbnQgPSB2YWx1ZSAtIG5lYXJieVN0ZXBzLnN0ZXBCZWZvcmUuaGlnaGVzdFN0ZXA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE5vdywgaWYgYXQgdGhlIHNsaWRlciBlZGdlcywgdGhlcmUgaXMgbm8gaW4vZGVjcmVtZW50XG4gICAgICAgICAgICBpZiAobG9jYXRpb24gPT09IDEwMCkge1xuICAgICAgICAgICAgICAgIGluY3JlbWVudCA9IG51bGw7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxvY2F0aW9uID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZGVjcmVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQXMgcGVyICMzOTEsIHRoZSBjb21wYXJpc29uIGZvciB0aGUgZGVjcmVtZW50IHN0ZXAgY2FuIGhhdmUgc29tZSByb3VuZGluZyBpc3N1ZXMuXG4gICAgICAgICAgICB2YXIgc3RlcERlY2ltYWxzID0gc2NvcGVfU3BlY3RydW0uY291bnRTdGVwRGVjaW1hbHMoKTtcblxuICAgICAgICAgICAgLy8gUm91bmQgcGVyICMzOTFcbiAgICAgICAgICAgIGlmIChpbmNyZW1lbnQgIT09IG51bGwgJiYgaW5jcmVtZW50ICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGluY3JlbWVudCA9IE51bWJlcihpbmNyZW1lbnQudG9GaXhlZChzdGVwRGVjaW1hbHMpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRlY3JlbWVudCAhPT0gbnVsbCAmJiBkZWNyZW1lbnQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgZGVjcmVtZW50ID0gTnVtYmVyKGRlY3JlbWVudC50b0ZpeGVkKHN0ZXBEZWNpbWFscykpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gW2RlY3JlbWVudCwgaW5jcmVtZW50XTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCB0aGUgY3VycmVudCBzdGVwIHNpemUgZm9yIHRoZSBzbGlkZXIuXG4gICAgICAgIGZ1bmN0aW9uIGdldE5leHRTdGVwcygpIHtcbiAgICAgICAgICAgIHJldHVybiBzY29wZV9IYW5kbGVOdW1iZXJzLm1hcChnZXROZXh0U3RlcHNGb3JIYW5kbGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlYWJsZTogbWFyZ2luLCBsaW1pdCwgcGFkZGluZywgc3RlcCwgcmFuZ2UsIGFuaW1hdGUsIHNuYXBcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlT3B0aW9ucyhvcHRpb25zVG9VcGRhdGUsIGZpcmVTZXRFdmVudCkge1xuICAgICAgICAgICAgLy8gU3BlY3RydW0gaXMgY3JlYXRlZCB1c2luZyB0aGUgcmFuZ2UsIHNuYXAsIGRpcmVjdGlvbiBhbmQgc3RlcCBvcHRpb25zLlxuICAgICAgICAgICAgLy8gJ3NuYXAnIGFuZCAnc3RlcCcgY2FuIGJlIHVwZGF0ZWQuXG4gICAgICAgICAgICAvLyBJZiAnc25hcCcgYW5kICdzdGVwJyBhcmUgbm90IHBhc3NlZCwgdGhleSBzaG91bGQgcmVtYWluIHVuY2hhbmdlZC5cbiAgICAgICAgICAgIHZhciB2ID0gdmFsdWVHZXQoKTtcblxuICAgICAgICAgICAgdmFyIHVwZGF0ZUFibGUgPSBbXG4gICAgICAgICAgICAgICAgXCJtYXJnaW5cIixcbiAgICAgICAgICAgICAgICBcImxpbWl0XCIsXG4gICAgICAgICAgICAgICAgXCJwYWRkaW5nXCIsXG4gICAgICAgICAgICAgICAgXCJyYW5nZVwiLFxuICAgICAgICAgICAgICAgIFwiYW5pbWF0ZVwiLFxuICAgICAgICAgICAgICAgIFwic25hcFwiLFxuICAgICAgICAgICAgICAgIFwic3RlcFwiLFxuICAgICAgICAgICAgICAgIFwiZm9ybWF0XCIsXG4gICAgICAgICAgICAgICAgXCJwaXBzXCIsXG4gICAgICAgICAgICAgICAgXCJ0b29sdGlwc1wiXG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICAvLyBPbmx5IGNoYW5nZSBvcHRpb25zIHRoYXQgd2UncmUgYWN0dWFsbHkgcGFzc2VkIHRvIHVwZGF0ZS5cbiAgICAgICAgICAgIHVwZGF0ZUFibGUuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHVuZGVmaW5lZC4gbnVsbCByZW1vdmVzIHRoZSB2YWx1ZS5cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uc1RvVXBkYXRlW25hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxPcHRpb25zW25hbWVdID0gb3B0aW9uc1RvVXBkYXRlW25hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgbmV3T3B0aW9ucyA9IHRlc3RPcHRpb25zKG9yaWdpbmFsT3B0aW9ucyk7XG5cbiAgICAgICAgICAgIC8vIExvYWQgbmV3IG9wdGlvbnMgaW50byB0aGUgc2xpZGVyIHN0YXRlXG4gICAgICAgICAgICB1cGRhdGVBYmxlLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zVG9VcGRhdGVbbmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zW25hbWVdID0gbmV3T3B0aW9uc1tuYW1lXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc2NvcGVfU3BlY3RydW0gPSBuZXdPcHRpb25zLnNwZWN0cnVtO1xuXG4gICAgICAgICAgICAvLyBMaW1pdCwgbWFyZ2luIGFuZCBwYWRkaW5nIGRlcGVuZCBvbiB0aGUgc3BlY3RydW0gYnV0IGFyZSBzdG9yZWQgb3V0c2lkZSBvZiBpdC4gKCM2NzcpXG4gICAgICAgICAgICBvcHRpb25zLm1hcmdpbiA9IG5ld09wdGlvbnMubWFyZ2luO1xuICAgICAgICAgICAgb3B0aW9ucy5saW1pdCA9IG5ld09wdGlvbnMubGltaXQ7XG4gICAgICAgICAgICBvcHRpb25zLnBhZGRpbmcgPSBuZXdPcHRpb25zLnBhZGRpbmc7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBwaXBzLCByZW1vdmVzIGV4aXN0aW5nLlxuICAgICAgICAgICAgaWYgKG9wdGlvbnMucGlwcykge1xuICAgICAgICAgICAgICAgIHBpcHMob3B0aW9ucy5waXBzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlUGlwcygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBVcGRhdGUgdG9vbHRpcHMsIHJlbW92ZXMgZXhpc3RpbmcuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy50b29sdGlwcykge1xuICAgICAgICAgICAgICAgIHRvb2x0aXBzKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbW92ZVRvb2x0aXBzKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEludmFsaWRhdGUgdGhlIGN1cnJlbnQgcG9zaXRpb25pbmcgc28gdmFsdWVTZXQgZm9yY2VzIGFuIHVwZGF0ZS5cbiAgICAgICAgICAgIHNjb3BlX0xvY2F0aW9ucyA9IFtdO1xuICAgICAgICAgICAgdmFsdWVTZXQob3B0aW9uc1RvVXBkYXRlLnN0YXJ0IHx8IHYsIGZpcmVTZXRFdmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbml0aWFsaXphdGlvbiBzdGVwc1xuICAgICAgICBmdW5jdGlvbiBzZXR1cFNsaWRlcigpIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgYmFzZSBlbGVtZW50LCBpbml0aWFsaXplIEhUTUwgYW5kIHNldCBjbGFzc2VzLlxuICAgICAgICAgICAgLy8gQWRkIGhhbmRsZXMgYW5kIGNvbm5lY3QgZWxlbWVudHMuXG4gICAgICAgICAgICBzY29wZV9CYXNlID0gYWRkU2xpZGVyKHNjb3BlX1RhcmdldCk7XG5cbiAgICAgICAgICAgIGFkZEVsZW1lbnRzKG9wdGlvbnMuY29ubmVjdCwgc2NvcGVfQmFzZSk7XG5cbiAgICAgICAgICAgIC8vIEF0dGFjaCB1c2VyIGV2ZW50cy5cbiAgICAgICAgICAgIGJpbmRTbGlkZXJFdmVudHMob3B0aW9ucy5ldmVudHMpO1xuXG4gICAgICAgICAgICAvLyBVc2UgdGhlIHB1YmxpYyB2YWx1ZSBtZXRob2QgdG8gc2V0IHRoZSBzdGFydCB2YWx1ZXMuXG4gICAgICAgICAgICB2YWx1ZVNldChvcHRpb25zLnN0YXJ0KTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMucGlwcykge1xuICAgICAgICAgICAgICAgIHBpcHMob3B0aW9ucy5waXBzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMudG9vbHRpcHMpIHtcbiAgICAgICAgICAgICAgICB0b29sdGlwcygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhcmlhKCk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXR1cFNsaWRlcigpO1xuXG4gICAgICAgIC8vIG5vaW5zcGVjdGlvbiBKU1VudXNlZEdsb2JhbFN5bWJvbHNcbiAgICAgICAgc2NvcGVfU2VsZiA9IHtcbiAgICAgICAgICAgIGRlc3Ryb3k6IGRlc3Ryb3ksXG4gICAgICAgICAgICBzdGVwczogZ2V0TmV4dFN0ZXBzLFxuICAgICAgICAgICAgb246IGJpbmRFdmVudCxcbiAgICAgICAgICAgIG9mZjogcmVtb3ZlRXZlbnQsXG4gICAgICAgICAgICBnZXQ6IHZhbHVlR2V0LFxuICAgICAgICAgICAgc2V0OiB2YWx1ZVNldCxcbiAgICAgICAgICAgIHNldEhhbmRsZTogdmFsdWVTZXRIYW5kbGUsXG4gICAgICAgICAgICByZXNldDogdmFsdWVSZXNldCxcbiAgICAgICAgICAgIC8vIEV4cG9zZWQgZm9yIHVuaXQgdGVzdGluZywgZG9uJ3QgdXNlIHRoaXMgaW4geW91ciBhcHBsaWNhdGlvbi5cbiAgICAgICAgICAgIF9fbW92ZUhhbmRsZXM6IGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgICAgICAgICAgICBtb3ZlSGFuZGxlcyhhLCBiLCBzY29wZV9Mb2NhdGlvbnMsIGMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9wdGlvbnM6IG9yaWdpbmFsT3B0aW9ucywgLy8gSXNzdWUgIzYwMCwgIzY3OFxuICAgICAgICAgICAgdXBkYXRlT3B0aW9uczogdXBkYXRlT3B0aW9ucyxcbiAgICAgICAgICAgIHRhcmdldDogc2NvcGVfVGFyZ2V0LCAvLyBJc3N1ZSAjNTk3XG4gICAgICAgICAgICByZW1vdmVQaXBzOiByZW1vdmVQaXBzLFxuICAgICAgICAgICAgcmVtb3ZlVG9vbHRpcHM6IHJlbW92ZVRvb2x0aXBzLFxuICAgICAgICAgICAgZ2V0VG9vbHRpcHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzY29wZV9Ub29sdGlwcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRPcmlnaW5zOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NvcGVfSGFuZGxlcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwaXBzOiBwaXBzIC8vIElzc3VlICM1OTRcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gc2NvcGVfU2VsZjtcbiAgICB9XG5cbiAgICAvLyBSdW4gdGhlIHN0YW5kYXJkIGluaXRpYWxpemVyXG4gICAgZnVuY3Rpb24gaW5pdGlhbGl6ZSh0YXJnZXQsIG9yaWdpbmFsT3B0aW9ucykge1xuICAgICAgICBpZiAoIXRhcmdldCB8fCAhdGFyZ2V0Lm5vZGVOYW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6IGNyZWF0ZSByZXF1aXJlcyBhIHNpbmdsZSBlbGVtZW50LCBnb3Q6IFwiICsgdGFyZ2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRocm93IGFuIGVycm9yIGlmIHRoZSBzbGlkZXIgd2FzIGFscmVhZHkgaW5pdGlhbGl6ZWQuXG4gICAgICAgIGlmICh0YXJnZXQubm9VaVNsaWRlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiBTbGlkZXIgd2FzIGFscmVhZHkgaW5pdGlhbGl6ZWQuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGVzdCB0aGUgb3B0aW9ucyBhbmQgY3JlYXRlIHRoZSBzbGlkZXIgZW52aXJvbm1lbnQ7XG4gICAgICAgIHZhciBvcHRpb25zID0gdGVzdE9wdGlvbnMob3JpZ2luYWxPcHRpb25zLCB0YXJnZXQpO1xuICAgICAgICB2YXIgYXBpID0gc2NvcGUodGFyZ2V0LCBvcHRpb25zLCBvcmlnaW5hbE9wdGlvbnMpO1xuXG4gICAgICAgIHRhcmdldC5ub1VpU2xpZGVyID0gYXBpO1xuXG4gICAgICAgIHJldHVybiBhcGk7XG4gICAgfVxuXG4gICAgLy8gVXNlIGFuIG9iamVjdCBpbnN0ZWFkIG9mIGEgZnVuY3Rpb24gZm9yIGZ1dHVyZSBleHBhbmRhYmlsaXR5O1xuICAgIHJldHVybiB7XG4gICAgICAgIC8vIEV4cG9zZWQgZm9yIHVuaXQgdGVzdGluZywgZG9uJ3QgdXNlIHRoaXMgaW4geW91ciBhcHBsaWNhdGlvbi5cbiAgICAgICAgX19zcGVjdHJ1bTogU3BlY3RydW0sXG4gICAgICAgIHZlcnNpb246IFZFUlNJT04sXG4gICAgICAgIC8vIEEgcmVmZXJlbmNlIHRvIHRoZSBkZWZhdWx0IGNsYXNzZXMsIGFsbG93cyBnbG9iYWwgY2hhbmdlcy5cbiAgICAgICAgLy8gVXNlIHRoZSBjc3NDbGFzc2VzIG9wdGlvbiBmb3IgY2hhbmdlcyB0byBvbmUgc2xpZGVyLlxuICAgICAgICBjc3NDbGFzc2VzOiBjc3NDbGFzc2VzLFxuICAgICAgICBjcmVhdGU6IGluaXRpYWxpemVcbiAgICB9O1xufSk7XG4iLCJ2YXIgbWFwID0ge1xuXHRcIi4vYmxvY2tzL2FwYXJ0bWVudC1jYXJkL2FwYXJ0bWVudC1jYXJkLnNjc3NcIjogNixcblx0XCIuL2Jsb2Nrcy9hcGFydG1lbnQtY2FyZC9pbWFnZXMvcm9vbS0zNTAuanBnXCI6IDcsXG5cdFwiLi9ibG9ja3MvYXBhcnRtZW50LWNhcmQvaW1hZ2VzL3Jvb20tMzUyLmpwZ1wiOiA4LFxuXHRcIi4vYmxvY2tzL2FwYXJ0bWVudC1jYXJkL2ltYWdlcy9yb29tLTQ0NC5qcGdcIjogOSxcblx0XCIuL2Jsb2Nrcy9hcGFydG1lbnQtY2FyZC9pbWFnZXMvcm9vbS00NTAuanBnXCI6IDEwLFxuXHRcIi4vYmxvY2tzL2FwYXJ0bWVudC1jYXJkL2ltYWdlcy9yb29tLTY2Ni5qcGdcIjogMTEsXG5cdFwiLi9ibG9ja3MvYXBhcnRtZW50LWNhcmQvaW1hZ2VzL3Jvb20tNjc4LmpwZ1wiOiAxMixcblx0XCIuL2Jsb2Nrcy9hcGFydG1lbnQtY2FyZC9pbWFnZXMvcm9vbS03NDAuanBnXCI6IDEzLFxuXHRcIi4vYmxvY2tzL2FwYXJ0bWVudC1jYXJkL2ltYWdlcy9yb29tLTg0MC5qcGdcIjogMTQsXG5cdFwiLi9ibG9ja3MvYXBhcnRtZW50LWNhcmQvaW1hZ2VzL3Jvb20tODU2LmpwZ1wiOiAxNSxcblx0XCIuL2Jsb2Nrcy9hcGFydG1lbnQtY2FyZC9pbWFnZXMvcm9vbS04ODguanBnXCI6IDE2LFxuXHRcIi4vYmxvY2tzL2FwYXJ0bWVudC1jYXJkL2ltYWdlcy9yb29tLTk4MC5qcGdcIjogMTcsXG5cdFwiLi9ibG9ja3MvYXBhcnRtZW50LWNhcmQvaW1hZ2VzL3Jvb20tOTgyLmpwZ1wiOiAxOCxcblx0XCIuL2Jsb2Nrcy9hcGFydG1lbnQtZm9ybS9BcGFydG1lbnQtZm9ybS5qc1wiOiAxOSxcblx0XCIuL2Jsb2Nrcy9hcGFydG1lbnQtZm9ybS9hcGFydG1lbnQtZm9ybS5zY3NzXCI6IDIwLFxuXHRcIi4vYmxvY2tzL2FwYXJ0bWVudHMtZmluZGVyL2FwYXJ0bWVudHMtZmluZGVyLnNjc3NcIjogMjEsXG5cdFwiLi9ibG9ja3MvYnV0dG9uLXdpdGgtYXJyb3cvYnV0dG9uLXdpdGgtYXJyb3cuc2Nzc1wiOiAyMixcblx0XCIuL2Jsb2Nrcy9idXR0b24vYnV0dG9uLnNjc3NcIjogMjMsXG5cdFwiLi9ibG9ja3MvY2hlY2tib3gtaXRlbS9jaGVja2JveC1pdGVtLnNjc3NcIjogMjQsXG5cdFwiLi9ibG9ja3MvZGF0ZXBpY2tlci0xZi9EYXRlcGlja2VyLTFmLmpzXCI6IDEsXG5cdFwiLi9ibG9ja3MvZGF0ZXBpY2tlci0xZi9kYXRlcGlja2VyLTFmLnNjc3NcIjogMjUsXG5cdFwiLi9ibG9ja3MvZGF0ZXBpY2tlci0yZi9EYXRlcGlja2VyLTJmLmpzXCI6IDIsXG5cdFwiLi9ibG9ja3MvZGF0ZXBpY2tlci0yZi9kYXRlcGlja2VyLTJmLnNjc3NcIjogMjYsXG5cdFwiLi9ibG9ja3MvZGF0ZXBpY2tlci0yZi9kYXRlcGlja2VyLmNzc1wiOiAyNyxcblx0XCIuL2Jsb2Nrcy9kYXRlcGlja2VyLTJmL2RhdGVwaWNrZXIuanNcIjogMyxcblx0XCIuL2Jsb2Nrcy9kcm9wZG93bi9Ecm9wZG93bi5qc1wiOiAyOCxcblx0XCIuL2Jsb2Nrcy9kcm9wZG93bi9kcm9wZG93bi5zY3NzXCI6IDI5LFxuXHRcIi4vYmxvY2tzL2VtYWlsL2VtYWlsLnNjc3NcIjogMzAsXG5cdFwiLi9ibG9ja3MvZm9vdGVyLWxhcmdlL2Zvb3Rlci1sYXJnZS5zY3NzXCI6IDMxLFxuXHRcIi4vYmxvY2tzL2Zvb3Rlci1sYXJnZS9pbWFnZXMvbG9nby10b3hpbi5wbmdcIjogMzIsXG5cdFwiLi9ibG9ja3MvZm9vdGVyLW1lZGl1bS9mb290ZXItbWVkaXVtLnNjc3NcIjogMzMsXG5cdFwiLi9ibG9ja3MvZm9vdGVyLW1lZGl1bS9pbWFnZXMvZmFjZWJvb2staWNvbi5wbmdcIjogMzQsXG5cdFwiLi9ibG9ja3MvZm9vdGVyLW1lZGl1bS9pbWFnZXMvaW5zdGFncmFtLWljb24ucG5nXCI6IDM1LFxuXHRcIi4vYmxvY2tzL2Zvb3Rlci1tZWRpdW0vaW1hZ2VzL3R3ZWV0ZXItaWNvbi5wbmdcIjogMzYsXG5cdFwiLi9ibG9ja3MvZm9vdGVyLXNtYWxsL2Zvb3Rlci1zbWFsbC5zY3NzXCI6IDM3LFxuXHRcIi4vYmxvY2tzL2Zvb3Rlci1zbWFsbC9pbWFnZXMvZmFjZWJvb2staWNvbi5wbmdcIjogMzgsXG5cdFwiLi9ibG9ja3MvZm9vdGVyLXNtYWxsL2ltYWdlcy9pbnN0YWdyYW0taWNvbi5wbmdcIjogMzksXG5cdFwiLi9ibG9ja3MvZm9vdGVyLXNtYWxsL2ltYWdlcy90d2VldGVyLWljb24ucG5nXCI6IDQwLFxuXHRcIi4vYmxvY2tzL2luLWZvcm0vaW4tZm9ybS5zY3NzXCI6IDQxLFxuXHRcIi4vYmxvY2tzL2luZm8tYXBhcnRtZW50L2luZm8tYXBhcnRtZW50LnNjc3NcIjogNDIsXG5cdFwiLi9ibG9ja3MvbGlrZS1idXR0b24vbGlrZS1idXR0b24uc2Nzc1wiOiA0Myxcblx0XCIuL2Jsb2Nrcy9uYXZiYXIvTmF2YmFyLmpzXCI6IDQ0LFxuXHRcIi4vYmxvY2tzL25hdmJhci9pbWFnZXMvbG9nby10b3hpbi5wbmdcIjogNDUsXG5cdFwiLi9ibG9ja3MvbmF2YmFyL25hdmJhci5zY3NzXCI6IDQ2LFxuXHRcIi4vYmxvY2tzL3BpZS1jaGFydC1sZWdlbmQvcGllLWNoYXJ0LWxlZ2VuZC5zY3NzXCI6IDQ3LFxuXHRcIi4vYmxvY2tzL3BpZS1jaGFydC9waWUtY2hhcnQuc2Nzc1wiOiA0OCxcblx0XCIuL2Jsb2Nrcy9yYWRpby1idXR0b24vcmFkaW8tYnV0dG9uLnNjc3NcIjogNDksXG5cdFwiLi9ibG9ja3MvcmVjZWlwdC9yZWNlaXB0LnNjc3NcIjogNTAsXG5cdFwiLi9ibG9ja3MvcmVnaXN0cmF0aW9uLWZvcm0vcmVnaXN0cmF0aW9uLWZvcm0uc2Nzc1wiOiA1MSxcblx0XCIuL2Jsb2Nrcy9zbGlkZXIvU2xpZGVyLmpzXCI6IDUyLFxuXHRcIi4vYmxvY2tzL3NsaWRlci9ub3Vpc2xpZGVyLmpzXCI6IDQsXG5cdFwiLi9ibG9ja3Mvc2xpZGVyL3NsaWRlci5jc3NcIjogNTMsXG5cdFwiLi9ibG9ja3MvdG9nZ2xlLWJ1dHRvbi90b2dnbGUtYnV0dG9uLnNjc3NcIjogNTQsXG5cdFwiLi9ibG9ja3MvdmlzaXRvci1yZXZpZXcvaW1hZ2VzL2d1ZXN0LTEuanBnXCI6IDU1LFxuXHRcIi4vYmxvY2tzL3Zpc2l0b3ItcmV2aWV3L2ltYWdlcy9ndWVzdC0yLmpwZ1wiOiA1Nixcblx0XCIuL2Jsb2Nrcy92aXNpdG9yLXJldmlldy92aXNpdG9yLXJldmlldy5zY3NzXCI6IDU3LFxuXHRcIi4vZmF2aWNvbnMvYW5kcm9pZC1jaHJvbWUtMTQ0eDE0NC5wbmdcIjogNTgsXG5cdFwiLi9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLnBuZ1wiOiA1OSxcblx0XCIuL2Zhdmljb25zL2Zhdmljb24tMTZ4MTYucG5nXCI6IDYwLFxuXHRcIi4vZmF2aWNvbnMvZmF2aWNvbi0zMngzMi5wbmdcIjogNjEsXG5cdFwiLi9mYXZpY29ucy9tc3RpbGUtMTUweDE1MC5wbmdcIjogNjIsXG5cdFwiLi9mYXZpY29ucy9zYWZhcmktcGlubmVkLXRhYi5zdmdcIjogNjMsXG5cdFwiLi9mb250cy5zY3NzXCI6IDY0LFxuXHRcIi4vZm9udHMvTW9udHNlcnJhdC1Cb2xkLnN2Z1wiOiA2NSxcblx0XCIuL2ZvbnRzL01vbnRzZXJyYXQtTGlnaHQuc3ZnXCI6IDY2LFxuXHRcIi4vZm9udHMvTW9udHNlcnJhdC1NZWRpdW0uc3ZnXCI6IDY3LFxuXHRcIi4vZm9udHMvTW9udHNlcnJhdC1SZWd1bGFyLnN2Z1wiOiA2OCxcblx0XCIuL2ZvbnRzL01vbnRzZXJyYXQtU2VtaUJvbGQuc3ZnXCI6IDY5LFxuXHRcIi4vZm9udHMvUXVpY2tzYW5kLUJvbGQuc3ZnXCI6IDcwLFxuXHRcIi4vZm9udHMvUXVpY2tzYW5kLVJlZ3VsYXIuc3ZnXCI6IDcxLFxuXHRcIi4vaW5kZXguanNcIjogMCxcblx0XCIuL2luZGV4LnNjc3NcIjogNzIsXG5cdFwiLi9wYWdlcy9sYW5kaW5nLXBhZ2UvaW1hZ2VzL2xhbmRpbmdwYWdlLWJnLmpwZ1wiOiA3Myxcblx0XCIuL3BhZ2VzL2xhbmRpbmctcGFnZS9sYW5kaW5nLXBhZ2Uuc2Nzc1wiOiA3NCxcblx0XCIuL3BhZ2VzL3JlZ2lzdHJhdGlvbi9SZWdpc3RyYXRpb24uanNcIjogNzUsXG5cdFwiLi9wYWdlcy9yZWdpc3RyYXRpb24vaW1hZ2VzL3JlZ2lzdHJhdGlvbi1iZy5qcGdcIjogNzYsXG5cdFwiLi9wYWdlcy9yZWdpc3RyYXRpb24vcmVnaXN0cmF0aW9uLnNjc3NcIjogNzcsXG5cdFwiLi9wYWdlcy9yb29tLWRldGFpbHMvaW1hZ2VzL3Jvb20tODg4YS5qcGdcIjogNzgsXG5cdFwiLi9wYWdlcy9yb29tLWRldGFpbHMvaW1hZ2VzL3Jvb20tODg4Yi5qcGdcIjogNzksXG5cdFwiLi9wYWdlcy9yb29tLWRldGFpbHMvaW1hZ2VzL3Jvb20tODg4Yy5qcGdcIjogODAsXG5cdFwiLi9wYWdlcy9yb29tLWRldGFpbHMvcm9vbS1kZXRhaWxzLnNjc3NcIjogODEsXG5cdFwiLi9wYWdlcy9zZWFyY2gtcm9vbS9zZWFyY2gtcm9vbS5zY3NzXCI6IDgyLFxuXHRcIi4vcGFnZXMvdWktY2FyZHMvdWktY2FyZHMuc2Nzc1wiOiA4Myxcblx0XCIuL3BhZ2VzL3VpLWNvbG9ycy91aS1jb2xvcnMuc2Nzc1wiOiA4NCxcblx0XCIuL3BhZ2VzL3VpLWZvcm0tZWxlbWVudHMvdWktZm9ybS1lbGVtZW50cy5qc1wiOiA4NSxcblx0XCIuL3BhZ2VzL3VpLWZvcm0tZWxlbWVudHMvdWktZm9ybS1lbGVtZW50cy5zY3NzXCI6IDg2LFxuXHRcIi4vcGFnZXMvdWktaGVhZGVycy91aS1oZWFkZXJzLnNjc3NcIjogODcsXG5cdFwiLi90ZW1wbGF0ZS5zY3NzXCI6IDg4LFxuXHRcIi4vdmFyaWFibGVzLnNjc3NcIjogODlcbn07XG5cblxuZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdHZhciBpZCA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpO1xuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhpZCk7XG59XG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8obWFwLCByZXEpKSB7XG5cdFx0dmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInXCIpO1xuXHRcdGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJztcblx0XHR0aHJvdyBlO1xuXHR9XG5cdHJldHVybiBtYXBbcmVxXTtcbn1cbndlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xufTtcbndlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xud2VicGFja0NvbnRleHQuaWQgPSA1OyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWFnZXMvcm9vbS0zNTAuanBnXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImltYWdlcy9yb29tLTM1Mi5qcGdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL3Jvb20tNDQ0LmpwZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWFnZXMvcm9vbS00NTAuanBnXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImltYWdlcy9yb29tLTY2Ni5qcGdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL3Jvb20tNjc4LmpwZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWFnZXMvcm9vbS03NDAuanBnXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImltYWdlcy9yb29tLTg0MC5qcGdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL3Jvb20tODU2LmpwZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWFnZXMvcm9vbS04ODguanBnXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImltYWdlcy9yb29tLTk4MC5qcGdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL3Jvb20tOTgyLmpwZ1wiOyIsImNsYXNzIEFwYXJ0bWVudEZvcm0ge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5pbml0KCk7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgY29uc3QgZHJvcGRvd25XcmFwcGVyTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2pzLWFwYXJ0bWVudC1mb3JtX19kcm9wZG93bi10aXRsZScpO1xyXG5cclxuICAgIGZvciAobGV0IGl0ZW0gb2YgZHJvcGRvd25XcmFwcGVyTGlzdCkge1xyXG4gICAgICBpdGVtLm9uY2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZXhwYW5kQnV0dCA9IGl0ZW0ucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCcuanMtYXBhcnRtZW50LWZvcm1fX3N5bWJvbC1leHBhbmQnKTtcclxuICAgICAgICBjb25zdCBjaGVja2JveGVzID0gaXRlbS5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJy5qcy1hcGFydG1lbnQtZm9ybV9fY2hlY2tib3hlcycpO1xyXG4gICAgICAgIGNoZWNrYm94ZXMuY2xhc3NMaXN0LnRvZ2dsZSgnYXBhcnRtZW50LWZvcm1fX2NoZWNrYm94ZXNfaGlkZGVuJyk7XHJcbiAgICAgICAgZXhwYW5kQnV0dC5jbGFzc0xpc3QudG9nZ2xlKCdhcGFydG1lbnQtZm9ybV9fc3ltYm9sLWV4cGFuZF9yb3RhdGVkJyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtYXBhcnRtZW50LWZvcm0nKSkge1xyXG4gIGNvbnN0IGFwYXJ0bWVudEZvcm0gPSBuZXcgQXBhcnRtZW50Rm9ybSgpO1xyXG59XHJcbiIsImNsYXNzIERyb3Bkb3duIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuaW5pdCgpO1xyXG4gIH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIGNvbnN0IGlzR3Vlc3RzRHJvcGRvd24gPSBmdW5jdGlvbiAocGxhY2Vob2xkZXIpIHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIHBsYWNlaG9sZGVyLmlubmVySFRNTC5zcGxpdCgnPHNwYW4nKVswXSA9PT0gJ9Ch0LrQvtC70YzQutC+INCz0L7RgdGC0LXQuSdcclxuICAgICAgICB8fCBwbGFjZWhvbGRlci5pbm5lckhUTUwuc3BsaXQoJyAnKVswXSA9PT0gJ9CT0L7RgdGC0LXQuSdcclxuICAgICAgKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGlzQmVkc0Ryb3Bkb3duID0gZnVuY3Rpb24gKHBsYWNlaG9sZGVyKSB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICBwbGFjZWhvbGRlci5pbm5lckhUTUwuc3BsaXQoJzxzcGFuJylbMF0gPT0gJ9CS0YvQsdC10YDQuNGC0LUg0YPQtNC+0LHRgdGC0LLQsCdcclxuICAgICAgICB8fCBwbGFjZWhvbGRlci5pbm5lckhUTUwuc3BsaXQoJyAnKVswXSA9PSAn0KHQv9Cw0LvQtdC9J1xyXG4gICAgICApIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcGxhY2Vob2xkZXJDaGFuZ2VyID0gZnVuY3Rpb24gKHF1YW5MaXN0LCBwbGFjZWhvbGRlcikge1xyXG4gICAgICBjb25zdCBleHBhbmQgPSAnPHNwYW4gY2xhc3MgPSBcIm1hdGVyaWFsLWljb25zXCI+ZXhwYW5kX21vcmU8L3NwYW4+JztcclxuICAgICAgaWYgKGlzR3Vlc3RzRHJvcGRvd24ocGxhY2Vob2xkZXIpKSB7XHJcbiAgICAgICAgbGV0IHF1YW5QZW9wbGUgPSBwYXJzZUludChxdWFuTGlzdC5pdGVtKDApLmlubmVySFRNTCkgKyBwYXJzZUludChxdWFuTGlzdC5pdGVtKDEpLmlubmVySFRNTCk7XHJcbiAgICAgICAgbGV0IHF1YW5CYWJ5ID0gcGFyc2VJbnQocXVhbkxpc3QuaXRlbSgyKS5pbm5lckhUTUwpO1xyXG4gICAgICAgIGlmIChxdWFuQmFieSAhPT0gMCkge1xyXG4gICAgICAgICAgcGxhY2Vob2xkZXIuaW5uZXJIVE1MID0gYNCT0L7RgdGC0LXQuSAtICR7cXVhblBlb3BsZS50b1N0cmluZygpfSwg0LzQu9Cw0LTQtdC90YbQtdCyIC0gJHtxdWFuQmFieS50b1N0cmluZygpfWAgKyBleHBhbmQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGlmIChxdWFuUGVvcGxlID09PSAwKSB7XHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyLmlubmVySFRNTCA9ICfQodC60L7Qu9GM0LrQviDQs9C+0YHRgtC10LknICsgZXhwYW5kO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXIuaW5uZXJIVE1MID0gYNCT0L7RgdGC0LXQuSAtICR7cXVhblBlb3BsZS50b1N0cmluZygpfWAgKyBleHBhbmQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKGlzQmVkc0Ryb3Bkb3duKHBsYWNlaG9sZGVyKSkge1xyXG4gICAgICAgIGxldCBxdWFuUm9vbSA9IHBhcnNlSW50KHF1YW5MaXN0Lml0ZW0oMCkuaW5uZXJIVE1MKTtcclxuICAgICAgICBsZXQgcXVhbkJlZCA9IHBhcnNlSW50KHF1YW5MaXN0Lml0ZW0oMSkuaW5uZXJIVE1MKTtcclxuICAgICAgICBpZiAocXVhbkJlZCAhPT0gMCkge1xyXG4gICAgICAgICAgcGxhY2Vob2xkZXIuaW5uZXJIVE1MID0gYNCh0L/QsNC70LXQvSAtICR7cXVhblJvb20udG9TdHJpbmcoKX0sINC60YDQvtCy0LDRgtC10LkgLSAke3F1YW5CZWQudG9TdHJpbmcoKX0gLi4uYCArIGV4cGFuZDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYgKHF1YW5Sb29tID09PSAwKSB7XHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyLmlubmVySFRNTCA9ICfQktGL0LHQtdGA0LjRgtC1INGD0LTQvtCx0YHRgtCy0LAnICsgZXhwYW5kO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXIuaW5uZXJIVE1MID0gYNCh0L/QsNC70LXQvSAtICR7cXVhblJvb20udG9TdHJpbmcoKX0sINGB0L/QsNGC0Ywg0YHQuNC00Y8gLi4uYCArIGV4cGFuZDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBsaXN0TWludXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdqcy1kcm9wZG93bl9fbWludXMnKTtcclxuICAgIEFycmF5LmZyb20obGlzdE1pbnVzLCAoaXRlbSkgPT4ge1xyXG4gICAgICBpdGVtLm9uY2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgbGV0IGNvbnRlbnQgPSBpdGVtLm5leHRTaWJsaW5nLmlubmVySFRNTDtcclxuICAgICAgICBpZiAoY29udGVudCAhPT0gJzAnKSB7XHJcbiAgICAgICAgICBsZXQgbmV3Q29udGVudCA9IHBhcnNlSW50KGNvbnRlbnQpIC0gMTtcclxuICAgICAgICAgIGl0ZW0ubmV4dFNpYmxpbmcuaW5uZXJIVE1MID0gbmV3Q29udGVudC50b1N0cmluZygpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgbGlzdFBsdXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdqcy1kcm9wZG93bl9fcGx1cycpO1xyXG4gICAgQXJyYXkuZnJvbShsaXN0UGx1cywgKGl0ZW0pID0+IHtcclxuICAgICAgaXRlbS5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgIGxldCBjb250ZW50ID0gaXRlbS5wcmV2aW91c1NpYmxpbmcucHJldmlvdXNTaWJsaW5nLmlubmVySFRNTDtcclxuICAgICAgICBsZXQgbmV3Q29udGVudCA9IHBhcnNlSW50KGNvbnRlbnQpICsgMTtcclxuICAgICAgICBpdGVtLnByZXZpb3VzU2libGluZy5wcmV2aW91c1NpYmxpbmcuaW5uZXJIVE1MID0gbmV3Q29udGVudC50b1N0cmluZygpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBsaXN0Q2xlYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdqcy1kcm9wZG93bl9fY2xlYXInKTtcclxuICAgIEFycmF5LmZyb20obGlzdENsZWFyLCAoaXRlbSkgPT4ge1xyXG4gICAgICBpdGVtLm9uY2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgaXRlbS5wYXJlbnROb2RlLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvckFsbCgnLmpzLWRyb3Bkb3duX19xdWFudGl0eScpLmZvckVhY2goKHF1YW4pID0+IHF1YW4uaW5uZXJIVE1MID0gJzAnKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgbGlzdEFwcGx5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnanMtZHJvcGRvd25fX2FwcGx5Jyk7XHJcbiAgICBBcnJheS5mcm9tKGxpc3RBcHBseSwgKGl0ZW0pID0+IHtcclxuICAgICAgbGV0IHBsYWNlaG9sZGVyID0gaXRlbS5wYXJlbnROb2RlLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignLmpzLWRyb3Bkb3duX19maWVsZCcpO1xyXG4gICAgICBsZXQgcXVhbkxpc3QgPSBpdGVtLnBhcmVudE5vZGUucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKCcuanMtZHJvcGRvd25fX3F1YW50aXR5Jyk7XHJcbiAgICAgIGl0ZW0ub25jbGljayA9ICgpID0+IHtcclxuICAgICAgICBwbGFjZWhvbGRlckNoYW5nZXIocXVhbkxpc3QsIHBsYWNlaG9sZGVyKTtcclxuICAgICAgICBpdGVtLnBhcmVudE5vZGUucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCcuanMtZHJvcGRvd25fX2xpc3QnKS5jbGFzc0xpc3QucmVtb3ZlKCdkcm9wZG93bl9fbGlzdF9hY3RpdmF0ZWQnKTtcclxuICAgICAgICBpdGVtLnBhcmVudE5vZGUucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCcuZHJvcGRvd25fX2ZpZWxkX2FjdGl2YXRlZCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2Ryb3Bkb3duX19maWVsZF9hY3RpdmF0ZWQnKTtcclxuICAgICAgICBpdGVtLnBhcmVudE5vZGUucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCcuanMtZHJvcGRvd25fX2J1dHRvbnMnKS5jbGFzc0xpc3QucmVtb3ZlKCdkcm9wZG93bl9fYnV0dG9uc19hY3RpdmF0ZWQnKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgbGlzdEZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnanMtZHJvcGRvd25fX2ZpZWxkJyk7XHJcbiAgICBBcnJheS5mcm9tKGxpc3RGaWVsZCwgKGl0ZW0pID0+IHtcclxuICAgICAgaXRlbS5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgIGxldCBxdWFuTGlzdCA9IGl0ZW0ucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKCcuanMtZHJvcGRvd25fX3F1YW50aXR5Jyk7XHJcbiAgICAgICAgcGxhY2Vob2xkZXJDaGFuZ2VyKHF1YW5MaXN0LCBpdGVtKTtcclxuICAgICAgICBpdGVtLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignLmpzLWRyb3Bkb3duX19saXN0JykuY2xhc3NMaXN0LnRvZ2dsZSgnZHJvcGRvd25fX2xpc3RfYWN0aXZhdGVkJyk7XHJcbiAgICAgICAgaXRlbS5jbGFzc0xpc3QudG9nZ2xlKCdkcm9wZG93bl9fZmllbGRfYWN0aXZhdGVkJyk7XHJcbiAgICAgICAgaWYgKCFpdGVtLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignLmpzLWRyb3Bkb3duX19idXR0b25zJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdkcm9wZG93bl9fYnV0dG9uc19oaWRkZW4nKSkge1xyXG4gICAgICAgICAgaXRlbS5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJy5qcy1kcm9wZG93bl9fYnV0dG9ucycpLmNsYXNzTGlzdC50b2dnbGUoJ2Ryb3Bkb3duX19idXR0b25zX2FjdGl2YXRlZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLWRyb3Bkb3duJykpIHtcclxuICBjb25zdCBkcm9wZG93biA9IG5ldyBEcm9wZG93bigpO1xyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWFnZXMvbG9nby10b3hpbi5wbmdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL2ZhY2Vib29rLWljb24ucG5nXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImltYWdlcy9pbnN0YWdyYW0taWNvbi5wbmdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL3R3ZWV0ZXItaWNvbi5wbmdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL2ZhY2Vib29rLWljb24ucG5nXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImltYWdlcy9pbnN0YWdyYW0taWNvbi5wbmdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL3R3ZWV0ZXItaWNvbi5wbmdcIjsiLCJjbGFzcyBOYXZiYXIge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5pbml0KCk7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgY29uc3QgbmF2YmFyRXhwYW5kQnV0dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1uYXZiYXJfX2V4cGFuZC1idG4nKTtcclxuICAgIG5hdmJhckV4cGFuZEJ1dHQub25jbGljayA9ICgpID0+IHtcclxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLW5hdmJhcl9fbGlzdCcpLmNsYXNzTGlzdC50b2dnbGUoJ25hdmJhcl9faXRlbV92aXNpYmxlX2ZsZXgnKTtcclxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLW5hdmJhcl9fYnV0dG9ucycpLmNsYXNzTGlzdC50b2dnbGUoJ25hdmJhcl9faXRlbV92aXNpYmxlX2ZsZXgnKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtbmF2YmFyJykpIHtcclxuICBjb25zdCBuYXZiYXIgPSBuZXcgTmF2YmFyKCk7XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImltYWdlcy9sb2dvLXRveGluLnBuZ1wiOyIsImNsYXNzIFNsaWRlciB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLmluaXQoKTtcclxuICB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICBjb25zdCBub1VpU2xpZGVyID0gcmVxdWlyZSgnLi9ub3Vpc2xpZGVyLmpzJyk7XHJcbiAgICBjb25zdCBzbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2xpZGVyJyk7XHJcbiAgICBub1VpU2xpZGVyLmNyZWF0ZShzbGlkZXIsIHtcclxuICAgICAgc3RhcnQ6IFsyMDAwLCA4MDAwXSxcclxuICAgICAgY29ubmVjdDogdHJ1ZSxcclxuICAgICAgc3RlcDogMTAwLFxyXG4gICAgICByYW5nZToge1xyXG4gICAgICAgICdtaW4nOiAwLFxyXG4gICAgICAgICdtYXgnOiAxNTAwMFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgc2xpZGVyLm5vVWlTbGlkZXIub24oJ3VwZGF0ZScsICgpID0+IHtcclxuICAgICAgbGV0IG1pbiA9IHNsaWRlci5ub1VpU2xpZGVyLmdldCgpWzBdXHJcbiAgICAgICAgLm1hdGNoKC8uKyg/PVxcLjAwKS8pWzBdXHJcbiAgICAgICAgLnJlcGxhY2UoLyhcXGQrKShcXGR7M30kKS8sICckMSAkMuKCvScpO1xyXG4gICAgICBsZXQgbWF4ID0gc2xpZGVyLm5vVWlTbGlkZXIuZ2V0KClbMV1cclxuICAgICAgICAubWF0Y2goLy4rKD89XFwuMDApLylbMF1cclxuICAgICAgICAucmVwbGFjZSgvKFxcZCspKFxcZHszfSQpLywgJyQxICQy4oK9Jyk7XHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JtLXByaWNlJykuaW5uZXJIVE1MID0gYCR7bWlufSAtICR7bWF4fWA7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2xpZGVyJykpIHtcclxuICBjb25zdCBzbGlkZXIgPSBuZXcgU2xpZGVyKCk7XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImltYWdlcy9ndWVzdC0xLmpwZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWFnZXMvZ3Vlc3QtMi5qcGdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiYXNzZXRzL2Zhdmljb25zL2FuZHJvaWQtY2hyb21lLTE0NHgxNDQucG5nXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImFzc2V0cy9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLnBuZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJhc3NldHMvZmF2aWNvbnMvZmF2aWNvbi0xNngxNi5wbmdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiYXNzZXRzL2Zhdmljb25zL2Zhdmljb24tMzJ4MzIucG5nXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImFzc2V0cy9mYXZpY29ucy9tc3RpbGUtMTUweDE1MC5wbmdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiYXNzZXRzL2Zhdmljb25zL3NhZmFyaS1waW5uZWQtdGFiLnN2Z1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJmb250cy9Nb250c2VycmF0LUJvbGQuc3ZnXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImZvbnRzL01vbnRzZXJyYXQtTGlnaHQuc3ZnXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImZvbnRzL01vbnRzZXJyYXQtTWVkaXVtLnN2Z1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJmb250cy9Nb250c2VycmF0LVJlZ3VsYXIuc3ZnXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImZvbnRzL01vbnRzZXJyYXQtU2VtaUJvbGQuc3ZnXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImZvbnRzL1F1aWNrc2FuZC1Cb2xkLnN2Z1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJmb250cy9RdWlja3NhbmQtUmVndWxhci5zdmdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL2xhbmRpbmdwYWdlLWJnLmpwZ1wiOyIsImNsYXNzIFJlZ2lzdHJhdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLmluaXQoKTtcclxuICB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICBjb25zdCBpbkJ1dHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtbmF2YmFyX19pbi1idG4nKTtcclxuICAgIGNvbnN0IHJlZ0J1dHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtbmF2YmFyX19yZWctYnRuJyk7XHJcbiAgICBjb25zdCBpbkZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcmVnaXN0cmF0aW9uX19pbi1mb3JtJyk7XHJcbiAgICBjb25zdCByZWdGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXJlZ2lzdHJhdGlvbl9fcmVnLWZvcm0nKTtcclxuXHJcbiAgICBpbkJ1dHQub25jbGljayA9ICgpID0+IHtcclxuICAgICAgcmVnRm9ybS5jbGFzc0xpc3QuYWRkKCdyZWdpc3RyYXRpb25fX3JlZy1mb3JtX2hpZGRlbicpO1xyXG4gICAgICBpbkZvcm0uY2xhc3NMaXN0LmFkZCgncmVnaXN0cmF0aW9uX19pbi1mb3JtX2Rpc3BsYXllZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlZ0J1dHQub25jbGljayA9ICgpID0+IHtcclxuICAgICAgcmVnRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdyZWdpc3RyYXRpb25fX3JlZy1mb3JtX2hpZGRlbicpO1xyXG4gICAgICBpbkZvcm0uY2xhc3NMaXN0LnJlbW92ZSgncmVnaXN0cmF0aW9uX19pbi1mb3JtX2Rpc3BsYXllZCcpXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXJlZ2lzdHJhdGlvbicpKSB7XHJcbiAgY29uc3QgcmVnaXN0cmF0aW9uID0gbmV3IFJlZ2lzdHJhdGlvbigpO1xyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWFnZXMvcmVnaXN0cmF0aW9uLWJnLmpwZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWFnZXMvcm9vbS04ODhhLmpwZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWFnZXMvcm9vbS04ODhiLmpwZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWFnZXMvcm9vbS04ODhjLmpwZ1wiOyIsImNsYXNzIFVJRm9ybUVsZW1lbnRzIHtcclxuICBzdGF0aWMgaW5pdCgpIHtcclxuICAgIGNvbnN0IERyb3Bkb3duRWxlbXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwianMtdWktZm9ybS1lbGVtZW50c19fZHJvcGRvd25fZXhwYW5kZWRcIik7XHJcbiAgICBjb25zdCBjbGlja0V2ZW50ID0gbmV3IEV2ZW50KFwiY2xpY2tcIik7XHJcblxyXG4gICAgQXJyYXkuZnJvbShEcm9wZG93bkVsZW1zLCAoZWxlbSkgPT4ge1xyXG4gICAgICBlbGVtLnF1ZXJ5U2VsZWN0b3IoXCIuanMtZHJvcGRvd25fX2ZpZWxkXCIpLmRpc3BhdGNoRXZlbnQoY2xpY2tFdmVudCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBjaGVja2JveEVsZW1zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImpzLXVpLWZvcm0tZWxlbWVudHNfX21vcmUtb3B0aW9uc19jb2xsYXBzZWRcIik7XHJcbiAgICBBcnJheS5mcm9tKGNoZWNrYm94RWxlbXMsIChlbGVtKSA9PiB7XHJcbiAgICAgIGNvbnN0IGV4cGFuZEJ1dHQgPSBlbGVtLnF1ZXJ5U2VsZWN0b3IoXCJzcGFuLm1hdGVyaWFsLWljb25zXCIpO1xyXG4gICAgICBjb25zdCBjaGVja2JveGVzID0gZWxlbS5xdWVyeVNlbGVjdG9yKFwiLmFwYXJ0bWVudC1mb3JtX19jaGVja2JveGVzXCIpO1xyXG4gICAgICBjaGVja2JveGVzLmNsYXNzTGlzdC50b2dnbGUoXCJhcGFydG1lbnQtZm9ybV9fY2hlY2tib3hlc19kaXNhcHBlYXJcIik7XHJcbiAgICAgIGV4cGFuZEJ1dHQuY2xhc3NMaXN0LnRvZ2dsZShcImFwYXJ0bWVudC1mb3JtX19leHBhbmQtYnV0dF9yb3RhdGVcIik7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbnRyeSB7XHJcbiAgVUlGb3JtRWxlbWVudHMuaW5pdCgpO1xyXG59IGNhdGNoIHtcclxuICBjb25zb2xlLmxvZyhcIlRoZXJlIGlzIG5vIFVJRm9ybUVsZW1lbnRzXCIpO1xyXG59XHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9