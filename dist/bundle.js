!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=17)}([function(t,e,i){var s,n,a;/*! nouislider - 14.5.0 - 5/11/2020 */n=[],void 0===(a="function"==typeof(s=function(){"use strict";var t="14.5.0";function e(t){t.parentElement.removeChild(t)}function i(t){return null!=t}function s(t){t.preventDefault()}function n(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function a(t,e,i){i>0&&(l(t,e),setTimeout((function(){h(t,e)}),i))}function r(t){return Math.max(Math.min(t,100),0)}function o(t){return Array.isArray(t)?t:[t]}function c(t){var e=(t=String(t)).split(".");return e.length>1?e[1].length:0}function l(t,e){t.classList&&!/\s/.test(e)?t.classList.add(e):t.className+=" "+e}function h(t,e){t.classList&&!/\s/.test(e)?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function u(t){var e=void 0!==window.pageXOffset,i="CSS1Compat"===(t.compatMode||"");return{x:e?window.pageXOffset:i?t.documentElement.scrollLeft:t.body.scrollLeft,y:e?window.pageYOffset:i?t.documentElement.scrollTop:t.body.scrollTop}}function d(t,e){return 100/(e-t)}function p(t,e,i){return 100*e/(t[i+1]-t[i])}function m(t,e){for(var i=1;t>=e[i];)i+=1;return i}function f(t,e,i){if(i>=t.slice(-1)[0])return 100;var s=m(i,t),n=t[s-1],a=t[s],r=e[s-1],o=e[s];return r+function(t,e){return p(t,t[0]<0?e+Math.abs(t[0]):e-t[0],0)}([n,a],i)/d(r,o)}function g(t,e,i,s){if(100===s)return s;var n=m(s,t),a=t[n-1],r=t[n];return i?s-a>(r-a)/2?r:a:e[n-1]?t[n-1]+function(t,e){return Math.round(t/e)*e}(s-t[n-1],e[n-1]):s}function v(t,e,i){var s;if("number"==typeof e&&(e=[e]),!Array.isArray(e))throw new Error("noUiSlider (14.5.0): 'range' contains invalid value.");if(!n(s="min"===t?0:"max"===t?100:parseFloat(t))||!n(e[0]))throw new Error("noUiSlider (14.5.0): 'range' value isn't numeric.");i.xPct.push(s),i.xVal.push(e[0]),s?i.xSteps.push(!isNaN(e[1])&&e[1]):isNaN(e[1])||(i.xSteps[0]=e[1]),i.xHighestCompleteStep.push(0)}function y(t,e,i){if(e)if(i.xVal[t]!==i.xVal[t+1]){i.xSteps[t]=p([i.xVal[t],i.xVal[t+1]],e,0)/d(i.xPct[t],i.xPct[t+1]);var s=(i.xVal[t+1]-i.xVal[t])/i.xNumSteps[t],n=Math.ceil(Number(s.toFixed(3))-1),a=i.xVal[t]+i.xNumSteps[t]*n;i.xHighestCompleteStep[t]=a}else i.xSteps[t]=i.xHighestCompleteStep[t]=i.xVal[t]}function w(t,e,i){var s;this.xPct=[],this.xVal=[],this.xSteps=[i||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=e;var n=[];for(s in t)t.hasOwnProperty(s)&&n.push([t[s],s]);for(n.length&&"object"==typeof n[0][0]?n.sort((function(t,e){return t[0][0]-e[0][0]})):n.sort((function(t,e){return t[0]-e[0]})),s=0;s<n.length;s++)v(n[s][1],n[s][0],this);for(this.xNumSteps=this.xSteps.slice(0),s=0;s<this.xNumSteps.length;s++)y(s,this.xNumSteps[s],this)}w.prototype.getDistance=function(t){var e,i=[];for(e=0;e<this.xNumSteps.length-1;e++){var s=this.xNumSteps[e];if(s&&t/s%1!=0)throw new Error("noUiSlider (14.5.0): 'limit', 'margin' and 'padding' of "+this.xPct[e]+"% range must be divisible by step.");i[e]=p(this.xVal,t,e)}return i},w.prototype.getAbsoluteDistance=function(t,e,i){var s,n=0;if(t<this.xPct[this.xPct.length-1])for(;t>this.xPct[n+1];)n++;else t===this.xPct[this.xPct.length-1]&&(n=this.xPct.length-2);i||t!==this.xPct[n+1]||n++;var a=1,r=e[n],o=0,c=0,l=0,h=0;for(s=i?(t-this.xPct[n])/(this.xPct[n+1]-this.xPct[n]):(this.xPct[n+1]-t)/(this.xPct[n+1]-this.xPct[n]);r>0;)o=this.xPct[n+1+h]-this.xPct[n+h],e[n+h]*a+100-100*s>100?(c=o*s,a=(r-100*s)/e[n+h],s=1):(c=e[n+h]*o/100*a,a=0),i?(l-=c,this.xPct.length+h>=1&&h--):(l+=c,this.xPct.length-h>=1&&h++),r=e[n+h]*a;return t+l},w.prototype.toStepping=function(t){return t=f(this.xVal,this.xPct,t)},w.prototype.fromStepping=function(t){return function(t,e,i){if(i>=100)return t.slice(-1)[0];var s=m(i,e),n=t[s-1],a=t[s],r=e[s-1];return function(t,e){return e*(t[1]-t[0])/100+t[0]}([n,a],(i-r)*d(r,e[s]))}(this.xVal,this.xPct,t)},w.prototype.getStep=function(t){return t=g(this.xPct,this.xSteps,this.snap,t)},w.prototype.getDefaultStep=function(t,e,i){var s=m(t,this.xPct);return(100===t||e&&t===this.xPct[s-1])&&(s=Math.max(s-1,1)),(this.xVal[s]-this.xVal[s-1])/i},w.prototype.getNearbySteps=function(t){var e=m(t,this.xPct);return{stepBefore:{startValue:this.xVal[e-2],step:this.xNumSteps[e-2],highestStep:this.xHighestCompleteStep[e-2]},thisStep:{startValue:this.xVal[e-1],step:this.xNumSteps[e-1],highestStep:this.xHighestCompleteStep[e-1]},stepAfter:{startValue:this.xVal[e],step:this.xNumSteps[e],highestStep:this.xHighestCompleteStep[e]}}},w.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(c);return Math.max.apply(null,t)},w.prototype.convert=function(t){return this.getStep(this.toStepping(t))};var _={to:function(t){return void 0!==t&&t.toFixed(2)},from:Number},b={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"};function D(t){if(function(t){return"object"==typeof t&&"function"==typeof t.to&&"function"==typeof t.from}(t))return!0;throw new Error("noUiSlider (14.5.0): 'format' requires 'to' and 'from' methods.")}function k(t,e){if(!n(e))throw new Error("noUiSlider (14.5.0): 'step' is not numeric.");t.singleStep=e}function x(t,e){if("object"!=typeof e||Array.isArray(e))throw new Error("noUiSlider (14.5.0): 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw new Error("noUiSlider (14.5.0): Missing 'min' or 'max' in 'range'.");if(e.min===e.max)throw new Error("noUiSlider (14.5.0): 'range' 'min' and 'max' cannot be equal.");t.spectrum=new w(e,t.snap,t.singleStep)}function S(t,e){if(e=o(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider (14.5.0): 'start' option is incorrect.");t.handles=e.length,t.start=e}function C(t,e){if(t.snap=e,"boolean"!=typeof e)throw new Error("noUiSlider (14.5.0): 'snap' option must be a boolean.")}function M(t,e){if(t.animate=e,"boolean"!=typeof e)throw new Error("noUiSlider (14.5.0): 'animate' option must be a boolean.")}function T(t,e){if(t.animationDuration=e,"number"!=typeof e)throw new Error("noUiSlider (14.5.0): 'animationDuration' option must be a number.")}function E(t,e){var i,s=[!1];if("lower"===e?e=[!0,!1]:"upper"===e&&(e=[!1,!0]),!0===e||!1===e){for(i=1;i<t.handles;i++)s.push(e);s.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==t.handles+1)throw new Error("noUiSlider (14.5.0): 'connect' option doesn't match handle count.");s=e}t.connect=s}function $(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider (14.5.0): 'orientation' option is invalid.")}}function N(t,e){if(!n(e))throw new Error("noUiSlider (14.5.0): 'margin' option must be numeric.");0!==e&&(t.margin=t.spectrum.getDistance(e))}function H(t,e){if(!n(e))throw new Error("noUiSlider (14.5.0): 'limit' option must be numeric.");if(t.limit=t.spectrum.getDistance(e),!t.limit||t.handles<2)throw new Error("noUiSlider (14.5.0): 'limit' option is only supported on linear sliders with 2 or more handles.")}function P(t,e){var i;if(!n(e)&&!Array.isArray(e))throw new Error("noUiSlider (14.5.0): 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(e)&&2!==e.length&&!n(e[0])&&!n(e[1]))throw new Error("noUiSlider (14.5.0): 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==e){for(Array.isArray(e)||(e=[e,e]),t.padding=[t.spectrum.getDistance(e[0]),t.spectrum.getDistance(e[1])],i=0;i<t.spectrum.xNumSteps.length-1;i++)if(t.padding[0][i]<0||t.padding[1][i]<0)throw new Error("noUiSlider (14.5.0): 'padding' option must be a positive number(s).");var s=e[0]+e[1],a=t.spectrum.xVal[0];if(s/(t.spectrum.xVal[t.spectrum.xVal.length-1]-a)>1)throw new Error("noUiSlider (14.5.0): 'padding' option must not exceed 100% of the range.")}}function V(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1;break;default:throw new Error("noUiSlider (14.5.0): 'direction' option was not recognized.")}}function R(t,e){if("string"!=typeof e)throw new Error("noUiSlider (14.5.0): 'behaviour' must be a string containing options.");var i=e.indexOf("tap")>=0,s=e.indexOf("drag")>=0,n=e.indexOf("fixed")>=0,a=e.indexOf("snap")>=0,r=e.indexOf("hover")>=0,o=e.indexOf("unconstrained")>=0;if(n){if(2!==t.handles)throw new Error("noUiSlider (14.5.0): 'fixed' behaviour must be used with 2 handles");N(t,t.start[1]-t.start[0])}if(o&&(t.margin||t.limit))throw new Error("noUiSlider (14.5.0): 'unconstrained' behaviour cannot be used with margin or limit");t.events={tap:i||a,drag:s,fixed:n,snap:a,hover:r,unconstrained:o}}function F(t,e){if(!1!==e)if(!0===e){t.tooltips=[];for(var i=0;i<t.handles;i++)t.tooltips.push(!0)}else{if(t.tooltips=o(e),t.tooltips.length!==t.handles)throw new Error("noUiSlider (14.5.0): must pass a formatter for all handles.");t.tooltips.forEach((function(t){if("boolean"!=typeof t&&("object"!=typeof t||"function"!=typeof t.to))throw new Error("noUiSlider (14.5.0): 'tooltips' must be passed a formatter or 'false'.")}))}}function L(t,e){t.ariaFormat=e,D(e)}function O(t,e){t.format=e,D(e)}function U(t,e){if(t.keyboardSupport=e,"boolean"!=typeof e)throw new Error("noUiSlider (14.5.0): 'keyboardSupport' option must be a boolean.")}function A(t,e){t.documentElement=e}function j(t,e){if("string"!=typeof e&&!1!==e)throw new Error("noUiSlider (14.5.0): 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function I(t,e){if("object"!=typeof e)throw new Error("noUiSlider (14.5.0): 'cssClasses' must be an object.");if("string"==typeof t.cssPrefix)for(var i in t.cssClasses={},e)e.hasOwnProperty(i)&&(t.cssClasses[i]=t.cssPrefix+e[i]);else t.cssClasses=e}function B(t){var e={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:_,format:_},s={step:{r:!1,t:k},start:{r:!0,t:S},connect:{r:!0,t:E},direction:{r:!0,t:V},snap:{r:!1,t:C},animate:{r:!1,t:M},animationDuration:{r:!1,t:T},range:{r:!0,t:x},orientation:{r:!1,t:$},margin:{r:!1,t:N},limit:{r:!1,t:H},padding:{r:!1,t:P},behaviour:{r:!0,t:R},ariaFormat:{r:!1,t:L},format:{r:!1,t:O},tooltips:{r:!1,t:F},keyboardSupport:{r:!0,t:U},documentElement:{r:!1,t:A},cssPrefix:{r:!0,t:j},cssClasses:{r:!0,t:I}},n={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:b};t.format&&!t.ariaFormat&&(t.ariaFormat=t.format),Object.keys(s).forEach((function(a){if(!i(t[a])&&void 0===n[a]){if(s[a].r)throw new Error("noUiSlider (14.5.0): '"+a+"' is required.");return!0}s[a].t(e,i(t[a])?t[a]:n[a])})),e.pips=t.pips;var a=document.createElement("div"),r=void 0!==a.style.msTransform,o=void 0!==a.style.transform;return e.transformRule=o?"transform":r?"msTransform":"webkitTransform",e.style=[["left","top"],["right","bottom"]][e.dir][e.ort],e}function Y(t,i,n){var c,d,p,m,f,g,v,y,w=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},_=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),b=t,D=i.spectrum,k=[],x=[],S=[],C=0,M={},T=t.ownerDocument,E=i.documentElement||T.documentElement,$=T.body,N="rtl"===T.dir||1===i.ort?0:100;function H(t,e){var i=T.createElement("div");return e&&l(i,e),t.appendChild(i),i}function P(t,e){var s=H(t,i.cssClasses.origin),n=H(s,i.cssClasses.handle);return H(n,i.cssClasses.touchArea),n.setAttribute("data-handle",e),i.keyboardSupport&&(n.setAttribute("tabindex","0"),n.addEventListener("keydown",(function(t){return function(t,e){if(F()||L(e))return!1;var s=["Left","Right"],n=["Down","Up"],a=["PageDown","PageUp"],r=["Home","End"];i.dir&&!i.ort?s.reverse():i.ort&&!i.dir&&(n.reverse(),a.reverse());var o,c=t.key.replace("Arrow",""),l=c===a[0],h=c===a[1],u=c===n[0]||c===s[0]||l,d=c===n[1]||c===s[1]||h,p=c===r[0],m=c===r[1];if(!(u||d||p||m))return!0;if(t.preventDefault(),d||u){var f=u?0:1,g=dt(e)[f];if(null===g)return!1;!1===g&&(g=D.getDefaultStep(x[e],u,10)),(h||l)&&(g*=5),g=Math.max(g,1e-7),g*=u?-1:1,o=k[e]+g}else o=m?i.spectrum.xVal[i.spectrum.xVal.length-1]:i.spectrum.xVal[0];return ot(e,D.toStepping(o),!0,!0),et("slide",e),et("update",e),et("change",e),et("set",e),!1}(t,e)}))),n.setAttribute("role","slider"),n.setAttribute("aria-orientation",i.ort?"vertical":"horizontal"),0===e?l(n,i.cssClasses.handleLower):e===i.handles-1&&l(n,i.cssClasses.handleUpper),s}function V(t,e){return!!e&&H(t,i.cssClasses.connect)}function R(t,e){return!!i.tooltips[e]&&H(t.firstChild,i.cssClasses.tooltip)}function F(){return b.hasAttribute("disabled")}function L(t){return d[t].hasAttribute("disabled")}function O(){f&&(tt("update.tooltips"),f.forEach((function(t){t&&e(t)})),f=null)}function U(){O(),f=d.map(R),J("update.tooltips",(function(t,e,s){if(f[e]){var n=t[e];!0!==i.tooltips[e]&&(n=i.tooltips[e].to(s[e])),f[e].innerHTML=n}}))}function A(t,e,s){var n=T.createElement("div"),a=[];a[0]=i.cssClasses.valueNormal,a[1]=i.cssClasses.valueLarge,a[2]=i.cssClasses.valueSub;var r=[];r[0]=i.cssClasses.markerNormal,r[1]=i.cssClasses.markerLarge,r[2]=i.cssClasses.markerSub;var o=[i.cssClasses.valueHorizontal,i.cssClasses.valueVertical],c=[i.cssClasses.markerHorizontal,i.cssClasses.markerVertical];function h(t,e){var s=e===i.cssClasses.value,n=s?a:r;return e+" "+(s?o:c)[i.ort]+" "+n[t]}return l(n,i.cssClasses.pips),l(n,0===i.ort?i.cssClasses.pipsHorizontal:i.cssClasses.pipsVertical),Object.keys(t).forEach((function(a){!function(t,a,r){if(-1!==(r=e?e(a,r):r)){var o=H(n,!1);o.className=h(r,i.cssClasses.marker),o.style[i.style]=t+"%",r>0&&((o=H(n,!1)).className=h(r,i.cssClasses.value),o.setAttribute("data-value",a),o.style[i.style]=t+"%",o.innerHTML=s.to(a))}}(a,t[a][0],t[a][1])})),n}function j(){m&&(e(m),m=null)}function I(t){j();var e=t.mode,i=t.density||1,s=t.filter||!1,n=function(t,e,i){if("range"===t||"steps"===t)return D.xVal;if("count"===t){if(e<2)throw new Error("noUiSlider (14.5.0): 'values' (>= 2) required for mode 'count'.");var s=e-1,n=100/s;for(e=[];s--;)e[s]=s*n;e.push(100),t="positions"}return"positions"===t?e.map((function(t){return D.fromStepping(i?D.getStep(t):t)})):"values"===t?i?e.map((function(t){return D.fromStepping(D.getStep(D.toStepping(t)))})):e:void 0}(e,t.values||!1,t.stepped||!1),a=function(t,e,i){var s,n={},a=D.xVal[0],r=D.xVal[D.xVal.length-1],o=!1,c=!1,l=0;return s=i.slice().sort((function(t,e){return t-e})),(i=s.filter((function(t){return!this[t]&&(this[t]=!0)}),{}))[0]!==a&&(i.unshift(a),o=!0),i[i.length-1]!==r&&(i.push(r),c=!0),i.forEach((function(s,a){var r,h,u,d,p,m,f,g,v,y,w=s,_=i[a+1],b="steps"===e;if(b&&(r=D.xNumSteps[a]),r||(r=_-w),!1!==w&&void 0!==_)for(r=Math.max(r,1e-7),h=w;h<=_;h=(h+r).toFixed(7)/1){for(g=(p=(d=D.toStepping(h))-l)/t,y=p/(v=Math.round(g)),u=1;u<=v;u+=1)n[(m=l+u*y).toFixed(5)]=[D.fromStepping(m),0];f=i.indexOf(h)>-1?1:b?2:0,!a&&o&&h!==_&&(f=0),h===_&&c||(n[d.toFixed(5)]=[h,f]),l=d}})),n}(i,e,n),r=t.format||{to:Math.round};return m=b.appendChild(A(a,s,r))}function Y(){var t=c.getBoundingClientRect(),e="offset"+["Width","Height"][i.ort];return 0===i.ort?t.width||c[e]:t.height||c[e]}function q(t,e,s,n){var a=function(a){return!!(a=function(t,e,i){var s,n,a=0===t.type.indexOf("touch"),r=0===t.type.indexOf("mouse"),o=0===t.type.indexOf("pointer");if(0===t.type.indexOf("MSPointer")&&(o=!0),a){var c=function(t){return t.target===i||i.contains(t.target)||t.target.shadowRoot&&t.target.shadowRoot.contains(i)};if("touchstart"===t.type){var l=Array.prototype.filter.call(t.touches,c);if(l.length>1)return!1;s=l[0].pageX,n=l[0].pageY}else{var h=Array.prototype.find.call(t.changedTouches,c);if(!h)return!1;s=h.pageX,n=h.pageY}}return e=e||u(T),(r||o)&&(s=t.clientX+e.x,n=t.clientY+e.y),t.pageOffset=e,t.points=[s,n],t.cursor=r||o,t}(a,n.pageOffset,n.target||e))&&!(F()&&!n.doNotReject)&&(r=b,o=i.cssClasses.tap,!((r.classList?r.classList.contains(o):new RegExp("\\b"+o+"\\b").test(r.className))&&!n.doNotReject)&&!(t===w.start&&void 0!==a.buttons&&a.buttons>1)&&(!n.hover||!a.buttons)&&(_||a.preventDefault(),a.calcPoint=a.points[i.ort],void s(a,n)));var r,o},r=[];return t.split(" ").forEach((function(t){e.addEventListener(t,a,!!_&&{passive:!0}),r.push([t,a])})),r}function z(t){var e,s,n,a,o,l,h=100*(t-(e=c,s=i.ort,n=e.getBoundingClientRect(),a=e.ownerDocument,o=a.documentElement,l=u(a),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(l.x=0),s?n.top+l.y-o.clientTop:n.left+l.x-o.clientLeft))/Y();return h=r(h),i.dir?100-h:h}function K(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&X(t,e)}function W(t,e){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==e.buttonsProperty)return X(t,e);var s=(i.dir?-1:1)*(t.calcPoint-e.startCalcPoint);nt(s>0,100*s/e.baseSize,e.locations,e.handleNumbers)}function X(t,e){e.handle&&(h(e.handle,i.cssClasses.active),C-=1),e.listeners.forEach((function(t){E.removeEventListener(t[0],t[1])})),0===C&&(h(b,i.cssClasses.drag),rt(),t.cursor&&($.style.cursor="",$.removeEventListener("selectstart",s))),e.handleNumbers.forEach((function(t){et("change",t),et("set",t),et("end",t)}))}function Z(t,e){if(e.handleNumbers.some(L))return!1;var n;1===e.handleNumbers.length&&(n=d[e.handleNumbers[0]].children[0],C+=1,l(n,i.cssClasses.active)),t.stopPropagation();var a=[],r=q(w.move,E,W,{target:t.target,handle:n,listeners:a,startCalcPoint:t.calcPoint,baseSize:Y(),pageOffset:t.pageOffset,handleNumbers:e.handleNumbers,buttonsProperty:t.buttons,locations:x.slice()}),o=q(w.end,E,X,{target:t.target,handle:n,listeners:a,doNotReject:!0,handleNumbers:e.handleNumbers}),c=q("mouseout",E,K,{target:t.target,handle:n,listeners:a,doNotReject:!0,handleNumbers:e.handleNumbers});a.push.apply(a,r.concat(o,c)),t.cursor&&($.style.cursor=getComputedStyle(t.target).cursor,d.length>1&&l(b,i.cssClasses.drag),$.addEventListener("selectstart",s,!1)),e.handleNumbers.forEach((function(t){et("start",t)}))}function G(t){t.stopPropagation();var e=z(t.calcPoint),s=function(t){var e=100,i=!1;return d.forEach((function(s,n){if(!L(n)){var a=x[n],r=Math.abs(a-t);(r<e||r<=e&&t>a||100===r&&100===e)&&(i=n,e=r)}})),i}(e);if(!1===s)return!1;i.events.snap||a(b,i.cssClasses.tap,i.animationDuration),ot(s,e,!0,!0),rt(),et("slide",s,!0),et("update",s,!0),et("change",s,!0),et("set",s,!0),i.events.snap&&Z(t,{handleNumbers:[s]})}function Q(t){var e=z(t.calcPoint),i=D.getStep(e),s=D.fromStepping(i);Object.keys(M).forEach((function(t){"hover"===t.split(".")[0]&&M[t].forEach((function(t){t.call(g,s)}))}))}function J(t,e){M[t]=M[t]||[],M[t].push(e),"update"===t.split(".")[0]&&d.forEach((function(t,e){et("update",e)}))}function tt(t){var e=t&&t.split(".")[0],i=e&&t.substring(e.length);Object.keys(M).forEach((function(t){var s=t.split(".")[0],n=t.substring(s.length);e&&e!==s||i&&i!==n||delete M[t]}))}function et(t,e,s){Object.keys(M).forEach((function(n){var a=n.split(".")[0];t===a&&M[n].forEach((function(t){t.call(g,k.map(i.format.to),e,k.slice(),s||!1,x.slice(),g)}))}))}function it(t,e,s,n,a,o){var c;return d.length>1&&!i.events.unconstrained&&(n&&e>0&&(c=D.getAbsoluteDistance(t[e-1],i.margin,0),s=Math.max(s,c)),a&&e<d.length-1&&(c=D.getAbsoluteDistance(t[e+1],i.margin,1),s=Math.min(s,c))),d.length>1&&i.limit&&(n&&e>0&&(c=D.getAbsoluteDistance(t[e-1],i.limit,0),s=Math.min(s,c)),a&&e<d.length-1&&(c=D.getAbsoluteDistance(t[e+1],i.limit,1),s=Math.max(s,c))),i.padding&&(0===e&&(c=D.getAbsoluteDistance(0,i.padding[0],0),s=Math.max(s,c)),e===d.length-1&&(c=D.getAbsoluteDistance(100,i.padding[1],1),s=Math.min(s,c))),!((s=r(s=D.getStep(s)))===t[e]&&!o)&&s}function st(t,e){var s=i.ort;return(s?e:t)+", "+(s?t:e)}function nt(t,e,i,s){var n=i.slice(),a=[!t,t],r=[t,!t];s=s.slice(),t&&s.reverse(),s.length>1?s.forEach((function(t,i){var s=it(n,t,n[t]+e,a[i],r[i],!1);!1===s?e=0:(e=s-n[t],n[t]=s)})):a=r=[!0];var o=!1;s.forEach((function(t,s){o=ot(t,i[t]+e,a[s],r[s])||o})),o&&s.forEach((function(t){et("update",t),et("slide",t)}))}function at(t,e){return i.dir?100-t-e:t}function rt(){S.forEach((function(t){var e=x[t]>50?-1:1,i=3+(d.length+e*t);d[t].style.zIndex=i}))}function ot(t,e,s,n){return!1!==(e=it(x,t,e,s,n,!1))&&(function(t,e){x[t]=e,k[t]=D.fromStepping(e);var s="translate("+st(10*(at(e,0)-N)+"%","0")+")";d[t].style[i.transformRule]=s,ct(t),ct(t+1)}(t,e),!0)}function ct(t){if(p[t]){var e=0,s=100;0!==t&&(e=x[t-1]),t!==p.length-1&&(s=x[t]);var n=s-e,a="translate("+st(at(e,n)+"%","0")+")",r="scale("+st(n/100,"1")+")";p[t].style[i.transformRule]=a+" "+r}}function lt(t,e){return null===t||!1===t||void 0===t?x[e]:("number"==typeof t&&(t=String(t)),t=i.format.from(t),!1===(t=D.toStepping(t))||isNaN(t)?x[e]:t)}function ht(t,e){var s=o(t),n=void 0===x[0];e=void 0===e||!!e,i.animate&&!n&&a(b,i.cssClasses.tap,i.animationDuration),S.forEach((function(t){ot(t,lt(s[t],t),!0,!1)}));for(var r=1===S.length?0:1;r<S.length;++r)S.forEach((function(t){ot(t,x[t],!0,!0)}));rt(),S.forEach((function(t){et("update",t),null!==s[t]&&e&&et("set",t)}))}function ut(){var t=k.map(i.format.to);return 1===t.length?t[0]:t}function dt(t){var e=x[t],s=D.getNearbySteps(e),n=k[t],a=s.thisStep.step,r=null;if(i.snap)return[n-s.stepBefore.startValue||null,s.stepAfter.startValue-n||null];!1!==a&&n+a>s.stepAfter.startValue&&(a=s.stepAfter.startValue-n),r=n>s.thisStep.startValue?s.thisStep.step:!1!==s.stepBefore.step&&n-s.stepBefore.highestStep,100===e?a=null:0===e&&(r=null);var o=D.countStepDecimals();return null!==a&&!1!==a&&(a=Number(a.toFixed(o))),null!==r&&!1!==r&&(r=Number(r.toFixed(o))),[r,a]}return l(v=b,i.cssClasses.target),0===i.dir?l(v,i.cssClasses.ltr):l(v,i.cssClasses.rtl),0===i.ort?l(v,i.cssClasses.horizontal):l(v,i.cssClasses.vertical),l(v,"rtl"===getComputedStyle(v).direction?i.cssClasses.textDirectionRtl:i.cssClasses.textDirectionLtr),c=H(v,i.cssClasses.base),function(t,e){var s=H(e,i.cssClasses.connects);d=[],(p=[]).push(V(s,t[0]));for(var n=0;n<i.handles;n++)d.push(P(e,n)),S[n]=n,p.push(V(s,t[n+1]))}(i.connect,c),(y=i.events).fixed||d.forEach((function(t,e){q(w.start,t.children[0],Z,{handleNumbers:[e]})})),y.tap&&q(w.start,c,G,{}),y.hover&&q(w.move,c,Q,{hover:!0}),y.drag&&p.forEach((function(t,e){if(!1!==t&&0!==e&&e!==p.length-1){var s=d[e-1],n=d[e],a=[t];l(t,i.cssClasses.draggable),y.fixed&&(a.push(s.children[0]),a.push(n.children[0])),a.forEach((function(t){q(w.start,t,Z,{handles:[s,n],handleNumbers:[e-1,e]})}))}})),ht(i.start),i.pips&&I(i.pips),i.tooltips&&U(),J("update",(function(t,e,s,n,a){S.forEach((function(t){var e=d[t],n=it(x,t,0,!0,!0,!0),r=it(x,t,100,!0,!0,!0),o=a[t],c=i.ariaFormat.to(s[t]);n=D.fromStepping(n).toFixed(1),r=D.fromStepping(r).toFixed(1),o=D.fromStepping(o).toFixed(1),e.children[0].setAttribute("aria-valuemin",n),e.children[0].setAttribute("aria-valuemax",r),e.children[0].setAttribute("aria-valuenow",o),e.children[0].setAttribute("aria-valuetext",c)}))})),g={destroy:function(){for(var t in i.cssClasses)i.cssClasses.hasOwnProperty(t)&&h(b,i.cssClasses[t]);for(;b.firstChild;)b.removeChild(b.firstChild);delete b.noUiSlider},steps:function(){return S.map(dt)},on:J,off:tt,get:ut,set:ht,setHandle:function(t,e,i){if(!((t=Number(t))>=0&&t<S.length))throw new Error("noUiSlider (14.5.0): invalid handle number, got: "+t);ot(t,lt(e,t),!0,!0),et("update",t),i&&et("set",t)},reset:function(t){ht(i.start,t)},__moveHandles:function(t,e,i){nt(t,e,x,i)},options:n,updateOptions:function(t,e){var s=ut(),a=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];a.forEach((function(e){void 0!==t[e]&&(n[e]=t[e])}));var r=B(n);a.forEach((function(e){void 0!==t[e]&&(i[e]=r[e])})),D=r.spectrum,i.margin=r.margin,i.limit=r.limit,i.padding=r.padding,i.pips?I(i.pips):j(),i.tooltips?U():O(),x=[],ht(t.start||s,e)},target:b,removePips:j,removeTooltips:O,getTooltips:function(){return f},getOrigins:function(){return d},pips:I}}return{__spectrum:w,version:t,cssClasses:b,create:function(t,e){if(!t||!t.nodeName)throw new Error("noUiSlider (14.5.0): create requires a single element, got: "+t);if(t.noUiSlider)throw new Error("noUiSlider (14.5.0): Slider was already initialized.");var i=Y(t,B(e),e);return t.noUiSlider=i,i}}})?s.apply(e,n):s)||(t.exports=a)},function(t,e,i){},function(t,e,i){const s=i(3);s.keys().forEach(s)},function(t,e,i){var s={"./android-chrome-144x144.png":4,"./apple-touch-icon.png":5,"./favicon-16x16.png":6,"./favicon-32x32.png":7,"./mstile-150x150.png":8,"./safari-pinned-tab.svg":9};function n(t){var e=a(t);return i(e)}function a(t){if(!i.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}n.keys=function(){return Object.keys(s)},n.resolve=a,t.exports=n,n.id=3},function(t,e,i){"use strict";i.r(e),e.default=i.p+"assets/favicons/android-chrome-144x144.png"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"assets/favicons/apple-touch-icon.png"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"assets/favicons/favicon-16x16.png"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"assets/favicons/favicon-32x32.png"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"assets/favicons/mstile-150x150.png"},function(t,e,i){"use strict";i.r(e),e.default=i.p+"assets/favicons/safari-pinned-tab.svg"},function(t,e){try{document.querySelector(".js-navbar__expand-butt").onclick=()=>{document.querySelector(".js-navbar__list ").classList.toggle("navbar__item_visible-flex"),document.querySelector(".js-navbar__buttons").classList.toggle("navbar__item_visible-flex")}}catch{console.error("There is no navbar")}},function(t,e){!function(t,e,i){var s,n,a,r,o,c,l;r=!1,o={classes:"",inline:!1,language:"ru",startDate:new Date,firstDay:"",weekends:[6,0],dateFormat:"",altField:"",altFieldDateFormat:"@",toggleSelected:!0,keyboardNav:!0,position:"bottom left",offset:12,view:"days",minView:"days",showOtherMonths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:"",maxDate:"",disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:",",range:!1,todayButton:!1,clearButton:!1,showEvent:"focus",autoClose:!1,monthsField:"monthsShort",prevHtml:'<svg><path d="M 17,12 l -5,5 l 5,5"></path></svg>',nextHtml:'<svg><path d="M 14,12 l 5,5 l -5,5"></path></svg>',navTitles:{days:"MM <i>yyyy</i>",months:"yyyy",years:"yyyy1 - yyyy2"},timepicker:!1,onlyTimepicker:!1,dateTimeSeparator:" ",timeFormat:"",minHours:0,maxHours:24,minMinutes:0,maxMinutes:59,hoursStep:1,minutesStep:1,onSelect:"",onShow:"",onHide:"",onChangeMonth:"",onChangeYear:"",onChangeDecade:"",onChangeView:"",onRenderCell:""},c={ctrlRight:[17,39],ctrlUp:[17,38],ctrlLeft:[17,37],ctrlDown:[17,40],shiftRight:[16,39],shiftUp:[16,38],shiftLeft:[16,37],shiftDown:[16,40],altUp:[18,38],altRight:[18,39],altLeft:[18,37],altDown:[18,40],ctrlShiftUp:[16,17,38]},(a=l=function(t,i){this.el=t,this.$el=e(t),this.opts=e.extend(!0,{},o,i,this.$el.data()),null==s&&(s=e("body")),this.opts.startDate||(this.opts.startDate=new Date),"INPUT"==this.el.nodeName&&(this.elIsInput=!0),this.opts.altField&&(this.$altField="string"==typeof this.opts.altField?e(this.opts.altField):this.opts.altField),this.inited=!1,this.visible=!1,this.silent=!1,this.currentDate=this.opts.startDate,this.currentView=this.opts.view,this._createShortCuts(),this.selectedDates=[],this.views={},this.keys=[],this.minRange="",this.maxRange="",this._prevOnSelectValue="",this.init()}).prototype={VERSION:"2.2.3",viewIndexes:["days","months","years"],init:function(){r||this.opts.inline||!this.elIsInput||this._buildDatepickersContainer(),this._buildBaseHtml(),this._defineLocale(this.opts.language),this._syncWithMinMaxDates(),this.elIsInput&&(this.opts.inline||(this._setPositionClasses(this.opts.position),this._bindEvents()),this.opts.keyboardNav&&!this.opts.onlyTimepicker&&this._bindKeyboardEvents(),this.$datepicker.on("mousedown",this._onMouseDownDatepicker.bind(this)),this.$datepicker.on("mouseup",this._onMouseUpDatepicker.bind(this))),this.opts.classes&&this.$datepicker.addClass(this.opts.classes),this.opts.timepicker&&(this.timepicker=new e.fn.datepicker.Timepicker(this,this.opts),this._bindTimepickerEvents()),this.opts.onlyTimepicker&&this.$datepicker.addClass("-only-timepicker-"),this.views[this.currentView]=new e.fn.datepicker.Body(this,this.currentView,this.opts),this.views[this.currentView].show(),this.nav=new e.fn.datepicker.Navigation(this,this.opts),this.view=this.currentView,this.$el.on("clickCell.adp",this._onClickCell.bind(this)),this.$datepicker.on("mouseenter",".datepicker--cell",this._onMouseEnterCell.bind(this)),this.$datepicker.on("mouseleave",".datepicker--cell",this._onMouseLeaveCell.bind(this)),this.inited=!0},_createShortCuts:function(){this.minDate=this.opts.minDate?this.opts.minDate:new Date(-86399999136e5),this.maxDate=this.opts.maxDate?this.opts.maxDate:new Date(86399999136e5)},_bindEvents:function(){this.$el.on(this.opts.showEvent+".adp",this._onShowEvent.bind(this)),this.$el.on("mouseup.adp",this._onMouseUpEl.bind(this)),this.$el.on("blur.adp",this._onBlur.bind(this)),this.$el.on("keyup.adp",this._onKeyUpGeneral.bind(this)),e(t).on("resize.adp",this._onResize.bind(this)),e("body").on("mouseup.adp",this._onMouseUpBody.bind(this))},_bindKeyboardEvents:function(){this.$el.on("keydown.adp",this._onKeyDown.bind(this)),this.$el.on("keyup.adp",this._onKeyUp.bind(this)),this.$el.on("hotKey.adp",this._onHotKey.bind(this))},_bindTimepickerEvents:function(){this.$el.on("timeChange.adp",this._onTimeChange.bind(this))},isWeekend:function(t){return-1!==this.opts.weekends.indexOf(t)},_defineLocale:function(t){"string"==typeof t?(this.loc=e.fn.datepicker.language[t],this.loc||(console.warn("Can't find language \""+t+'" in Datepicker.language, will use "ru" instead'),this.loc=e.extend(!0,{},e.fn.datepicker.language.ru)),this.loc=e.extend(!0,{},e.fn.datepicker.language.ru,e.fn.datepicker.language[t])):this.loc=e.extend(!0,{},e.fn.datepicker.language.ru,t),this.opts.dateFormat&&(this.loc.dateFormat=this.opts.dateFormat),this.opts.timeFormat&&(this.loc.timeFormat=this.opts.timeFormat),""!==this.opts.firstDay&&(this.loc.firstDay=this.opts.firstDay),this.opts.timepicker&&(this.loc.dateFormat=[this.loc.dateFormat,this.loc.timeFormat].join(this.opts.dateTimeSeparator)),this.opts.onlyTimepicker&&(this.loc.dateFormat=this.loc.timeFormat);var i=this._getWordBoundaryRegExp;(this.loc.timeFormat.match(i("aa"))||this.loc.timeFormat.match(i("AA")))&&(this.ampm=!0)},_buildDatepickersContainer:function(){r=!0,s.append('<div class="datepickers-container" id="datepickers-container"></div>'),n=e("#datepickers-container")},_buildBaseHtml:function(){var t,i=e('<div class="datepicker-inline">');t="INPUT"==this.el.nodeName?this.opts.inline?i.insertAfter(this.$el):n:i.appendTo(this.$el),this.$datepicker=e('<div class="datepicker"><i class="datepicker--pointer"></i><nav class="datepicker--nav"></nav><div class="datepicker--content"></div></div>').appendTo(t),this.$content=e(".datepicker--content",this.$datepicker),this.$nav=e(".datepicker--nav",this.$datepicker)},_triggerOnChange:function(){if(!this.selectedDates.length){if(""===this._prevOnSelectValue)return;return this._prevOnSelectValue="",this.opts.onSelect("","",this)}var t,e=this.selectedDates,i=a.getParsedDate(e[0]),s=this,n=new Date(i.year,i.month,i.date,i.hours,i.minutes);t=e.map((function(t){return s.formatDate(s.loc.dateFormat,t)})).join(this.opts.multipleDatesSeparator),(this.opts.multipleDates||this.opts.range)&&(n=e.map((function(t){var e=a.getParsedDate(t);return new Date(e.year,e.month,e.date,e.hours,e.minutes)}))),this._prevOnSelectValue=t,this.opts.onSelect(t,n,this)},next:function(){var t=this.parsedDate,e=this.opts;switch(this.view){case"days":this.date=new Date(t.year,t.month+1,1),e.onChangeMonth&&e.onChangeMonth(this.parsedDate.month,this.parsedDate.year);break;case"months":this.date=new Date(t.year+1,t.month,1),e.onChangeYear&&e.onChangeYear(this.parsedDate.year);break;case"years":this.date=new Date(t.year+10,0,1),e.onChangeDecade&&e.onChangeDecade(this.curDecade)}},prev:function(){var t=this.parsedDate,e=this.opts;switch(this.view){case"days":this.date=new Date(t.year,t.month-1,1),e.onChangeMonth&&e.onChangeMonth(this.parsedDate.month,this.parsedDate.year);break;case"months":this.date=new Date(t.year-1,t.month,1),e.onChangeYear&&e.onChangeYear(this.parsedDate.year);break;case"years":this.date=new Date(t.year-10,0,1),e.onChangeDecade&&e.onChangeDecade(this.curDecade)}},formatDate:function(t,e){e=e||this.date;var i,s=t,n=this._getWordBoundaryRegExp,r=this.loc,o=a.getLeadingZeroNum,c=a.getDecade(e),l=a.getParsedDate(e),h=l.fullHours,u=l.hours,d=t.match(n("aa"))||t.match(n("AA")),p="am",m=this._replacer;switch(this.opts.timepicker&&this.timepicker&&d&&(h=o((i=this.timepicker._getValidHoursFromDate(e,d)).hours),u=i.hours,p=i.dayPeriod),!0){case/@/.test(s):s=s.replace(/@/,e.getTime());case/aa/.test(s):s=m(s,n("aa"),p);case/AA/.test(s):s=m(s,n("AA"),p.toUpperCase());case/dd/.test(s):s=m(s,n("dd"),l.fullDate);case/d/.test(s):s=m(s,n("d"),l.date);case/DD/.test(s):s=m(s,n("DD"),r.days[l.day]);case/D/.test(s):s=m(s,n("D"),r.daysShort[l.day]);case/mm/.test(s):s=m(s,n("mm"),l.fullMonth);case/m/.test(s):s=m(s,n("m"),l.month+1);case/MM/.test(s):s=m(s,n("MM"),this.loc.months[l.month]);case/M/.test(s):s=m(s,n("M"),r.monthsShort[l.month]);case/ii/.test(s):s=m(s,n("ii"),l.fullMinutes);case/i/.test(s):s=m(s,n("i"),l.minutes);case/hh/.test(s):s=m(s,n("hh"),h);case/h/.test(s):s=m(s,n("h"),u);case/yyyy/.test(s):s=m(s,n("yyyy"),l.year);case/yyyy1/.test(s):s=m(s,n("yyyy1"),c[0]);case/yyyy2/.test(s):s=m(s,n("yyyy2"),c[1]);case/yy/.test(s):s=m(s,n("yy"),l.year.toString().slice(-2))}return s},_replacer:function(t,e,i){return t.replace(e,(function(t,e,s,n){return e+i+n}))},_getWordBoundaryRegExp:function(t){var e="\\s|\\.|-|/|\\\\|,|\\$|\\!|\\?|:|;";return new RegExp("(^|>|"+e+")("+t+")($|<|"+e+")","g")},selectDate:function(t){var e=this,i=e.opts,s=e.parsedDate,n=e.selectedDates.length,r="";if(Array.isArray(t))t.forEach((function(t){e.selectDate(t)}));else if(t instanceof Date){if(this.lastSelectedDate=t,this.timepicker&&this.timepicker._setTime(t),e._trigger("selectDate",t),this.timepicker&&(t.setHours(this.timepicker.hours),t.setMinutes(this.timepicker.minutes)),"days"==e.view&&t.getMonth()!=s.month&&i.moveToOtherMonthsOnSelect&&(r=new Date(t.getFullYear(),t.getMonth(),1)),"years"==e.view&&t.getFullYear()!=s.year&&i.moveToOtherYearsOnSelect&&(r=new Date(t.getFullYear(),0,1)),r&&(e.silent=!0,e.date=r,e.silent=!1,e.nav._render()),i.multipleDates&&!i.range){if(n===i.multipleDates)return;e._isSelected(t)||e.selectedDates.push(t)}else i.range?2==n?(e.selectedDates=[t],e.minRange=t,e.maxRange=""):1==n?(e.selectedDates.push(t),e.maxRange?e.minRange=t:e.maxRange=t,a.bigger(e.maxRange,e.minRange)&&(e.maxRange=e.minRange,e.minRange=t),e.selectedDates=[e.minRange,e.maxRange]):(e.selectedDates=[t],e.minRange=t):e.selectedDates=[t];e._setInputValue(),i.onSelect&&e._triggerOnChange(),i.autoClose&&!this.timepickerIsActive&&(i.multipleDates||i.range?i.range&&2==e.selectedDates.length&&e.hide():e.hide()),e.views[this.currentView]._render()}},removeDate:function(t){var e=this.selectedDates,i=this;if(t instanceof Date)return e.some((function(s,n){if(a.isSame(s,t))return e.splice(n,1),i.selectedDates.length?i.lastSelectedDate=i.selectedDates[i.selectedDates.length-1]:(i.minRange="",i.maxRange="",i.lastSelectedDate=""),i.views[i.currentView]._render(),i._setInputValue(),i.opts.onSelect&&i._triggerOnChange(),!0}))},today:function(){this.silent=!0,this.view=this.opts.minView,this.silent=!1,this.date=new Date,this.opts.todayButton instanceof Date&&this.selectDate(this.opts.todayButton)},clear:function(){this.selectedDates=[],this.minRange="",this.maxRange="",this.views[this.currentView]._render(),this._setInputValue(),this.opts.onSelect&&this._triggerOnChange()},update:function(t,i){var s=arguments.length,n=this.lastSelectedDate;return 2==s?this.opts[t]=i:1==s&&"object"==typeof t&&(this.opts=e.extend(!0,this.opts,t)),this._createShortCuts(),this._syncWithMinMaxDates(),this._defineLocale(this.opts.language),this.nav._addButtonsIfNeed(),this.opts.onlyTimepicker||this.nav._render(),this.views[this.currentView]._render(),this.elIsInput&&!this.opts.inline&&(this._setPositionClasses(this.opts.position),this.visible&&this.setPosition(this.opts.position)),this.opts.classes&&this.$datepicker.addClass(this.opts.classes),this.opts.onlyTimepicker&&this.$datepicker.addClass("-only-timepicker-"),this.opts.timepicker&&(n&&this.timepicker._handleDate(n),this.timepicker._updateRanges(),this.timepicker._updateCurrentTime(),n&&(n.setHours(this.timepicker.hours),n.setMinutes(this.timepicker.minutes))),this._setInputValue(),this},_syncWithMinMaxDates:function(){var t=this.date.getTime();this.silent=!0,this.minTime>t&&(this.date=this.minDate),this.maxTime<t&&(this.date=this.maxDate),this.silent=!1},_isSelected:function(t,e){var i=!1;return this.selectedDates.some((function(s){if(a.isSame(s,t,e))return i=s,!0})),i},_setInputValue:function(){var t,e=this,i=e.opts,s=e.loc.dateFormat,n=i.altFieldDateFormat,a=e.selectedDates.map((function(t){return e.formatDate(s,t)}));i.altField&&e.$altField.length&&(t=(t=this.selectedDates.map((function(t){return e.formatDate(n,t)}))).join(this.opts.multipleDatesSeparator),this.$altField.val(t)),a=a.join(this.opts.multipleDatesSeparator),this.$el.val(a)},_isInRange:function(t,e){var i=t.getTime(),s=a.getParsedDate(t),n=a.getParsedDate(this.minDate),r=a.getParsedDate(this.maxDate),o=new Date(s.year,s.month,n.date).getTime(),c=new Date(s.year,s.month,r.date).getTime(),l={day:i>=this.minTime&&i<=this.maxTime,month:o>=this.minTime&&c<=this.maxTime,year:s.year>=n.year&&s.year<=r.year};return e?l[e]:l.day},_getDimensions:function(t){var e=t.offset();return{width:t.outerWidth(),height:t.outerHeight(),left:e.left,top:e.top}},_getDateFromCell:function(t){var e=this.parsedDate,i=t.data("year")||e.year,s=null==t.data("month")?e.month:t.data("month"),n=t.data("date")||1;return new Date(i,s,n)},_setPositionClasses:function(t){var e=(t=t.split(" "))[0],i="datepicker -"+e+"-"+t[1]+"- -from-"+e+"-";this.visible&&(i+=" active"),this.$datepicker.removeAttr("class").addClass(i)},setPosition:function(t){t=t||this.opts.position;var e,i,s=this._getDimensions(this.$el),n=this._getDimensions(this.$datepicker),a=t.split(" "),r=this.opts.offset,o=a[0],c=a[1];switch(o){case"top":e=s.top-n.height-r;break;case"right":i=s.left+s.width+r;break;case"bottom":e=s.top+s.height+r;break;case"left":i=s.left-n.width-r}switch(c){case"top":e=s.top;break;case"right":i=s.left+s.width-n.width;break;case"bottom":e=s.top+s.height-n.height;break;case"left":i=s.left;break;case"center":/left|right/.test(o)?e=s.top+s.height/2-n.height/2:i=s.left+s.width/2-n.width/2}this.$datepicker.css({left:i,top:e})},show:function(){var t=this.opts.onShow;this.setPosition(this.opts.position),this.$datepicker.addClass("active"),this.visible=!0,t&&this._bindVisionEvents(t)},hide:function(){var t=this.opts.onHide;this.$datepicker.removeClass("active").css({left:"-100000px"}),this.focused="",this.keys=[],this.inFocus=!1,this.visible=!1,this.$el.blur(),t&&this._bindVisionEvents(t)},down:function(t){this._changeView(t,"down")},up:function(t){this._changeView(t,"up")},_bindVisionEvents:function(t){this.$datepicker.off("transitionend.dp"),t(this,!1),this.$datepicker.one("transitionend.dp",t.bind(this,this,!0))},_changeView:function(t,e){t=t||this.focused||this.date;var i="up"==e?this.viewIndex+1:this.viewIndex-1;i>2&&(i=2),i<0&&(i=0),this.silent=!0,this.date=new Date(t.getFullYear(),t.getMonth(),1),this.silent=!1,this.view=this.viewIndexes[i]},_handleHotKey:function(t){var e,i,s,n=a.getParsedDate(this._getFocusedDate()),r=this.opts,o=!1,c=!1,l=!1,h=n.year,u=n.month,d=n.date;switch(t){case"ctrlRight":case"ctrlUp":u+=1,o=!0;break;case"ctrlLeft":case"ctrlDown":u-=1,o=!0;break;case"shiftRight":case"shiftUp":c=!0,h+=1;break;case"shiftLeft":case"shiftDown":c=!0,h-=1;break;case"altRight":case"altUp":l=!0,h+=10;break;case"altLeft":case"altDown":l=!0,h-=10;break;case"ctrlShiftUp":this.up()}s=a.getDaysCount(new Date(h,u)),i=new Date(h,u,d),s<d&&(d=s),i.getTime()<this.minTime?i=this.minDate:i.getTime()>this.maxTime&&(i=this.maxDate),this.focused=i,e=a.getParsedDate(i),o&&r.onChangeMonth&&r.onChangeMonth(e.month,e.year),c&&r.onChangeYear&&r.onChangeYear(e.year),l&&r.onChangeDecade&&r.onChangeDecade(this.curDecade)},_registerKey:function(t){this.keys.some((function(e){return e==t}))||this.keys.push(t)},_unRegisterKey:function(t){var e=this.keys.indexOf(t);this.keys.splice(e,1)},_isHotKeyPressed:function(){var t,e=!1,i=this.keys.sort();for(var s in c)t=c[s],i.length==t.length&&t.every((function(t,e){return t==i[e]}))&&(this._trigger("hotKey",s),e=!0);return e},_trigger:function(t,e){this.$el.trigger(t,e)},_focusNextCell:function(t,e){e=e||this.cellType;var i=a.getParsedDate(this._getFocusedDate()),s=i.year,n=i.month,r=i.date;if(!this._isHotKeyPressed()){switch(t){case 37:"day"==e&&(r-=1),"month"==e&&(n-=1),"year"==e&&(s-=1);break;case 38:"day"==e&&(r-=7),"month"==e&&(n-=3),"year"==e&&(s-=4);break;case 39:"day"==e&&(r+=1),"month"==e&&(n+=1),"year"==e&&(s+=1);break;case 40:"day"==e&&(r+=7),"month"==e&&(n+=3),"year"==e&&(s+=4)}var o=new Date(s,n,r);o.getTime()<this.minTime?o=this.minDate:o.getTime()>this.maxTime&&(o=this.maxDate),this.focused=o}},_getFocusedDate:function(){var t=this.focused||this.selectedDates[this.selectedDates.length-1],e=this.parsedDate;if(!t)switch(this.view){case"days":t=new Date(e.year,e.month,(new Date).getDate());break;case"months":t=new Date(e.year,e.month,1);break;case"years":t=new Date(e.year,0,1)}return t},_getCell:function(t,i){i=i||this.cellType;var s,n=a.getParsedDate(t),r='.datepicker--cell[data-year="'+n.year+'"]';switch(i){case"month":r='[data-month="'+n.month+'"]';break;case"day":r+='[data-month="'+n.month+'"][data-date="'+n.date+'"]'}return(s=this.views[this.currentView].$el.find(r)).length?s:e("")},destroy:function(){this.$el.off(".adp").data("datepicker",""),this.selectedDates=[],this.focused="",this.views={},this.keys=[],this.minRange="",this.maxRange="",this.opts.inline||!this.elIsInput?this.$datepicker.closest(".datepicker-inline").remove():this.$datepicker.remove()},_handleAlreadySelectedDates:function(t,e){this.opts.range?this.opts.toggleSelected?this.removeDate(e):2!=this.selectedDates.length&&this._trigger("clickCell",e):this.opts.toggleSelected&&this.removeDate(e),this.opts.toggleSelected||(this.lastSelectedDate=t,this.opts.timepicker&&(this.timepicker._setTime(t),this.timepicker.update()))},_onShowEvent:function(t){this.visible||this.show()},_onBlur:function(){!this.inFocus&&this.visible&&this.hide()},_onMouseDownDatepicker:function(t){this.inFocus=!0},_onMouseUpDatepicker:function(t){this.inFocus=!1,t.originalEvent.inFocus=!0,t.originalEvent.timepickerFocus||this.$el.focus()},_onKeyUpGeneral:function(t){this.$el.val()||this.clear()},_onResize:function(){this.visible&&this.setPosition()},_onMouseUpBody:function(t){t.originalEvent.inFocus||this.visible&&!this.inFocus&&this.hide()},_onMouseUpEl:function(t){t.originalEvent.inFocus=!0,setTimeout(this._onKeyUpGeneral.bind(this),4)},_onKeyDown:function(t){var e=t.which;if(this._registerKey(e),e>=37&&e<=40&&(t.preventDefault(),this._focusNextCell(e)),13==e&&this.focused){if(this._getCell(this.focused).hasClass("-disabled-"))return;if(this.view!=this.opts.minView)this.down();else{var i=this._isSelected(this.focused,this.cellType);if(!i)return this.timepicker&&(this.focused.setHours(this.timepicker.hours),this.focused.setMinutes(this.timepicker.minutes)),void this.selectDate(this.focused);this._handleAlreadySelectedDates(i,this.focused)}}27==e&&this.hide()},_onKeyUp:function(t){var e=t.which;this._unRegisterKey(e)},_onHotKey:function(t,e){this._handleHotKey(e)},_onMouseEnterCell:function(t){var i=e(t.target).closest(".datepicker--cell"),s=this._getDateFromCell(i);this.silent=!0,this.focused&&(this.focused=""),i.addClass("-focus-"),this.focused=s,this.silent=!1,this.opts.range&&1==this.selectedDates.length&&(this.minRange=this.selectedDates[0],this.maxRange="",a.less(this.minRange,this.focused)&&(this.maxRange=this.minRange,this.minRange=""),this.views[this.currentView]._update())},_onMouseLeaveCell:function(t){e(t.target).closest(".datepicker--cell").removeClass("-focus-"),this.silent=!0,this.focused="",this.silent=!1},_onTimeChange:function(t,e,i){var s=new Date,n=!1;this.selectedDates.length&&(n=!0,s=this.lastSelectedDate),s.setHours(e),s.setMinutes(i),n||this._getCell(s).hasClass("-disabled-")?(this._setInputValue(),this.opts.onSelect&&this._triggerOnChange()):this.selectDate(s)},_onClickCell:function(t,e){this.timepicker&&(e.setHours(this.timepicker.hours),e.setMinutes(this.timepicker.minutes)),this.selectDate(e)},set focused(t){if(!t&&this.focused){var e=this._getCell(this.focused);e.length&&e.removeClass("-focus-")}this._focused=t,this.opts.range&&1==this.selectedDates.length&&(this.minRange=this.selectedDates[0],this.maxRange="",a.less(this.minRange,this._focused)&&(this.maxRange=this.minRange,this.minRange="")),this.silent||(this.date=t)},get focused(){return this._focused},get parsedDate(){return a.getParsedDate(this.date)},set date(t){if(t instanceof Date)return this.currentDate=t,this.inited&&!this.silent&&(this.views[this.view]._render(),this.nav._render(),this.visible&&this.elIsInput&&this.setPosition()),t},get date(){return this.currentDate},set view(t){if(this.viewIndex=this.viewIndexes.indexOf(t),!(this.viewIndex<0))return this.prevView=this.currentView,this.currentView=t,this.inited&&(this.views[t]?this.views[t]._render():this.views[t]=new e.fn.datepicker.Body(this,t,this.opts),this.views[this.prevView].hide(),this.views[t].show(),this.nav._render(),this.opts.onChangeView&&this.opts.onChangeView(t),this.elIsInput&&this.visible&&this.setPosition()),t},get view(){return this.currentView},get cellType(){return this.view.substring(0,this.view.length-1)},get minTime(){var t=a.getParsedDate(this.minDate);return new Date(t.year,t.month,t.date).getTime()},get maxTime(){var t=a.getParsedDate(this.maxDate);return new Date(t.year,t.month,t.date).getTime()},get curDecade(){return a.getDecade(this.date)}},a.getDaysCount=function(t){return new Date(t.getFullYear(),t.getMonth()+1,0).getDate()},a.getParsedDate=function(t){return{year:t.getFullYear(),month:t.getMonth(),fullMonth:t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,date:t.getDate(),fullDate:t.getDate()<10?"0"+t.getDate():t.getDate(),day:t.getDay(),hours:t.getHours(),fullHours:t.getHours()<10?"0"+t.getHours():t.getHours(),minutes:t.getMinutes(),fullMinutes:t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes()}},a.getDecade=function(t){var e=10*Math.floor(t.getFullYear()/10);return[e,e+9]},a.template=function(t,e){return t.replace(/#\{([\w]+)\}/g,(function(t,i){if(e[i]||0===e[i])return e[i]}))},a.isSame=function(t,e,i){if(!t||!e)return!1;var s=a.getParsedDate(t),n=a.getParsedDate(e),r=i||"day";return{day:s.date==n.date&&s.month==n.month&&s.year==n.year,month:s.month==n.month&&s.year==n.year,year:s.year==n.year}[r]},a.less=function(t,e,i){return!(!t||!e)&&e.getTime()<t.getTime()},a.bigger=function(t,e,i){return!(!t||!e)&&e.getTime()>t.getTime()},a.getLeadingZeroNum=function(t){return parseInt(t)<10?"0"+t:t},a.resetTime=function(t){if("object"==typeof t)return t=a.getParsedDate(t),new Date(t.year,t.month,t.date)},e.fn.datepicker=function(t){return this.each((function(){if(e.data(this,"datepicker")){var i=e.data(this,"datepicker");i.opts=e.extend(!0,i.opts,t),i.update()}else e.data(this,"datepicker",new l(this,t))}))},e.fn.datepicker.Constructor=l,e.fn.datepicker.language={ru:{days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],daysShort:["Вос","Пон","Вто","Сре","Чет","Пят","Суб"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",clear:"Очистить",dateFormat:"dd.mm.yyyy",timeFormat:"hh:ii",firstDay:1}},e((function(){e(".datepicker-here").datepicker()})),function(){var t={days:'<div class="datepicker--days datepicker--body"><div class="datepicker--days-names"></div><div class="datepicker--cells datepicker--cells-days"></div></div>',months:'<div class="datepicker--months datepicker--body"><div class="datepicker--cells datepicker--cells-months"></div></div>',years:'<div class="datepicker--years datepicker--body"><div class="datepicker--cells datepicker--cells-years"></div></div>'},i=e.fn.datepicker,s=i.Constructor;i.Body=function(t,i,s){this.d=t,this.type=i,this.opts=s,this.$el=e(""),this.opts.onlyTimepicker||this.init()},i.Body.prototype={init:function(){this._buildBaseHtml(),this._render(),this._bindEvents()},_bindEvents:function(){this.$el.on("click",".datepicker--cell",e.proxy(this._onClickCell,this))},_buildBaseHtml:function(){this.$el=e(t[this.type]).appendTo(this.d.$content),this.$names=e(".datepicker--days-names",this.$el),this.$cells=e(".datepicker--cells",this.$el)},_getDayNamesHtml:function(t,e,i,s){return i=i||"",(s=null!=s?s:0)>7?i:7==(e=null!=e?e:t)?this._getDayNamesHtml(t,0,i,++s):(i+='<div class="datepicker--day-name'+(this.d.isWeekend(e)?" -weekend-":"")+'">'+this.d.loc.daysMin[e]+"</div>",this._getDayNamesHtml(t,++e,i,++s))},_getCellContents:function(t,e){var i="datepicker--cell datepicker--cell-"+e,n=new Date,a=this.d,r=s.resetTime(a.minRange),o=s.resetTime(a.maxRange),c=a.opts,l=s.getParsedDate(t),h={},u=l.date;switch(e){case"day":a.isWeekend(l.day)&&(i+=" -weekend-"),l.month!=this.d.parsedDate.month&&(i+=" -other-month-",c.selectOtherMonths||(i+=" -disabled-"),c.showOtherMonths||(u=""));break;case"month":u=a.loc[a.opts.monthsField][l.month];break;case"year":var d=a.curDecade;u=l.year,(l.year<d[0]||l.year>d[1])&&(i+=" -other-decade-",c.selectOtherYears||(i+=" -disabled-"),c.showOtherYears||(u=""))}return c.onRenderCell&&(u=(h=c.onRenderCell(t,e)||{}).html?h.html:u,i+=h.classes?" "+h.classes:""),c.range&&(s.isSame(r,t,e)&&(i+=" -range-from-"),s.isSame(o,t,e)&&(i+=" -range-to-"),1==a.selectedDates.length&&a.focused?((s.bigger(r,t)&&s.less(a.focused,t)||s.less(o,t)&&s.bigger(a.focused,t))&&(i+=" -in-range-"),s.less(o,t)&&s.isSame(a.focused,t)&&(i+=" -range-from-"),s.bigger(r,t)&&s.isSame(a.focused,t)&&(i+=" -range-to-")):2==a.selectedDates.length&&s.bigger(r,t)&&s.less(o,t)&&(i+=" -in-range-")),s.isSame(n,t,e)&&(i+=" -current-"),a.focused&&s.isSame(t,a.focused,e)&&(i+=" -focus-"),a._isSelected(t,e)&&(i+=" -selected-"),a._isInRange(t,e)&&!h.disabled||(i+=" -disabled-"),{html:u,classes:i}},_getDaysHtml:function(t){for(var e,i,n=s.getDaysCount(t),a=new Date(t.getFullYear(),t.getMonth(),1).getDay(),r=new Date(t.getFullYear(),t.getMonth(),n).getDay(),o=a-this.d.loc.firstDay,c=6-r+this.d.loc.firstDay,l="",h=1-(o=o<0?o+7:o),u=n+(c=c>6?c-7:c);h<=u;h++)i=t.getFullYear(),e=t.getMonth(),l+=this._getDayHtml(new Date(i,e,h));return l},_getDayHtml:function(t){var e=this._getCellContents(t,"day");return'<div class="'+e.classes+'" data-date="'+t.getDate()+'" data-month="'+t.getMonth()+'" data-year="'+t.getFullYear()+'">'+e.html+"</div>"},_getMonthsHtml:function(t){for(var e="",i=s.getParsedDate(t),n=0;n<12;)e+=this._getMonthHtml(new Date(i.year,n)),n++;return e},_getMonthHtml:function(t){var e=this._getCellContents(t,"month");return'<div class="'+e.classes+'" data-month="'+t.getMonth()+'">'+e.html+"</div>"},_getYearsHtml:function(t){s.getParsedDate(t);for(var e=s.getDecade(t),i="",n=e[0]-1;n<=e[1]+1;n++)i+=this._getYearHtml(new Date(n,0));return i},_getYearHtml:function(t){var e=this._getCellContents(t,"year");return'<div class="'+e.classes+'" data-year="'+t.getFullYear()+'">'+e.html+"</div>"},_renderTypes:{days:function(){var t=this._getDayNamesHtml(this.d.loc.firstDay),e=this._getDaysHtml(this.d.currentDate);this.$cells.html(e),this.$names.html(t)},months:function(){var t=this._getMonthsHtml(this.d.currentDate);this.$cells.html(t)},years:function(){var t=this._getYearsHtml(this.d.currentDate);this.$cells.html(t)}},_render:function(){this.opts.onlyTimepicker||this._renderTypes[this.type].bind(this)()},_update:function(){var t,i,s,n=e(".datepicker--cell",this.$cells),a=this;n.each((function(n,r){i=e(this),s=a.d._getDateFromCell(e(this)),t=a._getCellContents(s,a.d.cellType),i.attr("class",t.classes)}))},show:function(){this.opts.onlyTimepicker||(this.$el.addClass("active"),this.acitve=!0)},hide:function(){this.$el.removeClass("active"),this.active=!1},_handleClick:function(t){var e=t.data("date")||1,i=t.data("month")||0,s=t.data("year")||this.d.parsedDate.year,n=this.d;if(n.view==this.opts.minView){var a=new Date(s,i,e),r=this.d._isSelected(a,this.d.cellType);r?n._handleAlreadySelectedDates.bind(n,r,a)():n._trigger("clickCell",a)}else n.down(new Date(s,i,e))},_onClickCell:function(t){var i=e(t.target).closest(".datepicker--cell");i.hasClass("-disabled-")||this._handleClick.bind(this)(i)}}}(),function(){var t=e.fn.datepicker,i=t.Constructor;t.Navigation=function(t,e){this.d=t,this.opts=e,this.$buttonsContainer="",this.init()},t.Navigation.prototype={init:function(){this._buildBaseHtml(),this._bindEvents()},_bindEvents:function(){this.d.$nav.on("click",".datepicker--nav-action",e.proxy(this._onClickNavButton,this)),this.d.$nav.on("click",".datepicker--nav-title",e.proxy(this._onClickNavTitle,this)),this.d.$datepicker.on("click",".datepicker--button",e.proxy(this._onClickNavButton,this))},_buildBaseHtml:function(){this.opts.onlyTimepicker||this._render(),this._addButtonsIfNeed()},_addButtonsIfNeed:function(){this.opts.todayButton&&this._addButton("today"),this.opts.clearButton&&this._addButton("clear")},_render:function(){var t=this._getTitle(this.d.currentDate),s=i.template('<div class="datepicker--nav-action" data-action="prev">#{prevHtml}</div><div class="datepicker--nav-title">#{title}</div><div class="datepicker--nav-action" data-action="next">#{nextHtml}</div>',e.extend({title:t},this.opts));this.d.$nav.html(s),"years"==this.d.view&&e(".datepicker--nav-title",this.d.$nav).addClass("-disabled-"),this.setNavStatus()},_getTitle:function(t){return this.d.formatDate(this.opts.navTitles[this.d.view],t)},_addButton:function(t){this.$buttonsContainer.length||this._addButtonsContainer();var s={action:t,label:this.d.loc[t]},n=i.template('<span class="datepicker--button" data-action="#{action}">#{label}</span>',s);e("[data-action="+t+"]",this.$buttonsContainer).length||this.$buttonsContainer.append(n)},_addButtonsContainer:function(){this.d.$datepicker.append('<div class="datepicker--buttons"></div>'),this.$buttonsContainer=e(".datepicker--buttons",this.d.$datepicker)},setNavStatus:function(){if((this.opts.minDate||this.opts.maxDate)&&this.opts.disableNavWhenOutOfRange){var t=this.d.parsedDate,e=t.month,s=t.year,n=t.date;switch(this.d.view){case"days":this.d._isInRange(new Date(s,e-1,1),"month")||this._disableNav("prev"),this.d._isInRange(new Date(s,e+1,1),"month")||this._disableNav("next");break;case"months":this.d._isInRange(new Date(s-1,e,n),"year")||this._disableNav("prev"),this.d._isInRange(new Date(s+1,e,n),"year")||this._disableNav("next");break;case"years":var a=i.getDecade(this.d.date);this.d._isInRange(new Date(a[0]-1,0,1),"year")||this._disableNav("prev"),this.d._isInRange(new Date(a[1]+1,0,1),"year")||this._disableNav("next")}}},_disableNav:function(t){e('[data-action="'+t+'"]',this.d.$nav).addClass("-disabled-")},_activateNav:function(t){e('[data-action="'+t+'"]',this.d.$nav).removeClass("-disabled-")},_onClickNavButton:function(t){var i=e(t.target).closest("[data-action]").data("action");this.d[i]()},_onClickNavTitle:function(t){if(!e(t.target).hasClass("-disabled-"))return"days"==this.d.view?this.d.view="months":void(this.d.view="years")}}}(),function(){var t=e.fn.datepicker,i=t.Constructor;t.Timepicker=function(t,e){this.d=t,this.opts=e,this.init()},t.Timepicker.prototype={init:function(){var t="input";this._setTime(this.d.date),this._buildHTML(),navigator.userAgent.match(/trident/gi)&&(t="change"),this.d.$el.on("selectDate",this._onSelectDate.bind(this)),this.$ranges.on(t,this._onChangeRange.bind(this)),this.$ranges.on("mouseup",this._onMouseUpRange.bind(this)),this.$ranges.on("mousemove focus ",this._onMouseEnterRange.bind(this)),this.$ranges.on("mouseout blur",this._onMouseOutRange.bind(this))},_setTime:function(t){var e=i.getParsedDate(t);this._handleDate(t),this.hours=e.hours<this.minHours?this.minHours:e.hours,this.minutes=e.minutes<this.minMinutes?this.minMinutes:e.minutes},_setMinTimeFromDate:function(t){this.minHours=t.getHours(),this.minMinutes=t.getMinutes(),this.d.lastSelectedDate&&this.d.lastSelectedDate.getHours()>t.getHours()&&(this.minMinutes=this.opts.minMinutes)},_setMaxTimeFromDate:function(t){this.maxHours=t.getHours(),this.maxMinutes=t.getMinutes(),this.d.lastSelectedDate&&this.d.lastSelectedDate.getHours()<t.getHours()&&(this.maxMinutes=this.opts.maxMinutes)},_setDefaultMinMaxTime:function(){var t=this.opts;this.minHours=t.minHours<0||t.minHours>23?0:t.minHours,this.minMinutes=t.minMinutes<0||t.minMinutes>59?0:t.minMinutes,this.maxHours=t.maxHours<0||t.maxHours>23?23:t.maxHours,this.maxMinutes=t.maxMinutes<0||t.maxMinutes>59?59:t.maxMinutes},_validateHoursMinutes:function(t){this.hours<this.minHours?this.hours=this.minHours:this.hours>this.maxHours&&(this.hours=this.maxHours),this.minutes<this.minMinutes?this.minutes=this.minMinutes:this.minutes>this.maxMinutes&&(this.minutes=this.maxMinutes)},_buildHTML:function(){var t=i.getLeadingZeroNum,s={hourMin:this.minHours,hourMax:t(this.maxHours),hourStep:this.opts.hoursStep,hourValue:this.hours,hourVisible:t(this.displayHours),minMin:this.minMinutes,minMax:t(this.maxMinutes),minStep:this.opts.minutesStep,minValue:t(this.minutes)},n=i.template('<div class="datepicker--time"><div class="datepicker--time-current">   <span class="datepicker--time-current-hours">#{hourVisible}</span>   <span class="datepicker--time-current-colon">:</span>   <span class="datepicker--time-current-minutes">#{minValue}</span></div><div class="datepicker--time-sliders">   <div class="datepicker--time-row">      <input type="range" name="hours" value="#{hourValue}" min="#{hourMin}" max="#{hourMax}" step="#{hourStep}"/>   </div>   <div class="datepicker--time-row">      <input type="range" name="minutes" value="#{minValue}" min="#{minMin}" max="#{minMax}" step="#{minStep}"/>   </div></div></div>',s);this.$timepicker=e(n).appendTo(this.d.$datepicker),this.$ranges=e('[type="range"]',this.$timepicker),this.$hours=e('[name="hours"]',this.$timepicker),this.$minutes=e('[name="minutes"]',this.$timepicker),this.$hoursText=e(".datepicker--time-current-hours",this.$timepicker),this.$minutesText=e(".datepicker--time-current-minutes",this.$timepicker),this.d.ampm&&(this.$ampm=e('<span class="datepicker--time-current-ampm">').appendTo(e(".datepicker--time-current",this.$timepicker)).html(this.dayPeriod),this.$timepicker.addClass("-am-pm-"))},_updateCurrentTime:function(){var t=i.getLeadingZeroNum(this.displayHours),e=i.getLeadingZeroNum(this.minutes);this.$hoursText.html(t),this.$minutesText.html(e),this.d.ampm&&this.$ampm.html(this.dayPeriod)},_updateRanges:function(){this.$hours.attr({min:this.minHours,max:this.maxHours}).val(this.hours),this.$minutes.attr({min:this.minMinutes,max:this.maxMinutes}).val(this.minutes)},_handleDate:function(t){this._setDefaultMinMaxTime(),t&&(i.isSame(t,this.d.opts.minDate)?this._setMinTimeFromDate(this.d.opts.minDate):i.isSame(t,this.d.opts.maxDate)&&this._setMaxTimeFromDate(this.d.opts.maxDate)),this._validateHoursMinutes(t)},update:function(){this._updateRanges(),this._updateCurrentTime()},_getValidHoursFromDate:function(t,e){var s=t;t instanceof Date&&(s=i.getParsedDate(t).hours);var n="am";if(e||this.d.ampm)switch(!0){case 0==s:s=12;break;case 12==s:n="pm";break;case s>11:s-=12,n="pm"}return{hours:s,dayPeriod:n}},set hours(t){this._hours=t;var e=this._getValidHoursFromDate(t);this.displayHours=e.hours,this.dayPeriod=e.dayPeriod},get hours(){return this._hours},_onChangeRange:function(t){var i=e(t.target),s=i.attr("name");this.d.timepickerIsActive=!0,this[s]=i.val(),this._updateCurrentTime(),this.d._trigger("timeChange",[this.hours,this.minutes]),this._handleDate(this.d.lastSelectedDate),this.update()},_onSelectDate:function(t,e){this._handleDate(e),this.update()},_onMouseEnterRange:function(t){var i=e(t.target).attr("name");e(".datepicker--time-current-"+i,this.$timepicker).addClass("-focus-")},_onMouseOutRange:function(t){var i=e(t.target).attr("name");this.d.inFocus||e(".datepicker--time-current-"+i,this.$timepicker).removeClass("-focus-")},_onMouseUpRange:function(t){this.d.timepickerIsActive=!1}}}()}(window,jQuery)},function(t,e){try{const t=$(".js-datepicker-2f__input-field").datepicker().data("datepicker"),e=$(".js-datepicker-2f__out-date-field"),i=$(".js-datepicker-2f__input-field");i.datepicker({onSelect:t=>{let s=t.match(/.+?(?=\s|$)/)?t.match(/.+?(?=\s|$)/)[0]:"",n=t.match(/(?<=\s-\s).+/)?t.match(/(?<=\s-\s).+/)[0]:"";i.val(s),e.val(n)}}),i.datepicker({clearButton:!0}),i.datepicker({todayButton:!0}),i.datepicker({prevHtml:'<i class = "db-arrow material-icons">arrow_back</i>'}),i.datepicker({nextHtml:'<i class = "db-arrow material-icons">arrow_forward</i>'});const s=$(".datepicker--button[data-action='today']");s.html("Применить"),s.click(()=>t.hide()),$(".js-wrapper-input").click(()=>t.show())}catch{console.log("Something wrong with datepicker-2f")}},function(t,e){try{const t=function(t){return"Сколько гостей"===t.innerHTML.split("<span")[0]||"Гостей"===t.innerHTML.split(" ")[0]},e=function(t){return"Выберите удобства"==t.innerHTML.split("<span")[0]||"Спален"==t.innerHTML.split(" ")[0]},i=function(i,s){const n='<span class = "material-icons">expand_more</span>';if(t(s)){let t=parseInt(i.item(0).innerHTML)+parseInt(i.item(1).innerHTML),e=parseInt(i.item(2).innerHTML);s.innerHTML=0!==e?`Гостей - ${t.toString()}, младенцев - ${e.toString()}<span class = "material-icons">expand_more</span>`:0===t?"Сколько гостей"+n:"Гостей - "+t.toString()+n}else if(e(s)){let t=parseInt(i.item(0).innerHTML),e=parseInt(i.item(1).innerHTML);s.innerHTML=0!==e?`Спален - ${t.toString()}, кроватей - ${e.toString()} ...`:0===t?"Выберите удобства":`Спален - ${t.toString()}, спать на коврике ...`}},s=document.getElementsByClassName("js-dropdown__minus");Array.from(s,t=>{t.onclick=()=>{let e=t.nextSibling.innerHTML;if("0"!==e){let i=parseInt(e)-1;t.nextSibling.innerHTML=i.toString()}}});const n=document.getElementsByClassName("js-dropdown__plus");Array.from(n,t=>{t.onclick=()=>{let e=t.previousSibling.previousSibling.innerHTML,i=parseInt(e)+1;t.previousSibling.previousSibling.innerHTML=i.toString()}});const a=document.getElementsByClassName("js-dropdown__clear");Array.from(a,t=>{t.onclick=()=>{t.parentNode.parentNode.querySelectorAll(".js-dropdown__quantity").forEach(t=>t.innerHTML="0")}});const r=document.getElementsByClassName("js-dropdown__apply");Array.from(r,t=>{let e=t.parentNode.parentNode.querySelector(".js-dropdown__field"),s=t.parentNode.parentNode.querySelectorAll(".js-dropdown__quantity");t.onclick=()=>{i(s,e),t.parentNode.parentNode.querySelector(".js-dropdown__ul").classList.remove("dropdown__ul_active"),t.parentNode.parentNode.querySelector(".dropdown__field_active").classList.remove("dropdown__field_active"),t.parentNode.parentNode.querySelector(".js-dropdown__buttons").classList.remove("dropdown__buttons_active")}});const o=document.getElementsByClassName("js-dropdown__field");Array.from(o,t=>{t.onclick=()=>{let e=t.parentNode.querySelectorAll(".js-dropdown__quantity");i(e,t),t.parentNode.querySelector(".js-dropdown__ul").classList.toggle("dropdown__ul_active"),t.classList.toggle("dropdown__field_active"),t.parentNode.querySelector(".js-dropdown__buttons").classList.contains("dropdown__buttons_none")||t.parentNode.querySelector(".js-dropdown__buttons").classList.toggle("dropdown__buttons_active")}})}catch{console.log("There are no dropdowns")}},function(t,e){try{const t=document.getElementsByClassName("appartment-form__dropdown-title");for(let e of t)e.onclick=()=>{const t=e.parentNode.querySelector("span.material-icons");e.parentNode.querySelector(".appartment-form__checkboxes").classList.toggle("appartment-form__checkboxes_dissappear"),t.classList.toggle("appartment-form__expand-butt_rotate")}}catch{console.log("There is no dropdown menu.")}},function(t,e,i){try{const t=i(0),e=document.getElementById("slider");t.create(e,{start:[2e3,8e3],connect:!0,step:100,range:{min:0,max:15e3}}),e.noUiSlider.on("update",()=>{let t=e.noUiSlider.get()[0].match(/.+(?=\.00)/)[0].replace(/(\d+)(\d{3}$)/,"$1 $2₽"),i=e.noUiSlider.get()[1].match(/.+(?=\.00)/)[0].replace(/(\d+)(\d{3}$)/,"$1 $2₽");document.getElementById("form-price").innerHTML=`${t} - ${i}`})}catch{console.log("There is no uislider.")}},function(t,e){const i=$(".datepicker-1f .datepicker-1f__input-field").datepicker().data("datepicker"),s=$(".datepicker-1f .datepicker-1f__input-field");s.datepicker({onSelect:t=>{let e="";if(t.split(" - ").length>1){let i=t.split(" - ");i=i.map(t=>t.match(/\d{2}\s[а-яА-Я]{3}/)[0]),e=i.join(" - ")}else e=t.match(/\d{2}\s[а-яА-Я]{3}/)[0];s.val(e)}}),s.datepicker({clearButton:!0}),s.datepicker({todayButton:!0}),s.datepicker({dateFormat:"dd MM"}),s.datepicker({prevHtml:'<i class = "db-arrow material-icons">arrow_back</i>'}),s.datepicker({nextHtml:'<i class = "db-arrow material-icons">arrow_forward</i>'});let n=$(".datepicker--button[data-action='today']");n.html("Применить"),n.click(()=>i.hide()),$(".datepicker-1f__wrapper-input-field").click(()=>i.show())},function(t,e,i){"use strict";i.r(e);i(1),i(2),i(10),i(11),i(12),i(13),i.p,i.p,i.p,i.p,i.p,i.p,i.p,i.p,i.p,i.p,i.p,i.p,i.p,i(14),i(0),i(15),i(16),i.p,i.p,i.p,i.p,i.p,i.p;const s=document.querySelector(".js-in-butt"),n=document.querySelector(".js-reg-butt"),a=document.querySelector(".js-in-form"),r=document.querySelector(".js-reg-form");s.onclick=()=>{try{r.classList.add("wrapper-registration-form_hidden"),a.classList.add("wrapper-in-form_visibled")}catch{console.log("There are no reg and(or) sign-in forms")}},n.onclick=()=>{try{r.classList.remove("wrapper-registration-form_hidden"),a.classList.remove("wrapper-in-form_visibled")}catch{console.log("There are no reg and(or) sign-in forms")}};i.p,i.p,i.p,i.p,i.p}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9ub3Vpc2xpZGVyL25vdWlzbGlkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zhdmljb25zL2Zhdmljb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZpbGUtbG9hZGVyL2Rpc3QvY2pzLmpzIiwid2VicGFjazovLy8uL3NyYy9mYXZpY29ucy9hbmRyb2lkLWNocm9tZS0xNDR4MTQ0LnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvZmF2aWNvbnMvYXBwbGUtdG91Y2gtaWNvbi5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zhdmljb25zL2Zhdmljb24tMTZ4MTYucG5nIiwid2VicGFjazovLy8uL3NyYy9mYXZpY29ucy9mYXZpY29uLTMyeDMyLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvZmF2aWNvbnMvbXN0aWxlLTE1MHgxNTAucG5nIiwid2VicGFjazovLy8uL3NyYy9mYXZpY29ucy9zYWZhcmktcGlubmVkLXRhYi5zdmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9uYXZiYXIvbmF2YmFyLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvZGF0ZXBpY2tlci0yZi9kYXRlcGlja2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvZGF0ZXBpY2tlci0yZi9jb250cm9sbGVyLTJmLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvZHJvcGRvd24vZHJvcGRvd24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9hcHBhcnRtZW50LWZvcm0vYXBwYXJ0bWVudC1mb3JtLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3Mvbm91aXNsaWRlci9jdXN0b21pc2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9kYXRlcGlja2VyLTFmL2RhdGVwaWNrZXItMWYuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltYWdlcy9jYXJkcy84ODguanBnIiwid2VicGFjazovLy8uL3NyYy9pbWFnZXMvY2FyZHMvODQwLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvaW1hZ2VzL2NhcmRzLzk4MC5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltYWdlcy9jYXJkcy84NTYuanBnIiwid2VicGFjazovLy8uL3NyYy9pbWFnZXMvY2FyZHMvNzQwLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvaW1hZ2VzL2NhcmRzLzk4Mi5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltYWdlcy9jYXJkcy82NzguanBnIiwid2VicGFjazovLy8uL3NyYy9pbWFnZXMvY2FyZHMvNDUwLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvaW1hZ2VzL2NhcmRzLzM1MC5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltYWdlcy9jYXJkcy82NjYuanBnIiwid2VicGFjazovLy8uL3NyYy9pbWFnZXMvY2FyZHMvNDQ0LmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvaW1hZ2VzL2NhcmRzLzM1Mi5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9jaGVja2JveC1pdGVtL2NoZWNrLW1hcmsucG5nIiwid2VicGFjazovLy8uL3NyYy9pbWFnZXMvdXNlcnMvMS5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltYWdlcy91c2Vycy8yLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvaW1hZ2VzL2NhcmRzLzg4OF9hLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvaW1hZ2VzL2NhcmRzLzg4OF9iLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvaW1hZ2VzL2NhcmRzLzg4OF9jLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvaW1hZ2VzL3JlZ2lzdHJhdGlvbi5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL3JlZ2lzdHJhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW1hZ2VzL2xvZ28tdG94aW4ucG5nIiwid2VicGFjazovLy8uL3NyYy9pbWFnZXMvbGFuZGluZ3BhZ2UtYmcuanBnIiwid2VicGFjazovLy8uL3NyYy9pbWFnZXMvZi5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltYWdlcy90LnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvaW1hZ2VzL2kucG5nIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiVkVSU0lPTiIsInJlbW92ZUVsZW1lbnQiLCJlbCIsInBhcmVudEVsZW1lbnQiLCJyZW1vdmVDaGlsZCIsImlzU2V0IiwicHJldmVudERlZmF1bHQiLCJlIiwiaXNOdW1lcmljIiwiYSIsImlzTmFOIiwiaXNGaW5pdGUiLCJhZGRDbGFzc0ZvciIsImVsZW1lbnQiLCJjbGFzc05hbWUiLCJkdXJhdGlvbiIsImFkZENsYXNzIiwic2V0VGltZW91dCIsInJlbW92ZUNsYXNzIiwibGltaXQiLCJNYXRoIiwibWF4IiwibWluIiwiYXNBcnJheSIsIkFycmF5IiwiaXNBcnJheSIsImNvdW50RGVjaW1hbHMiLCJudW1TdHIiLCJwaWVjZXMiLCJTdHJpbmciLCJzcGxpdCIsImxlbmd0aCIsImNsYXNzTGlzdCIsInRlc3QiLCJhZGQiLCJyZW1vdmUiLCJyZXBsYWNlIiwiUmVnRXhwIiwiam9pbiIsImdldFBhZ2VPZmZzZXQiLCJkb2MiLCJzdXBwb3J0UGFnZU9mZnNldCIsInVuZGVmaW5lZCIsIndpbmRvdyIsInBhZ2VYT2Zmc2V0IiwiaXNDU1MxQ29tcGF0IiwiY29tcGF0TW9kZSIsIngiLCJkb2N1bWVudEVsZW1lbnQiLCJzY3JvbGxMZWZ0IiwiYm9keSIsInkiLCJwYWdlWU9mZnNldCIsInNjcm9sbFRvcCIsInN1YlJhbmdlUmF0aW8iLCJwYSIsInBiIiwiZnJvbVBlcmNlbnRhZ2UiLCJyYW5nZSIsInN0YXJ0UmFuZ2UiLCJnZXRKIiwiYXJyIiwiaiIsInRvU3RlcHBpbmciLCJ4VmFsIiwieFBjdCIsInNsaWNlIiwidmEiLCJ2YiIsImFicyIsInRvUGVyY2VudGFnZSIsImdldFN0ZXAiLCJ4U3RlcHMiLCJzbmFwIiwiYiIsInRvIiwicm91bmQiLCJjbG9zZXN0IiwiaGFuZGxlRW50cnlQb2ludCIsImluZGV4IiwidGhhdCIsInBlcmNlbnRhZ2UiLCJFcnJvciIsInBhcnNlRmxvYXQiLCJwdXNoIiwieEhpZ2hlc3RDb21wbGV0ZVN0ZXAiLCJoYW5kbGVTdGVwUG9pbnQiLCJ0b3RhbFN0ZXBzIiwieE51bVN0ZXBzIiwiaGlnaGVzdFN0ZXAiLCJjZWlsIiwiTnVtYmVyIiwidG9GaXhlZCIsInN0ZXAiLCJTcGVjdHJ1bSIsImVudHJ5Iiwic2luZ2xlU3RlcCIsInRoaXMiLCJvcmRlcmVkIiwic29ydCIsImdldERpc3RhbmNlIiwiZGlzdGFuY2VzIiwiZ2V0QWJzb2x1dGVEaXN0YW5jZSIsImRpcmVjdGlvbiIsInN0YXJ0X2ZhY3RvciIsInhQY3RfaW5kZXgiLCJyZXN0X2ZhY3RvciIsInJlc3RfcmVsX2Rpc3RhbmNlIiwicmFuZ2VfcGN0IiwicmVsX3JhbmdlX2Rpc3RhbmNlIiwiYWJzX2Rpc3RhbmNlX2NvdW50ZXIiLCJyYW5nZV9jb3VudGVyIiwiZnJvbVN0ZXBwaW5nIiwiaXNQZXJjZW50YWdlIiwiZ2V0RGVmYXVsdFN0ZXAiLCJpc0Rvd24iLCJzaXplIiwiZ2V0TmVhcmJ5U3RlcHMiLCJzdGVwQmVmb3JlIiwic3RhcnRWYWx1ZSIsInRoaXNTdGVwIiwic3RlcEFmdGVyIiwiY291bnRTdGVwRGVjaW1hbHMiLCJzdGVwRGVjaW1hbHMiLCJtYXAiLCJhcHBseSIsImNvbnZlcnQiLCJkZWZhdWx0Rm9ybWF0dGVyIiwiZnJvbSIsImNzc0NsYXNzZXMiLCJ0YXJnZXQiLCJiYXNlIiwib3JpZ2luIiwiaGFuZGxlIiwiaGFuZGxlTG93ZXIiLCJoYW5kbGVVcHBlciIsInRvdWNoQXJlYSIsImhvcml6b250YWwiLCJ2ZXJ0aWNhbCIsImJhY2tncm91bmQiLCJjb25uZWN0IiwiY29ubmVjdHMiLCJsdHIiLCJydGwiLCJ0ZXh0RGlyZWN0aW9uTHRyIiwidGV4dERpcmVjdGlvblJ0bCIsImRyYWdnYWJsZSIsImRyYWciLCJ0YXAiLCJhY3RpdmUiLCJ0b29sdGlwIiwicGlwcyIsInBpcHNIb3Jpem9udGFsIiwicGlwc1ZlcnRpY2FsIiwibWFya2VyIiwibWFya2VySG9yaXpvbnRhbCIsIm1hcmtlclZlcnRpY2FsIiwibWFya2VyTm9ybWFsIiwibWFya2VyTGFyZ2UiLCJtYXJrZXJTdWIiLCJ2YWx1ZUhvcml6b250YWwiLCJ2YWx1ZVZlcnRpY2FsIiwidmFsdWVOb3JtYWwiLCJ2YWx1ZUxhcmdlIiwidmFsdWVTdWIiLCJ2YWxpZGF0ZUZvcm1hdCIsImlzVmFsaWRGb3JtYXR0ZXIiLCJ0ZXN0U3RlcCIsInBhcnNlZCIsInRlc3RSYW5nZSIsInNwZWN0cnVtIiwidGVzdFN0YXJ0IiwiaGFuZGxlcyIsInN0YXJ0IiwidGVzdFNuYXAiLCJ0ZXN0QW5pbWF0ZSIsImFuaW1hdGUiLCJ0ZXN0QW5pbWF0aW9uRHVyYXRpb24iLCJhbmltYXRpb25EdXJhdGlvbiIsInRlc3RDb25uZWN0IiwidGVzdE9yaWVudGF0aW9uIiwib3J0IiwidGVzdE1hcmdpbiIsIm1hcmdpbiIsInRlc3RMaW1pdCIsInRlc3RQYWRkaW5nIiwicGFkZGluZyIsInRvdGFsUGFkZGluZyIsImZpcnN0VmFsdWUiLCJ0ZXN0RGlyZWN0aW9uIiwiZGlyIiwidGVzdEJlaGF2aW91ciIsImluZGV4T2YiLCJmaXhlZCIsImhvdmVyIiwidW5jb25zdHJhaW5lZCIsImV2ZW50cyIsInRlc3RUb29sdGlwcyIsInRvb2x0aXBzIiwiZm9yRWFjaCIsImZvcm1hdHRlciIsInRlc3RBcmlhRm9ybWF0IiwiYXJpYUZvcm1hdCIsInRlc3RGb3JtYXQiLCJmb3JtYXQiLCJ0ZXN0S2V5Ym9hcmRTdXBwb3J0Iiwia2V5Ym9hcmRTdXBwb3J0IiwidGVzdERvY3VtZW50RWxlbWVudCIsInRlc3RDc3NQcmVmaXgiLCJjc3NQcmVmaXgiLCJ0ZXN0Q3NzQ2xhc3NlcyIsInRlc3RPcHRpb25zIiwib3B0aW9ucyIsInRlc3RzIiwib3JpZW50YXRpb24iLCJiZWhhdmlvdXIiLCJkZWZhdWx0cyIsImtleXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJtc1ByZWZpeCIsInN0eWxlIiwibXNUcmFuc2Zvcm0iLCJub1ByZWZpeCIsInRyYW5zZm9ybSIsInRyYW5zZm9ybVJ1bGUiLCJzY29wZSIsIm9yaWdpbmFsT3B0aW9ucyIsInNjb3BlX0Jhc2UiLCJzY29wZV9IYW5kbGVzIiwic2NvcGVfQ29ubmVjdHMiLCJzY29wZV9QaXBzIiwic2NvcGVfVG9vbHRpcHMiLCJzY29wZV9TZWxmIiwiYWRkVGFyZ2V0IiwiYWN0aW9ucyIsIm5hdmlnYXRvciIsInBvaW50ZXJFbmFibGVkIiwibW92ZSIsImVuZCIsIm1zUG9pbnRlckVuYWJsZWQiLCJzdXBwb3J0c1Bhc3NpdmUiLCJDU1MiLCJzdXBwb3J0cyIsIm9wdHMiLCJhZGRFdmVudExpc3RlbmVyIiwiZ2V0U3VwcG9ydHNQYXNzaXZlIiwic2NvcGVfVGFyZ2V0Iiwic2NvcGVfU3BlY3RydW0iLCJzY29wZV9WYWx1ZXMiLCJzY29wZV9Mb2NhdGlvbnMiLCJzY29wZV9IYW5kbGVOdW1iZXJzIiwic2NvcGVfQWN0aXZlSGFuZGxlc0NvdW50Iiwic2NvcGVfRXZlbnRzIiwic2NvcGVfRG9jdW1lbnQiLCJvd25lckRvY3VtZW50Iiwic2NvcGVfRG9jdW1lbnRFbGVtZW50Iiwic2NvcGVfQm9keSIsInNjb3BlX0Rpck9mZnNldCIsImFkZE5vZGVUbyIsImRpdiIsImFwcGVuZENoaWxkIiwiYWRkT3JpZ2luIiwiaGFuZGxlTnVtYmVyIiwic2V0QXR0cmlidXRlIiwiZXZlbnQiLCJpc1NsaWRlckRpc2FibGVkIiwiaXNIYW5kbGVEaXNhYmxlZCIsImhvcml6b250YWxLZXlzIiwidmVydGljYWxLZXlzIiwibGFyZ2VTdGVwS2V5cyIsImVkZ2VLZXlzIiwicmV2ZXJzZSIsImlzTGFyZ2VEb3duIiwiaXNMYXJnZVVwIiwiaXNVcCIsImlzTWluIiwiaXNNYXgiLCJnZXROZXh0U3RlcHNGb3JIYW5kbGUiLCJzZXRIYW5kbGUiLCJmaXJlRXZlbnQiLCJldmVudEtleWRvd24iLCJhZGRDb25uZWN0IiwiYWRkVG9vbHRpcCIsImZpcnN0Q2hpbGQiLCJoYXNBdHRyaWJ1dGUiLCJyZW1vdmVUb29sdGlwcyIsInJlbW92ZUV2ZW50IiwiYmluZEV2ZW50IiwidmFsdWVzIiwidW5lbmNvZGVkIiwiZm9ybWF0dGVkVmFsdWUiLCJpbm5lckhUTUwiLCJhZGRNYXJraW5nIiwic3ByZWFkIiwiZmlsdGVyRnVuYyIsInZhbHVlU2l6ZUNsYXNzZXMiLCJtYXJrZXJTaXplQ2xhc3NlcyIsInZhbHVlT3JpZW50YXRpb25DbGFzc2VzIiwibWFya2VyT3JpZW50YXRpb25DbGFzc2VzIiwiZ2V0Q2xhc3NlcyIsInR5cGUiLCJzb3VyY2UiLCJzaXplQ2xhc3NlcyIsIm9mZnNldCIsIm5vZGUiLCJhZGRTcHJlYWQiLCJyZW1vdmVQaXBzIiwiZ3JpZCIsImRlbnNpdHkiLCJmaWx0ZXIiLCJncm91cCIsInN0ZXBwZWQiLCJpbnRlcnZhbCIsImdldEdyb3VwIiwiYXJyYXkiLCJpbmRleGVzIiwiZmlyc3RJblJhbmdlIiwibGFzdEluUmFuZ2UiLCJpZ25vcmVGaXJzdCIsImlnbm9yZUxhc3QiLCJwcmV2UGN0IiwidW5zaGlmdCIsImN1cnJlbnQiLCJxIiwibmV3UGN0IiwicGN0RGlmZmVyZW5jZSIsInBjdFBvcyIsInN0ZXBzIiwicmVhbFN0ZXBzIiwic3RlcFNpemUiLCJsb3ciLCJoaWdoIiwiaXNTdGVwcyIsImdlbmVyYXRlU3ByZWFkIiwiYmFzZVNpemUiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiYWx0Iiwid2lkdGgiLCJoZWlnaHQiLCJhdHRhY2hFdmVudCIsImNhbGxiYWNrIiwiZGF0YSIsIm1ldGhvZCIsInBhZ2VPZmZzZXQiLCJldmVudFRhcmdldCIsInRvdWNoIiwibW91c2UiLCJwb2ludGVyIiwiaXNUb3VjaE9uVGFyZ2V0IiwiY2hlY2tUb3VjaCIsImNvbnRhaW5zIiwic2hhZG93Um9vdCIsInRhcmdldFRvdWNoZXMiLCJ0b3VjaGVzIiwicGFnZVgiLCJwYWdlWSIsInRhcmdldFRvdWNoIiwiZmluZCIsImNoYW5nZWRUb3VjaGVzIiwiY2xpZW50WCIsImNsaWVudFkiLCJwb2ludHMiLCJjdXJzb3IiLCJmaXhFdmVudCIsImRvTm90UmVqZWN0IiwiYnV0dG9ucyIsImNhbGNQb2ludCIsIm1ldGhvZHMiLCJldmVudE5hbWUiLCJwYXNzaXZlIiwiY2FsY1BvaW50VG9QZXJjZW50YWdlIiwiZWxlbSIsImRvY0VsZW0iLCJwcm9wb3NhbCIsInVzZXJBZ2VudCIsInRvcCIsImNsaWVudFRvcCIsImxlZnQiLCJjbGllbnRMZWZ0IiwiZG9jdW1lbnRMZWF2ZSIsIm5vZGVOYW1lIiwicmVsYXRlZFRhcmdldCIsImV2ZW50RW5kIiwiZXZlbnRNb3ZlIiwiYXBwVmVyc2lvbiIsImJ1dHRvbnNQcm9wZXJ0eSIsIm1vdmVtZW50Iiwic3RhcnRDYWxjUG9pbnQiLCJtb3ZlSGFuZGxlcyIsImxvY2F0aW9ucyIsImhhbmRsZU51bWJlcnMiLCJsaXN0ZW5lcnMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2V0WmluZGV4IiwiZXZlbnRTdGFydCIsInNvbWUiLCJjaGlsZHJlbiIsInN0b3BQcm9wYWdhdGlvbiIsIm1vdmVFdmVudCIsImVuZEV2ZW50Iiwib3V0RXZlbnQiLCJjb25jYXQiLCJnZXRDb21wdXRlZFN0eWxlIiwiZXZlbnRUYXAiLCJjbGlja2VkUG9zaXRpb24iLCJzbWFsbGVzdERpZmZlcmVuY2UiLCJoYW5kbGVQb3NpdGlvbiIsImRpZmZlcmVuY2VXaXRoVGhpc0hhbmRsZSIsImdldENsb3Nlc3RIYW5kbGUiLCJldmVudEhvdmVyIiwidGFyZ2V0RXZlbnQiLCJuYW1lc3BhY2VkRXZlbnQiLCJuYW1lc3BhY2UiLCJzdWJzdHJpbmciLCJ0RXZlbnQiLCJ0TmFtZXNwYWNlIiwiZXZlbnRUeXBlIiwiY2hlY2tIYW5kbGVQb3NpdGlvbiIsInJlZmVyZW5jZSIsImxvb2tCYWNrd2FyZCIsImxvb2tGb3J3YXJkIiwiZ2V0VmFsdWUiLCJkaXN0YW5jZSIsImluUnVsZU9yZGVyIiwidiIsInVwd2FyZCIsInByb3Bvc2FscyIsImYiLCJzdGF0ZSIsInRyYW5zZm9ybURpcmVjdGlvbiIsInpJbmRleCIsInRyYW5zbGF0ZVJ1bGUiLCJ1cGRhdGVDb25uZWN0IiwidXBkYXRlSGFuZGxlUG9zaXRpb24iLCJoIiwiY29ubmVjdFdpZHRoIiwic2NhbGVSdWxlIiwicmVzb2x2ZVRvVmFsdWUiLCJ2YWx1ZVNldCIsImlucHV0IiwiZmlyZVNldEV2ZW50IiwiaXNJbml0IiwidmFsdWVHZXQiLCJsb2NhdGlvbiIsIm5lYXJieVN0ZXBzIiwiaW5jcmVtZW50IiwiZGVjcmVtZW50IiwiY29ubmVjdE9wdGlvbnMiLCJjb25uZWN0QmFzZSIsImFkZEVsZW1lbnRzIiwiaGFuZGxlQmVmb3JlIiwiaGFuZGxlQWZ0ZXIiLCJldmVudEhvbGRlcnMiLCJldmVudEhvbGRlciIsInBvc2l0aW9ucyIsIm5vdyIsInRleHQiLCJkZXN0cm95Iiwibm9VaVNsaWRlciIsIm9uIiwib2ZmIiwic2V0IiwicmVzZXQiLCJfX21vdmVIYW5kbGVzIiwidXBkYXRlT3B0aW9ucyIsIm9wdGlvbnNUb1VwZGF0ZSIsInVwZGF0ZUFibGUiLCJuZXdPcHRpb25zIiwiZ2V0VG9vbHRpcHMiLCJnZXRPcmlnaW5zIiwiX19zcGVjdHJ1bSIsInZlcnNpb24iLCJhcGkiLCJmYXZpY29uc0NvbnRleHQiLCJ3ZWJwYWNrQ29udGV4dCIsInJlcSIsImlkIiwid2VicGFja0NvbnRleHRSZXNvbHZlIiwiY29kZSIsInJlc29sdmUiLCJxdWVyeVNlbGVjdG9yIiwib25jbGljayIsInRvZ2dsZSIsImNvbnNvbGUiLCJlcnJvciIsIiQiLCIkYm9keSIsIiRkYXRlcGlja2Vyc0NvbnRhaW5lciIsImRhdGVwaWNrZXIiLCJjb250YWluZXJCdWlsdCIsImhvdEtleXMiLCJEYXRlcGlja2VyIiwiY2xhc3NlcyIsImlubGluZSIsImxhbmd1YWdlIiwic3RhcnREYXRlIiwiRGF0ZSIsImZpcnN0RGF5Iiwid2Vla2VuZHMiLCJkYXRlRm9ybWF0IiwiYWx0RmllbGQiLCJhbHRGaWVsZERhdGVGb3JtYXQiLCJ0b2dnbGVTZWxlY3RlZCIsImtleWJvYXJkTmF2IiwicG9zaXRpb24iLCJ2aWV3IiwibWluVmlldyIsInNob3dPdGhlck1vbnRocyIsInNlbGVjdE90aGVyTW9udGhzIiwibW92ZVRvT3RoZXJNb250aHNPblNlbGVjdCIsInNob3dPdGhlclllYXJzIiwic2VsZWN0T3RoZXJZZWFycyIsIm1vdmVUb090aGVyWWVhcnNPblNlbGVjdCIsIm1pbkRhdGUiLCJtYXhEYXRlIiwiZGlzYWJsZU5hdldoZW5PdXRPZlJhbmdlIiwibXVsdGlwbGVEYXRlcyIsIm11bHRpcGxlRGF0ZXNTZXBhcmF0b3IiLCJ0b2RheUJ1dHRvbiIsImNsZWFyQnV0dG9uIiwic2hvd0V2ZW50IiwiYXV0b0Nsb3NlIiwibW9udGhzRmllbGQiLCJwcmV2SHRtbCIsIm5leHRIdG1sIiwibmF2VGl0bGVzIiwiZGF5cyIsIm1vbnRocyIsInllYXJzIiwidGltZXBpY2tlciIsIm9ubHlUaW1lcGlja2VyIiwiZGF0ZVRpbWVTZXBhcmF0b3IiLCJ0aW1lRm9ybWF0IiwibWluSG91cnMiLCJtYXhIb3VycyIsIm1pbk1pbnV0ZXMiLCJtYXhNaW51dGVzIiwiaG91cnNTdGVwIiwibWludXRlc1N0ZXAiLCJvblNlbGVjdCIsIm9uU2hvdyIsIm9uSGlkZSIsIm9uQ2hhbmdlTW9udGgiLCJvbkNoYW5nZVllYXIiLCJvbkNoYW5nZURlY2FkZSIsIm9uQ2hhbmdlVmlldyIsIm9uUmVuZGVyQ2VsbCIsIiRlbCIsImV4dGVuZCIsImVsSXNJbnB1dCIsIiRhbHRGaWVsZCIsImluaXRlZCIsInZpc2libGUiLCJzaWxlbnQiLCJjdXJyZW50RGF0ZSIsImN1cnJlbnRWaWV3IiwiX2NyZWF0ZVNob3J0Q3V0cyIsInNlbGVjdGVkRGF0ZXMiLCJ2aWV3cyIsIm1pblJhbmdlIiwibWF4UmFuZ2UiLCJfcHJldk9uU2VsZWN0VmFsdWUiLCJpbml0Iiwidmlld0luZGV4ZXMiLCJfYnVpbGREYXRlcGlja2Vyc0NvbnRhaW5lciIsIl9idWlsZEJhc2VIdG1sIiwiX2RlZmluZUxvY2FsZSIsIl9zeW5jV2l0aE1pbk1heERhdGVzIiwiX3NldFBvc2l0aW9uQ2xhc3NlcyIsIl9iaW5kRXZlbnRzIiwiX2JpbmRLZXlib2FyZEV2ZW50cyIsIiRkYXRlcGlja2VyIiwiX29uTW91c2VEb3duRGF0ZXBpY2tlciIsIl9vbk1vdXNlVXBEYXRlcGlja2VyIiwiZm4iLCJUaW1lcGlja2VyIiwiX2JpbmRUaW1lcGlja2VyRXZlbnRzIiwiQm9keSIsInNob3ciLCJuYXYiLCJOYXZpZ2F0aW9uIiwiX29uQ2xpY2tDZWxsIiwiX29uTW91c2VFbnRlckNlbGwiLCJfb25Nb3VzZUxlYXZlQ2VsbCIsIl9vblNob3dFdmVudCIsIl9vbk1vdXNlVXBFbCIsIl9vbkJsdXIiLCJfb25LZXlVcEdlbmVyYWwiLCJfb25SZXNpemUiLCJfb25Nb3VzZVVwQm9keSIsIl9vbktleURvd24iLCJfb25LZXlVcCIsIl9vbkhvdEtleSIsIl9vblRpbWVDaGFuZ2UiLCJpc1dlZWtlbmQiLCJkYXkiLCJsYW5nIiwibG9jIiwid2FybiIsInJ1IiwiYm91bmRhcnkiLCJfZ2V0V29yZEJvdW5kYXJ5UmVnRXhwIiwibWF0Y2giLCJhbXBtIiwiYXBwZW5kIiwiJGFwcGVuZFRhcmdldCIsIiRpbmxpbmUiLCJpbnNlcnRBZnRlciIsImFwcGVuZFRvIiwiJGNvbnRlbnQiLCIkbmF2IiwiX3RyaWdnZXJPbkNoYW5nZSIsImZvcm1hdHRlZERhdGVzIiwicGFyc2VkU2VsZWN0ZWQiLCJnZXRQYXJzZWREYXRlIiwiX3RoaXMiLCJkYXRlcyIsInllYXIiLCJtb250aCIsImRhdGUiLCJob3VycyIsIm1pbnV0ZXMiLCJmb3JtYXREYXRlIiwicGFyc2VkRGF0ZSIsIm5leHQiLCJjdXJEZWNhZGUiLCJwcmV2Iiwic3RyaW5nIiwidmFsaWRIb3VycyIsInJlc3VsdCIsImxvY2FsZSIsImxlYWRpbmdaZXJvIiwiZ2V0TGVhZGluZ1plcm9OdW0iLCJkZWNhZGUiLCJnZXREZWNhZGUiLCJmdWxsSG91cnMiLCJkYXlQZXJpb2QiLCJyZXBsYWNlciIsIl9yZXBsYWNlciIsIl9nZXRWYWxpZEhvdXJzRnJvbURhdGUiLCJnZXRUaW1lIiwidG9VcHBlckNhc2UiLCJmdWxsRGF0ZSIsImRheXNTaG9ydCIsImZ1bGxNb250aCIsIm1vbnRoc1Nob3J0IiwiZnVsbE1pbnV0ZXMiLCJ0b1N0cmluZyIsInN0ciIsInJlZyIsInAxIiwicDIiLCJwMyIsInNpZ24iLCJzeW1ib2xzIiwic2VsZWN0RGF0ZSIsImxlbiIsIm5ld0RhdGUiLCJsYXN0U2VsZWN0ZWREYXRlIiwiX3NldFRpbWUiLCJfdHJpZ2dlciIsInNldEhvdXJzIiwic2V0TWludXRlcyIsImdldE1vbnRoIiwiZ2V0RnVsbFllYXIiLCJfcmVuZGVyIiwiX2lzU2VsZWN0ZWQiLCJiaWdnZXIiLCJfc2V0SW5wdXRWYWx1ZSIsInRpbWVwaWNrZXJJc0FjdGl2ZSIsImhpZGUiLCJyZW1vdmVEYXRlIiwic2VsZWN0ZWQiLCJjdXJEYXRlIiwiaXNTYW1lIiwic3BsaWNlIiwidG9kYXkiLCJjbGVhciIsInVwZGF0ZSIsInBhcmFtIiwiYXJndW1lbnRzIiwiX2FkZEJ1dHRvbnNJZk5lZWQiLCJzZXRQb3NpdGlvbiIsIl9oYW5kbGVEYXRlIiwiX3VwZGF0ZVJhbmdlcyIsIl91cGRhdGVDdXJyZW50VGltZSIsImN1clRpbWUiLCJtaW5UaW1lIiwibWF4VGltZSIsImNoZWNrRGF0ZSIsImNlbGxUeXBlIiwicmVzIiwiYWx0VmFsdWVzIiwiYWx0Rm9ybWF0IiwidmFsIiwiX2lzSW5SYW5nZSIsInRpbWUiLCJkTWluVGltZSIsImRNYXhUaW1lIiwidHlwZXMiLCJfZ2V0RGltZW5zaW9ucyIsIm91dGVyV2lkdGgiLCJvdXRlckhlaWdodCIsIl9nZXREYXRlRnJvbUNlbGwiLCJjZWxsIiwicG9zIiwibWFpbiIsInJlbW92ZUF0dHIiLCJkaW1zIiwic2VsZkRpbXMiLCJzZWNvbmRhcnkiLCJjc3MiLCJfYmluZFZpc2lvbkV2ZW50cyIsImZvY3VzZWQiLCJpbkZvY3VzIiwiYmx1ciIsImRvd24iLCJfY2hhbmdlVmlldyIsInVwIiwib25lIiwibmV4dFZpZXciLCJ2aWV3SW5kZXgiLCJfaGFuZGxlSG90S2V5IiwiZm9jdXNlZFBhcnNlZCIsInRvdGFsRGF5c0luTmV4dE1vbnRoIiwiX2dldEZvY3VzZWREYXRlIiwibW9udGhDaGFuZ2VkIiwieWVhckNoYW5nZWQiLCJkZWNhZGVDaGFuZ2VkIiwiZ2V0RGF5c0NvdW50IiwiX3JlZ2lzdGVyS2V5IiwiY3VyS2V5IiwiX3VuUmVnaXN0ZXJLZXkiLCJfaXNIb3RLZXlQcmVzc2VkIiwiY3VycmVudEhvdEtleSIsImZvdW5kIiwicHJlc3NlZEtleXMiLCJob3RLZXkiLCJldmVyeSIsImFyZ3MiLCJ0cmlnZ2VyIiwiX2ZvY3VzTmV4dENlbGwiLCJrZXlDb2RlIiwibmQiLCJnZXREYXRlIiwiX2dldENlbGwiLCIkY2VsbCIsInNlbGVjdG9yIiwiX2hhbmRsZUFscmVhZHlTZWxlY3RlZERhdGVzIiwiYWxyZWFkeVNlbGVjdGVkIiwic2VsZWN0ZWREYXRlIiwib3JpZ2luYWxFdmVudCIsInRpbWVwaWNrZXJGb2N1cyIsImZvY3VzIiwid2hpY2giLCJoYXNDbGFzcyIsImxlc3MiLCJfdXBkYXRlIiwiX2ZvY3VzZWQiLCJwcmV2VmlldyIsImdldERheSIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsImZpcnN0WWVhciIsImZsb29yIiwidGVtcGxhdGUiLCJkYXRlMSIsImRhdGUyIiwiZDEiLCJkMiIsIl90eXBlIiwiZGF0ZUNvbXBhcmVUbyIsIm51bSIsInBhcnNlSW50IiwicmVzZXRUaW1lIiwiZWFjaCIsIkNvbnN0cnVjdG9yIiwiZGF5c01pbiIsInRlbXBsYXRlcyIsImRwIiwicHJveHkiLCIkbmFtZXMiLCIkY2VsbHMiLCJfZ2V0RGF5TmFtZXNIdG1sIiwiY3VyRGF5IiwiaHRtbCIsIl9nZXRDZWxsQ29udGVudHMiLCJwYXJlbnQiLCJyZW5kZXIiLCJkaXNhYmxlZCIsIl9nZXREYXlzSHRtbCIsInRvdGFsTW9udGhEYXlzIiwiZmlyc3RNb250aERheSIsImxhc3RNb250aERheSIsImRheXNGcm9tUGV2TW9udGgiLCJkYXlzRnJvbU5leHRNb250aCIsIl9nZXREYXlIdG1sIiwiY29udGVudCIsIl9nZXRNb250aHNIdG1sIiwiX2dldE1vbnRoSHRtbCIsIl9nZXRZZWFyc0h0bWwiLCJfZ2V0WWVhckh0bWwiLCJfcmVuZGVyVHlwZXMiLCJkYXlOYW1lcyIsImF0dHIiLCJhY2l0dmUiLCJfaGFuZGxlQ2xpY2siLCIkYnV0dG9uc0NvbnRhaW5lciIsIl9vbkNsaWNrTmF2QnV0dG9uIiwiX29uQ2xpY2tOYXZUaXRsZSIsIl9hZGRCdXR0b24iLCJ0aXRsZSIsIl9nZXRUaXRsZSIsInNldE5hdlN0YXR1cyIsIl9hZGRCdXR0b25zQ29udGFpbmVyIiwiYWN0aW9uIiwibGFiZWwiLCJfZGlzYWJsZU5hdiIsIl9hY3RpdmF0ZU5hdiIsImluc3QiLCJfYnVpbGRIVE1MIiwiX29uU2VsZWN0RGF0ZSIsIiRyYW5nZXMiLCJfb25DaGFuZ2VSYW5nZSIsIl9vbk1vdXNlVXBSYW5nZSIsIl9vbk1vdXNlRW50ZXJSYW5nZSIsIl9vbk1vdXNlT3V0UmFuZ2UiLCJfZGF0ZSIsIl9zZXRNaW5UaW1lRnJvbURhdGUiLCJfc2V0TWF4VGltZUZyb21EYXRlIiwiX3NldERlZmF1bHRNaW5NYXhUaW1lIiwiX3ZhbGlkYXRlSG91cnNNaW51dGVzIiwibHoiLCJob3VyTWluIiwiaG91ck1heCIsImhvdXJTdGVwIiwiaG91clZhbHVlIiwiaG91clZpc2libGUiLCJkaXNwbGF5SG91cnMiLCJtaW5NaW4iLCJtaW5NYXgiLCJtaW5TdGVwIiwibWluVmFsdWUiLCJfdGVtcGxhdGUiLCIkdGltZXBpY2tlciIsIiRob3VycyIsIiRtaW51dGVzIiwiJGhvdXJzVGV4dCIsIiRtaW51dGVzVGV4dCIsIiRhbXBtIiwiX2hvdXJzIiwiJHRhcmdldCIsImpRdWVyeSIsImRhdGVwaWNrZXJBcGlfMmYiLCJvdXREYXRlRmllbGRfMmYiLCJpbkRhdGVGaWVsZF8yZiIsImZvcm1hdHRlZERhdGUiLCJpbkRhdGUiLCJvdXREYXRlIiwiYXBwbHlCdXR0IiwiY2xpY2siLCJsb2ciLCJpc0d1ZXN0c0Ryb3Bkb3duIiwicGxhY2Vob2xkZXIiLCJpc0JlZHNEcm9wZG93biIsInBsYWNlaG9sZGVyQ2hhbmdlciIsInF1YW5MaXN0IiwiZXhwYW5kIiwicXVhblBlb3BsZSIsIml0ZW0iLCJxdWFuQmFieSIsInF1YW5Sb29tIiwicXVhbkJlZCIsImxpc3RNaW51cyIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJuZXh0U2libGluZyIsIm5ld0NvbnRlbnQiLCJsaXN0UGx1cyIsInByZXZpb3VzU2libGluZyIsImxpc3RDbGVhciIsInBhcmVudE5vZGUiLCJxdWVyeVNlbGVjdG9yQWxsIiwicXVhbiIsImxpc3RBcHBseSIsImxpc3RGaWVsZCIsImRyb3Bkb3duV3JhcHBlckxpc3QiLCJleHBhbmRCdXR0Iiwic2xpZGVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJkYXRlcGlja2VyQXBpXzFmIiwiaW5EYXRlRmllbGRfMWYiLCJyZXNEYXRlIiwiYXJyRGF0ZXMiLCJpbkJ1dHQiLCJyZWdCdXR0IiwiaW5Gb3JtIiwicmVnRm9ybSJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtK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b0NBQ3pCODFCLEVBQU9qMkIsVUFBVUcsT0FBTyw0QkFDMUIsTUFDRWtjLFFBQVEwWCxJQUFJLDRDQ3JCTCxJQ0FBLElDQUEsSUNBQSxJQ0FBIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxNyk7XG4iLCIvKiEgbm91aXNsaWRlciAtIDE0LjUuMCAtIDUvMTEvMjAyMCAqL1xuKGZ1bmN0aW9uKGZhY3RvcnkpIHtcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuICAgICAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgLy8gTm9kZS9Db21tb25KU1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBCcm93c2VyIGdsb2JhbHNcbiAgICAgICAgd2luZG93Lm5vVWlTbGlkZXIgPSBmYWN0b3J5KCk7XG4gICAgfVxufSkoZnVuY3Rpb24oKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICB2YXIgVkVSU0lPTiA9IFwiMTQuNS4wXCI7XG5cbiAgICAvL3JlZ2lvbiBIZWxwZXIgTWV0aG9kc1xuXG4gICAgZnVuY3Rpb24gaXNWYWxpZEZvcm1hdHRlcihlbnRyeSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGVudHJ5ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBlbnRyeS50byA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBlbnRyeS5mcm9tID09PSBcImZ1bmN0aW9uXCI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVtb3ZlRWxlbWVudChlbCkge1xuICAgICAgICBlbC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGVsKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1NldCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvLyBCaW5kYWJsZSB2ZXJzaW9uXG4gICAgZnVuY3Rpb24gcHJldmVudERlZmF1bHQoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlcyBkdXBsaWNhdGVzIGZyb20gYW4gYXJyYXkuXG4gICAgZnVuY3Rpb24gdW5pcXVlKGFycmF5KSB7XG4gICAgICAgIHJldHVybiBhcnJheS5maWx0ZXIoZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgcmV0dXJuICF0aGlzW2FdID8gKHRoaXNbYV0gPSB0cnVlKSA6IGZhbHNlO1xuICAgICAgICB9LCB7fSk7XG4gICAgfVxuXG4gICAgLy8gUm91bmQgYSB2YWx1ZSB0byB0aGUgY2xvc2VzdCAndG8nLlxuICAgIGZ1bmN0aW9uIGNsb3Nlc3QodmFsdWUsIHRvKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlIC8gdG8pICogdG87XG4gICAgfVxuXG4gICAgLy8gQ3VycmVudCBwb3NpdGlvbiBvZiBhbiBlbGVtZW50IHJlbGF0aXZlIHRvIHRoZSBkb2N1bWVudC5cbiAgICBmdW5jdGlvbiBvZmZzZXQoZWxlbSwgb3JpZW50YXRpb24pIHtcbiAgICAgICAgdmFyIHJlY3QgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB2YXIgZG9jID0gZWxlbS5vd25lckRvY3VtZW50O1xuICAgICAgICB2YXIgZG9jRWxlbSA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIHZhciBwYWdlT2Zmc2V0ID0gZ2V0UGFnZU9mZnNldChkb2MpO1xuXG4gICAgICAgIC8vIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBjb250YWlucyBsZWZ0IHNjcm9sbCBpbiBDaHJvbWUgb24gQW5kcm9pZC5cbiAgICAgICAgLy8gSSBoYXZlbid0IGZvdW5kIGEgZmVhdHVyZSBkZXRlY3Rpb24gdGhhdCBwcm92ZXMgdGhpcy4gV29yc3QgY2FzZVxuICAgICAgICAvLyBzY2VuYXJpbyBvbiBtaXMtbWF0Y2g6IHRoZSAndGFwJyBmZWF0dXJlIG9uIGhvcml6b250YWwgc2xpZGVycyBicmVha3MuXG4gICAgICAgIGlmICgvd2Via2l0LipDaHJvbWUuKk1vYmlsZS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcbiAgICAgICAgICAgIHBhZ2VPZmZzZXQueCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb3JpZW50YXRpb25cbiAgICAgICAgICAgID8gcmVjdC50b3AgKyBwYWdlT2Zmc2V0LnkgLSBkb2NFbGVtLmNsaWVudFRvcFxuICAgICAgICAgICAgOiByZWN0LmxlZnQgKyBwYWdlT2Zmc2V0LnggLSBkb2NFbGVtLmNsaWVudExlZnQ7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2tzIHdoZXRoZXIgYSB2YWx1ZSBpcyBudW1lcmljYWwuXG4gICAgZnVuY3Rpb24gaXNOdW1lcmljKGEpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBhID09PSBcIm51bWJlclwiICYmICFpc05hTihhKSAmJiBpc0Zpbml0ZShhKTtcbiAgICB9XG5cbiAgICAvLyBTZXRzIGEgY2xhc3MgYW5kIHJlbW92ZXMgaXQgYWZ0ZXIgW2R1cmF0aW9uXSBtcy5cbiAgICBmdW5jdGlvbiBhZGRDbGFzc0ZvcihlbGVtZW50LCBjbGFzc05hbWUsIGR1cmF0aW9uKSB7XG4gICAgICAgIGlmIChkdXJhdGlvbiA+IDApIHtcbiAgICAgICAgICAgIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICAgICAgICB9LCBkdXJhdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBMaW1pdHMgYSB2YWx1ZSB0byAwIC0gMTAwXG4gICAgZnVuY3Rpb24gbGltaXQoYSkge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4oYSwgMTAwKSwgMCk7XG4gICAgfVxuXG4gICAgLy8gV3JhcHMgYSB2YXJpYWJsZSBhcyBhbiBhcnJheSwgaWYgaXQgaXNuJ3Qgb25lIHlldC5cbiAgICAvLyBOb3RlIHRoYXQgYW4gaW5wdXQgYXJyYXkgaXMgcmV0dXJuZWQgYnkgcmVmZXJlbmNlIVxuICAgIGZ1bmN0aW9uIGFzQXJyYXkoYSkge1xuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShhKSA/IGEgOiBbYV07XG4gICAgfVxuXG4gICAgLy8gQ291bnRzIGRlY2ltYWxzXG4gICAgZnVuY3Rpb24gY291bnREZWNpbWFscyhudW1TdHIpIHtcbiAgICAgICAgbnVtU3RyID0gU3RyaW5nKG51bVN0cik7XG4gICAgICAgIHZhciBwaWVjZXMgPSBudW1TdHIuc3BsaXQoXCIuXCIpO1xuICAgICAgICByZXR1cm4gcGllY2VzLmxlbmd0aCA+IDEgPyBwaWVjZXNbMV0ubGVuZ3RoIDogMDtcbiAgICB9XG5cbiAgICAvLyBodHRwOi8veW91bWlnaHRub3RuZWVkanF1ZXJ5LmNvbS8jYWRkX2NsYXNzXG4gICAgZnVuY3Rpb24gYWRkQ2xhc3MoZWwsIGNsYXNzTmFtZSkge1xuICAgICAgICBpZiAoZWwuY2xhc3NMaXN0ICYmICEvXFxzLy50ZXN0KGNsYXNzTmFtZSkpIHtcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsLmNsYXNzTmFtZSArPSBcIiBcIiArIGNsYXNzTmFtZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGh0dHA6Ly95b3VtaWdodG5vdG5lZWRqcXVlcnkuY29tLyNyZW1vdmVfY2xhc3NcbiAgICBmdW5jdGlvbiByZW1vdmVDbGFzcyhlbCwgY2xhc3NOYW1lKSB7XG4gICAgICAgIGlmIChlbC5jbGFzc0xpc3QgJiYgIS9cXHMvLnRlc3QoY2xhc3NOYW1lKSkge1xuICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWwuY2xhc3NOYW1lID0gZWwuY2xhc3NOYW1lLnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgbmV3IFJlZ0V4cChcIihefFxcXFxiKVwiICsgY2xhc3NOYW1lLnNwbGl0KFwiIFwiKS5qb2luKFwifFwiKSArIFwiKFxcXFxifCQpXCIsIFwiZ2lcIiksXG4gICAgICAgICAgICAgICAgXCIgXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBodHRwczovL3BsYWluanMuY29tL2phdmFzY3JpcHQvYXR0cmlidXRlcy9hZGRpbmctcmVtb3ZpbmctYW5kLXRlc3RpbmctZm9yLWNsYXNzZXMtOS9cbiAgICBmdW5jdGlvbiBoYXNDbGFzcyhlbCwgY2xhc3NOYW1lKSB7XG4gICAgICAgIHJldHVybiBlbC5jbGFzc0xpc3RcbiAgICAgICAgICAgID8gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSlcbiAgICAgICAgICAgIDogbmV3IFJlZ0V4cChcIlxcXFxiXCIgKyBjbGFzc05hbWUgKyBcIlxcXFxiXCIpLnRlc3QoZWwuY2xhc3NOYW1lKTtcbiAgICB9XG5cbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2luZG93L3Njcm9sbFkjTm90ZXNcbiAgICBmdW5jdGlvbiBnZXRQYWdlT2Zmc2V0KGRvYykge1xuICAgICAgICB2YXIgc3VwcG9ydFBhZ2VPZmZzZXQgPSB3aW5kb3cucGFnZVhPZmZzZXQgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIGlzQ1NTMUNvbXBhdCA9IChkb2MuY29tcGF0TW9kZSB8fCBcIlwiKSA9PT0gXCJDU1MxQ29tcGF0XCI7XG4gICAgICAgIHZhciB4ID0gc3VwcG9ydFBhZ2VPZmZzZXRcbiAgICAgICAgICAgID8gd2luZG93LnBhZ2VYT2Zmc2V0XG4gICAgICAgICAgICA6IGlzQ1NTMUNvbXBhdFxuICAgICAgICAgICAgICAgID8gZG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0XG4gICAgICAgICAgICAgICAgOiBkb2MuYm9keS5zY3JvbGxMZWZ0O1xuICAgICAgICB2YXIgeSA9IHN1cHBvcnRQYWdlT2Zmc2V0XG4gICAgICAgICAgICA/IHdpbmRvdy5wYWdlWU9mZnNldFxuICAgICAgICAgICAgOiBpc0NTUzFDb21wYXRcbiAgICAgICAgICAgICAgICA/IGRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wXG4gICAgICAgICAgICAgICAgOiBkb2MuYm9keS5zY3JvbGxUb3A7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gd2UgcHJvdmlkZSBhIGZ1bmN0aW9uIHRvIGNvbXB1dGUgY29uc3RhbnRzIGluc3RlYWRcbiAgICAvLyBvZiBhY2Nlc3Npbmcgd2luZG93LiogYXMgc29vbiBhcyB0aGUgbW9kdWxlIG5lZWRzIGl0XG4gICAgLy8gc28gdGhhdCB3ZSBkbyBub3QgY29tcHV0ZSBhbnl0aGluZyBpZiBub3QgbmVlZGVkXG4gICAgZnVuY3Rpb24gZ2V0QWN0aW9ucygpIHtcbiAgICAgICAgLy8gRGV0ZXJtaW5lIHRoZSBldmVudHMgdG8gYmluZC4gSUUxMSBpbXBsZW1lbnRzIHBvaW50ZXJFdmVudHMgd2l0aG91dFxuICAgICAgICAvLyBhIHByZWZpeCwgd2hpY2ggYnJlYWtzIGNvbXBhdGliaWxpdHkgd2l0aCB0aGUgSUUxMCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgICAgcmV0dXJuIHdpbmRvdy5uYXZpZ2F0b3IucG9pbnRlckVuYWJsZWRcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgc3RhcnQ6IFwicG9pbnRlcmRvd25cIixcbiAgICAgICAgICAgICAgICAgIG1vdmU6IFwicG9pbnRlcm1vdmVcIixcbiAgICAgICAgICAgICAgICAgIGVuZDogXCJwb2ludGVydXBcIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZFxuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBcIk1TUG9pbnRlckRvd25cIixcbiAgICAgICAgICAgICAgICAgICAgICBtb3ZlOiBcIk1TUG9pbnRlck1vdmVcIixcbiAgICAgICAgICAgICAgICAgICAgICBlbmQ6IFwiTVNQb2ludGVyVXBcIlxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBcIm1vdXNlZG93biB0b3VjaHN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgbW92ZTogXCJtb3VzZW1vdmUgdG91Y2htb3ZlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgZW5kOiBcIm1vdXNldXAgdG91Y2hlbmRcIlxuICAgICAgICAgICAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vV0lDRy9FdmVudExpc3RlbmVyT3B0aW9ucy9ibG9iL2doLXBhZ2VzL2V4cGxhaW5lci5tZFxuICAgIC8vIElzc3VlICM3ODVcbiAgICBmdW5jdGlvbiBnZXRTdXBwb3J0c1Bhc3NpdmUoKSB7XG4gICAgICAgIHZhciBzdXBwb3J0c1Bhc3NpdmUgPSBmYWxzZTtcblxuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSAqL1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIG9wdHMgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sIFwicGFzc2l2ZVwiLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VwcG9ydHNQYXNzaXZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0ZXN0XCIsIG51bGwsIG9wdHMpO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlICovXG5cbiAgICAgICAgcmV0dXJuIHN1cHBvcnRzUGFzc2l2ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTdXBwb3J0c1RvdWNoQWN0aW9uTm9uZSgpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5DU1MgJiYgQ1NTLnN1cHBvcnRzICYmIENTUy5zdXBwb3J0cyhcInRvdWNoLWFjdGlvblwiLCBcIm5vbmVcIik7XG4gICAgfVxuXG4gICAgLy9lbmRyZWdpb25cblxuICAgIC8vcmVnaW9uIFJhbmdlIENhbGN1bGF0aW9uXG5cbiAgICAvLyBEZXRlcm1pbmUgdGhlIHNpemUgb2YgYSBzdWItcmFuZ2UgaW4gcmVsYXRpb24gdG8gYSBmdWxsIHJhbmdlLlxuICAgIGZ1bmN0aW9uIHN1YlJhbmdlUmF0aW8ocGEsIHBiKSB7XG4gICAgICAgIHJldHVybiAxMDAgLyAocGIgLSBwYSk7XG4gICAgfVxuXG4gICAgLy8gKHBlcmNlbnRhZ2UpIEhvdyBtYW55IHBlcmNlbnQgaXMgdGhpcyB2YWx1ZSBvZiB0aGlzIHJhbmdlP1xuICAgIGZ1bmN0aW9uIGZyb21QZXJjZW50YWdlKHJhbmdlLCB2YWx1ZSwgc3RhcnRSYW5nZSkge1xuICAgICAgICByZXR1cm4gKHZhbHVlICogMTAwKSAvIChyYW5nZVtzdGFydFJhbmdlICsgMV0gLSByYW5nZVtzdGFydFJhbmdlXSk7XG4gICAgfVxuXG4gICAgLy8gKHBlcmNlbnRhZ2UpIFdoZXJlIGlzIHRoaXMgdmFsdWUgb24gdGhpcyByYW5nZT9cbiAgICBmdW5jdGlvbiB0b1BlcmNlbnRhZ2UocmFuZ2UsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBmcm9tUGVyY2VudGFnZShyYW5nZSwgcmFuZ2VbMF0gPCAwID8gdmFsdWUgKyBNYXRoLmFicyhyYW5nZVswXSkgOiB2YWx1ZSAtIHJhbmdlWzBdLCAwKTtcbiAgICB9XG5cbiAgICAvLyAodmFsdWUpIEhvdyBtdWNoIGlzIHRoaXMgcGVyY2VudGFnZSBvbiB0aGlzIHJhbmdlP1xuICAgIGZ1bmN0aW9uIGlzUGVyY2VudGFnZShyYW5nZSwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICh2YWx1ZSAqIChyYW5nZVsxXSAtIHJhbmdlWzBdKSkgLyAxMDAgKyByYW5nZVswXTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRKKHZhbHVlLCBhcnIpIHtcbiAgICAgICAgdmFyIGogPSAxO1xuXG4gICAgICAgIHdoaWxlICh2YWx1ZSA+PSBhcnJbal0pIHtcbiAgICAgICAgICAgIGogKz0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBqO1xuICAgIH1cblxuICAgIC8vIChwZXJjZW50YWdlKSBJbnB1dCBhIHZhbHVlLCBmaW5kIHdoZXJlLCBvbiBhIHNjYWxlIG9mIDAtMTAwLCBpdCBhcHBsaWVzLlxuICAgIGZ1bmN0aW9uIHRvU3RlcHBpbmcoeFZhbCwgeFBjdCwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlID49IHhWYWwuc2xpY2UoLTEpWzBdKSB7XG4gICAgICAgICAgICByZXR1cm4gMTAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGogPSBnZXRKKHZhbHVlLCB4VmFsKTtcbiAgICAgICAgdmFyIHZhID0geFZhbFtqIC0gMV07XG4gICAgICAgIHZhciB2YiA9IHhWYWxbal07XG4gICAgICAgIHZhciBwYSA9IHhQY3RbaiAtIDFdO1xuICAgICAgICB2YXIgcGIgPSB4UGN0W2pdO1xuXG4gICAgICAgIHJldHVybiBwYSArIHRvUGVyY2VudGFnZShbdmEsIHZiXSwgdmFsdWUpIC8gc3ViUmFuZ2VSYXRpbyhwYSwgcGIpO1xuICAgIH1cblxuICAgIC8vICh2YWx1ZSkgSW5wdXQgYSBwZXJjZW50YWdlLCBmaW5kIHdoZXJlIGl0IGlzIG9uIHRoZSBzcGVjaWZpZWQgcmFuZ2UuXG4gICAgZnVuY3Rpb24gZnJvbVN0ZXBwaW5nKHhWYWwsIHhQY3QsIHZhbHVlKSB7XG4gICAgICAgIC8vIFRoZXJlIGlzIG5vIHJhbmdlIGdyb3VwIHRoYXQgZml0cyAxMDBcbiAgICAgICAgaWYgKHZhbHVlID49IDEwMCkge1xuICAgICAgICAgICAgcmV0dXJuIHhWYWwuc2xpY2UoLTEpWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGogPSBnZXRKKHZhbHVlLCB4UGN0KTtcbiAgICAgICAgdmFyIHZhID0geFZhbFtqIC0gMV07XG4gICAgICAgIHZhciB2YiA9IHhWYWxbal07XG4gICAgICAgIHZhciBwYSA9IHhQY3RbaiAtIDFdO1xuICAgICAgICB2YXIgcGIgPSB4UGN0W2pdO1xuXG4gICAgICAgIHJldHVybiBpc1BlcmNlbnRhZ2UoW3ZhLCB2Yl0sICh2YWx1ZSAtIHBhKSAqIHN1YlJhbmdlUmF0aW8ocGEsIHBiKSk7XG4gICAgfVxuXG4gICAgLy8gKHBlcmNlbnRhZ2UpIEdldCB0aGUgc3RlcCB0aGF0IGFwcGxpZXMgYXQgYSBjZXJ0YWluIHZhbHVlLlxuICAgIGZ1bmN0aW9uIGdldFN0ZXAoeFBjdCwgeFN0ZXBzLCBzbmFwLCB2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IDEwMCkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGogPSBnZXRKKHZhbHVlLCB4UGN0KTtcbiAgICAgICAgdmFyIGEgPSB4UGN0W2ogLSAxXTtcbiAgICAgICAgdmFyIGIgPSB4UGN0W2pdO1xuXG4gICAgICAgIC8vIElmICdzbmFwJyBpcyBzZXQsIHN0ZXBzIGFyZSB1c2VkIGFzIGZpeGVkIHBvaW50cyBvbiB0aGUgc2xpZGVyLlxuICAgICAgICBpZiAoc25hcCkge1xuICAgICAgICAgICAgLy8gRmluZCB0aGUgY2xvc2VzdCBwb3NpdGlvbiwgYSBvciBiLlxuICAgICAgICAgICAgaWYgKHZhbHVlIC0gYSA+IChiIC0gYSkgLyAyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF4U3RlcHNbaiAtIDFdKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geFBjdFtqIC0gMV0gKyBjbG9zZXN0KHZhbHVlIC0geFBjdFtqIC0gMV0sIHhTdGVwc1tqIC0gMV0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZUVudHJ5UG9pbnQoaW5kZXgsIHZhbHVlLCB0aGF0KSB7XG4gICAgICAgIHZhciBwZXJjZW50YWdlO1xuXG4gICAgICAgIC8vIFdyYXAgbnVtZXJpY2FsIGlucHV0IGluIGFuIGFycmF5LlxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IFt2YWx1ZV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZWplY3QgYW55IGludmFsaWQgaW5wdXQsIGJ5IHRlc3Rpbmcgd2hldGhlciB2YWx1ZSBpcyBhbiBhcnJheS5cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAncmFuZ2UnIGNvbnRhaW5zIGludmFsaWQgdmFsdWUuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ292ZXJ0IG1pbi9tYXggc3ludGF4IHRvIDAgYW5kIDEwMC5cbiAgICAgICAgaWYgKGluZGV4ID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICBwZXJjZW50YWdlID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChpbmRleCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgcGVyY2VudGFnZSA9IDEwMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlcmNlbnRhZ2UgPSBwYXJzZUZsb2F0KGluZGV4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGZvciBjb3JyZWN0IGlucHV0LlxuICAgICAgICBpZiAoIWlzTnVtZXJpYyhwZXJjZW50YWdlKSB8fCAhaXNOdW1lcmljKHZhbHVlWzBdKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAncmFuZ2UnIHZhbHVlIGlzbid0IG51bWVyaWMuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RvcmUgdmFsdWVzLlxuICAgICAgICB0aGF0LnhQY3QucHVzaChwZXJjZW50YWdlKTtcbiAgICAgICAgdGhhdC54VmFsLnB1c2godmFsdWVbMF0pO1xuXG4gICAgICAgIC8vIE5hTiB3aWxsIGV2YWx1YXRlIHRvIGZhbHNlIHRvbywgYnV0IHRvIGtlZXBcbiAgICAgICAgLy8gbG9nZ2luZyBjbGVhciwgc2V0IHN0ZXAgZXhwbGljaXRseS4gTWFrZSBzdXJlXG4gICAgICAgIC8vIG5vdCB0byBvdmVycmlkZSB0aGUgJ3N0ZXAnIHNldHRpbmcgd2l0aCBmYWxzZS5cbiAgICAgICAgaWYgKCFwZXJjZW50YWdlKSB7XG4gICAgICAgICAgICBpZiAoIWlzTmFOKHZhbHVlWzFdKSkge1xuICAgICAgICAgICAgICAgIHRoYXQueFN0ZXBzWzBdID0gdmFsdWVbMV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGF0LnhTdGVwcy5wdXNoKGlzTmFOKHZhbHVlWzFdKSA/IGZhbHNlIDogdmFsdWVbMV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhhdC54SGlnaGVzdENvbXBsZXRlU3RlcC5wdXNoKDApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVN0ZXBQb2ludChpLCBuLCB0aGF0KSB7XG4gICAgICAgIC8vIElnbm9yZSAnZmFsc2UnIHN0ZXBwaW5nLlxuICAgICAgICBpZiAoIW4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0ZXAgb3ZlciB6ZXJvLWxlbmd0aCByYW5nZXMgKCM5NDgpO1xuICAgICAgICBpZiAodGhhdC54VmFsW2ldID09PSB0aGF0LnhWYWxbaSArIDFdKSB7XG4gICAgICAgICAgICB0aGF0LnhTdGVwc1tpXSA9IHRoYXQueEhpZ2hlc3RDb21wbGV0ZVN0ZXBbaV0gPSB0aGF0LnhWYWxbaV07XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZhY3RvciB0byByYW5nZSByYXRpb1xuICAgICAgICB0aGF0LnhTdGVwc1tpXSA9XG4gICAgICAgICAgICBmcm9tUGVyY2VudGFnZShbdGhhdC54VmFsW2ldLCB0aGF0LnhWYWxbaSArIDFdXSwgbiwgMCkgLyBzdWJSYW5nZVJhdGlvKHRoYXQueFBjdFtpXSwgdGhhdC54UGN0W2kgKyAxXSk7XG5cbiAgICAgICAgdmFyIHRvdGFsU3RlcHMgPSAodGhhdC54VmFsW2kgKyAxXSAtIHRoYXQueFZhbFtpXSkgLyB0aGF0LnhOdW1TdGVwc1tpXTtcbiAgICAgICAgdmFyIGhpZ2hlc3RTdGVwID0gTWF0aC5jZWlsKE51bWJlcih0b3RhbFN0ZXBzLnRvRml4ZWQoMykpIC0gMSk7XG4gICAgICAgIHZhciBzdGVwID0gdGhhdC54VmFsW2ldICsgdGhhdC54TnVtU3RlcHNbaV0gKiBoaWdoZXN0U3RlcDtcblxuICAgICAgICB0aGF0LnhIaWdoZXN0Q29tcGxldGVTdGVwW2ldID0gc3RlcDtcbiAgICB9XG5cbiAgICAvL2VuZHJlZ2lvblxuXG4gICAgLy9yZWdpb24gU3BlY3RydW1cblxuICAgIGZ1bmN0aW9uIFNwZWN0cnVtKGVudHJ5LCBzbmFwLCBzaW5nbGVTdGVwKSB7XG4gICAgICAgIHRoaXMueFBjdCA9IFtdO1xuICAgICAgICB0aGlzLnhWYWwgPSBbXTtcbiAgICAgICAgdGhpcy54U3RlcHMgPSBbc2luZ2xlU3RlcCB8fCBmYWxzZV07XG4gICAgICAgIHRoaXMueE51bVN0ZXBzID0gW2ZhbHNlXTtcbiAgICAgICAgdGhpcy54SGlnaGVzdENvbXBsZXRlU3RlcCA9IFtdO1xuXG4gICAgICAgIHRoaXMuc25hcCA9IHNuYXA7XG5cbiAgICAgICAgdmFyIGluZGV4O1xuICAgICAgICB2YXIgb3JkZXJlZCA9IFtdOyAvLyBbMCwgJ21pbiddLCBbMSwgJzUwJSddLCBbMiwgJ21heCddXG5cbiAgICAgICAgLy8gTWFwIHRoZSBvYmplY3Qga2V5cyB0byBhbiBhcnJheS5cbiAgICAgICAgZm9yIChpbmRleCBpbiBlbnRyeSkge1xuICAgICAgICAgICAgaWYgKGVudHJ5Lmhhc093blByb3BlcnR5KGluZGV4KSkge1xuICAgICAgICAgICAgICAgIG9yZGVyZWQucHVzaChbZW50cnlbaW5kZXhdLCBpbmRleF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU29ydCBhbGwgZW50cmllcyBieSB2YWx1ZSAobnVtZXJpYyBzb3J0KS5cbiAgICAgICAgaWYgKG9yZGVyZWQubGVuZ3RoICYmIHR5cGVvZiBvcmRlcmVkWzBdWzBdID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICBvcmRlcmVkLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBhWzBdWzBdIC0gYlswXVswXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3JkZXJlZC5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYVswXSAtIGJbMF07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENvbnZlcnQgYWxsIGVudHJpZXMgdG8gc3VicmFuZ2VzLlxuICAgICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBvcmRlcmVkLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgaGFuZGxlRW50cnlQb2ludChvcmRlcmVkW2luZGV4XVsxXSwgb3JkZXJlZFtpbmRleF1bMF0sIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RvcmUgdGhlIGFjdHVhbCBzdGVwIHZhbHVlcy5cbiAgICAgICAgLy8geFN0ZXBzIGlzIHNvcnRlZCBpbiB0aGUgc2FtZSBvcmRlciBhcyB4UGN0IGFuZCB4VmFsLlxuICAgICAgICB0aGlzLnhOdW1TdGVwcyA9IHRoaXMueFN0ZXBzLnNsaWNlKDApO1xuXG4gICAgICAgIC8vIENvbnZlcnQgYWxsIG51bWVyaWMgc3RlcHMgdG8gdGhlIHBlcmNlbnRhZ2Ugb2YgdGhlIHN1YnJhbmdlIHRoZXkgcmVwcmVzZW50LlxuICAgICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLnhOdW1TdGVwcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGhhbmRsZVN0ZXBQb2ludChpbmRleCwgdGhpcy54TnVtU3RlcHNbaW5kZXhdLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIFNwZWN0cnVtLnByb3RvdHlwZS5nZXREaXN0YW5jZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHZhciBpbmRleDtcbiAgICAgICAgdmFyIGRpc3RhbmNlcyA9IFtdO1xuXG4gICAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IHRoaXMueE51bVN0ZXBzLmxlbmd0aCAtIDE7IGluZGV4KyspIHtcbiAgICAgICAgICAgIC8vIGxhc3QgXCJyYW5nZVwiIGNhbid0IGNvbnRhaW4gc3RlcCBzaXplIGFzIGl0IGlzIHB1cmVseSBhbiBlbmRwb2ludC5cbiAgICAgICAgICAgIHZhciBzdGVwID0gdGhpcy54TnVtU3RlcHNbaW5kZXhdO1xuXG4gICAgICAgICAgICBpZiAoc3RlcCAmJiAodmFsdWUgLyBzdGVwKSAlIDEgIT09IDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIFwibm9VaVNsaWRlciAoXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgVkVSU0lPTiArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIik6ICdsaW1pdCcsICdtYXJnaW4nIGFuZCAncGFkZGluZycgb2YgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy54UGN0W2luZGV4XSArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiUgcmFuZ2UgbXVzdCBiZSBkaXZpc2libGUgYnkgc3RlcC5cIlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBwZXJjZW50dWFsIGRpc3RhbmNlIGluIGN1cnJlbnQgcmFuZ2Ugb2YgbGltaXQsIG1hcmdpbiBvciBwYWRkaW5nXG4gICAgICAgICAgICBkaXN0YW5jZXNbaW5kZXhdID0gZnJvbVBlcmNlbnRhZ2UodGhpcy54VmFsLCB2YWx1ZSwgaW5kZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRpc3RhbmNlcztcbiAgICB9O1xuXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBwZXJjZW50dWFsIGRpc3RhbmNlIG92ZXIgdGhlIHdob2xlIHNjYWxlIG9mIHJhbmdlcy5cbiAgICAvLyBkaXJlY3Rpb246IDAgPSBiYWNrd2FyZHMgLyAxID0gZm9yd2FyZHNcbiAgICBTcGVjdHJ1bS5wcm90b3R5cGUuZ2V0QWJzb2x1dGVEaXN0YW5jZSA9IGZ1bmN0aW9uKHZhbHVlLCBkaXN0YW5jZXMsIGRpcmVjdGlvbikge1xuICAgICAgICB2YXIgeFBjdF9pbmRleCA9IDA7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIHJhbmdlIHdoZXJlIHRvIHN0YXJ0IGNhbGN1bGF0aW9uXG4gICAgICAgIGlmICh2YWx1ZSA8IHRoaXMueFBjdFt0aGlzLnhQY3QubGVuZ3RoIC0gMV0pIHtcbiAgICAgICAgICAgIHdoaWxlICh2YWx1ZSA+IHRoaXMueFBjdFt4UGN0X2luZGV4ICsgMV0pIHtcbiAgICAgICAgICAgICAgICB4UGN0X2luZGV4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09IHRoaXMueFBjdFt0aGlzLnhQY3QubGVuZ3RoIC0gMV0pIHtcbiAgICAgICAgICAgIHhQY3RfaW5kZXggPSB0aGlzLnhQY3QubGVuZ3RoIC0gMjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIGxvb2tpbmcgYmFja3dhcmRzIGFuZCB0aGUgdmFsdWUgaXMgZXhhY3RseSBhdCBhIHJhbmdlIHNlcGFyYXRvciB0aGVuIGxvb2sgb25lIHJhbmdlIGZ1cnRoZXJcbiAgICAgICAgaWYgKCFkaXJlY3Rpb24gJiYgdmFsdWUgPT09IHRoaXMueFBjdFt4UGN0X2luZGV4ICsgMV0pIHtcbiAgICAgICAgICAgIHhQY3RfaW5kZXgrKztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdGFydF9mYWN0b3I7XG4gICAgICAgIHZhciByZXN0X2ZhY3RvciA9IDE7XG5cbiAgICAgICAgdmFyIHJlc3RfcmVsX2Rpc3RhbmNlID0gZGlzdGFuY2VzW3hQY3RfaW5kZXhdO1xuXG4gICAgICAgIHZhciByYW5nZV9wY3QgPSAwO1xuXG4gICAgICAgIHZhciByZWxfcmFuZ2VfZGlzdGFuY2UgPSAwO1xuICAgICAgICB2YXIgYWJzX2Rpc3RhbmNlX2NvdW50ZXIgPSAwO1xuICAgICAgICB2YXIgcmFuZ2VfY291bnRlciA9IDA7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIHdoYXQgcGFydCBvZiB0aGUgc3RhcnQgcmFuZ2UgdGhlIHZhbHVlIGlzXG4gICAgICAgIGlmIChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIHN0YXJ0X2ZhY3RvciA9ICh2YWx1ZSAtIHRoaXMueFBjdFt4UGN0X2luZGV4XSkgLyAodGhpcy54UGN0W3hQY3RfaW5kZXggKyAxXSAtIHRoaXMueFBjdFt4UGN0X2luZGV4XSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGFydF9mYWN0b3IgPSAodGhpcy54UGN0W3hQY3RfaW5kZXggKyAxXSAtIHZhbHVlKSAvICh0aGlzLnhQY3RbeFBjdF9pbmRleCArIDFdIC0gdGhpcy54UGN0W3hQY3RfaW5kZXhdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERvIHVudGlsIHRoZSBjb21wbGV0ZSBkaXN0YW5jZSBhY3Jvc3MgcmFuZ2VzIGlzIGNhbGN1bGF0ZWRcbiAgICAgICAgd2hpbGUgKHJlc3RfcmVsX2Rpc3RhbmNlID4gMCkge1xuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBwZXJjZW50YWdlIG9mIHRvdGFsIHJhbmdlXG4gICAgICAgICAgICByYW5nZV9wY3QgPSB0aGlzLnhQY3RbeFBjdF9pbmRleCArIDEgKyByYW5nZV9jb3VudGVyXSAtIHRoaXMueFBjdFt4UGN0X2luZGV4ICsgcmFuZ2VfY291bnRlcl07XG5cbiAgICAgICAgICAgIC8vIERldGVjdCBpZiB0aGUgbWFyZ2luLCBwYWRkaW5nIG9yIGxpbWl0IGlzIGxhcmdlciB0aGVuIHRoZSBjdXJyZW50IHJhbmdlIGFuZCBjYWxjdWxhdGVcbiAgICAgICAgICAgIGlmIChkaXN0YW5jZXNbeFBjdF9pbmRleCArIHJhbmdlX2NvdW50ZXJdICogcmVzdF9mYWN0b3IgKyAxMDAgLSBzdGFydF9mYWN0b3IgKiAxMDAgPiAxMDApIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBsYXJnZXIgdGhlbiB0YWtlIHRoZSBwZXJjZW50dWFsIGRpc3RhbmNlIG9mIHRoZSB3aG9sZSByYW5nZVxuICAgICAgICAgICAgICAgIHJlbF9yYW5nZV9kaXN0YW5jZSA9IHJhbmdlX3BjdCAqIHN0YXJ0X2ZhY3RvcjtcbiAgICAgICAgICAgICAgICAvLyBSZXN0IGZhY3RvciBvZiByZWxhdGl2ZSBwZXJjZW50dWFsIGRpc3RhbmNlIHN0aWxsIHRvIGJlIGNhbGN1bGF0ZWRcbiAgICAgICAgICAgICAgICByZXN0X2ZhY3RvciA9IChyZXN0X3JlbF9kaXN0YW5jZSAtIDEwMCAqIHN0YXJ0X2ZhY3RvcikgLyBkaXN0YW5jZXNbeFBjdF9pbmRleCArIHJhbmdlX2NvdW50ZXJdO1xuICAgICAgICAgICAgICAgIC8vIFNldCBzdGFydCBmYWN0b3IgdG8gMSBhcyBmb3IgbmV4dCByYW5nZSBpdCBkb2VzIG5vdCBhcHBseS5cbiAgICAgICAgICAgICAgICBzdGFydF9mYWN0b3IgPSAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBzbWFsbGVyIG9yIGVxdWFsIHRoZW4gdGFrZSB0aGUgcGVyY2VudHVhbCBkaXN0YW5jZSBvZiB0aGUgY2FsY3VsYXRlIHBlcmNlbnR1YWwgcGFydCBvZiB0aGF0IHJhbmdlXG4gICAgICAgICAgICAgICAgcmVsX3JhbmdlX2Rpc3RhbmNlID0gKChkaXN0YW5jZXNbeFBjdF9pbmRleCArIHJhbmdlX2NvdW50ZXJdICogcmFuZ2VfcGN0KSAvIDEwMCkgKiByZXN0X2ZhY3RvcjtcbiAgICAgICAgICAgICAgICAvLyBObyByZXN0IGxlZnQgYXMgdGhlIHJlc3QgZml0cyBpbiBjdXJyZW50IHJhbmdlXG4gICAgICAgICAgICAgICAgcmVzdF9mYWN0b3IgPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgYWJzX2Rpc3RhbmNlX2NvdW50ZXIgPSBhYnNfZGlzdGFuY2VfY291bnRlciAtIHJlbF9yYW5nZV9kaXN0YW5jZTtcbiAgICAgICAgICAgICAgICAvLyBMaW1pdCByYW5nZSB0byBmaXJzdCByYW5nZSB3aGVuIGRpc3RhbmNlIGJlY29tZXMgb3V0c2lkZSBvZiBtaW5pbXVtIHJhbmdlXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMueFBjdC5sZW5ndGggKyByYW5nZV9jb3VudGVyID49IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VfY291bnRlci0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYWJzX2Rpc3RhbmNlX2NvdW50ZXIgPSBhYnNfZGlzdGFuY2VfY291bnRlciArIHJlbF9yYW5nZV9kaXN0YW5jZTtcbiAgICAgICAgICAgICAgICAvLyBMaW1pdCByYW5nZSB0byBsYXN0IHJhbmdlIHdoZW4gZGlzdGFuY2UgYmVjb21lcyBvdXRzaWRlIG9mIG1heGltdW0gcmFuZ2VcbiAgICAgICAgICAgICAgICBpZiAodGhpcy54UGN0Lmxlbmd0aCAtIHJhbmdlX2NvdW50ZXIgPj0gMSkge1xuICAgICAgICAgICAgICAgICAgICByYW5nZV9jb3VudGVyKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSZXN0IG9mIHJlbGF0aXZlIHBlcmNlbnR1YWwgZGlzdGFuY2Ugc3RpbGwgdG8gYmUgY2FsY3VsYXRlZFxuICAgICAgICAgICAgcmVzdF9yZWxfZGlzdGFuY2UgPSBkaXN0YW5jZXNbeFBjdF9pbmRleCArIHJhbmdlX2NvdW50ZXJdICogcmVzdF9mYWN0b3I7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWUgKyBhYnNfZGlzdGFuY2VfY291bnRlcjtcbiAgICB9O1xuXG4gICAgU3BlY3RydW0ucHJvdG90eXBlLnRvU3RlcHBpbmcgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IHRvU3RlcHBpbmcodGhpcy54VmFsLCB0aGlzLnhQY3QsIHZhbHVlKTtcblxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcblxuICAgIFNwZWN0cnVtLnByb3RvdHlwZS5mcm9tU3RlcHBpbmcgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gZnJvbVN0ZXBwaW5nKHRoaXMueFZhbCwgdGhpcy54UGN0LCB2YWx1ZSk7XG4gICAgfTtcblxuICAgIFNwZWN0cnVtLnByb3RvdHlwZS5nZXRTdGVwID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSBnZXRTdGVwKHRoaXMueFBjdCwgdGhpcy54U3RlcHMsIHRoaXMuc25hcCwgdmFsdWUpO1xuXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuXG4gICAgU3BlY3RydW0ucHJvdG90eXBlLmdldERlZmF1bHRTdGVwID0gZnVuY3Rpb24odmFsdWUsIGlzRG93biwgc2l6ZSkge1xuICAgICAgICB2YXIgaiA9IGdldEoodmFsdWUsIHRoaXMueFBjdCk7XG5cbiAgICAgICAgLy8gV2hlbiBhdCB0aGUgdG9wIG9yIHN0ZXBwaW5nIGRvd24sIGxvb2sgYXQgdGhlIHByZXZpb3VzIHN1Yi1yYW5nZVxuICAgICAgICBpZiAodmFsdWUgPT09IDEwMCB8fCAoaXNEb3duICYmIHZhbHVlID09PSB0aGlzLnhQY3RbaiAtIDFdKSkge1xuICAgICAgICAgICAgaiA9IE1hdGgubWF4KGogLSAxLCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAodGhpcy54VmFsW2pdIC0gdGhpcy54VmFsW2ogLSAxXSkgLyBzaXplO1xuICAgIH07XG5cbiAgICBTcGVjdHJ1bS5wcm90b3R5cGUuZ2V0TmVhcmJ5U3RlcHMgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2YXIgaiA9IGdldEoodmFsdWUsIHRoaXMueFBjdCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0ZXBCZWZvcmU6IHtcbiAgICAgICAgICAgICAgICBzdGFydFZhbHVlOiB0aGlzLnhWYWxbaiAtIDJdLFxuICAgICAgICAgICAgICAgIHN0ZXA6IHRoaXMueE51bVN0ZXBzW2ogLSAyXSxcbiAgICAgICAgICAgICAgICBoaWdoZXN0U3RlcDogdGhpcy54SGlnaGVzdENvbXBsZXRlU3RlcFtqIC0gMl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0aGlzU3RlcDoge1xuICAgICAgICAgICAgICAgIHN0YXJ0VmFsdWU6IHRoaXMueFZhbFtqIC0gMV0sXG4gICAgICAgICAgICAgICAgc3RlcDogdGhpcy54TnVtU3RlcHNbaiAtIDFdLFxuICAgICAgICAgICAgICAgIGhpZ2hlc3RTdGVwOiB0aGlzLnhIaWdoZXN0Q29tcGxldGVTdGVwW2ogLSAxXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0ZXBBZnRlcjoge1xuICAgICAgICAgICAgICAgIHN0YXJ0VmFsdWU6IHRoaXMueFZhbFtqXSxcbiAgICAgICAgICAgICAgICBzdGVwOiB0aGlzLnhOdW1TdGVwc1tqXSxcbiAgICAgICAgICAgICAgICBoaWdoZXN0U3RlcDogdGhpcy54SGlnaGVzdENvbXBsZXRlU3RlcFtqXVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICBTcGVjdHJ1bS5wcm90b3R5cGUuY291bnRTdGVwRGVjaW1hbHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHN0ZXBEZWNpbWFscyA9IHRoaXMueE51bVN0ZXBzLm1hcChjb3VudERlY2ltYWxzKTtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4LmFwcGx5KG51bGwsIHN0ZXBEZWNpbWFscyk7XG4gICAgfTtcblxuICAgIC8vIE91dHNpZGUgdGVzdGluZ1xuICAgIFNwZWN0cnVtLnByb3RvdHlwZS5jb252ZXJ0ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U3RlcCh0aGlzLnRvU3RlcHBpbmcodmFsdWUpKTtcbiAgICB9O1xuXG4gICAgLy9lbmRyZWdpb25cblxuICAgIC8vcmVnaW9uIE9wdGlvbnNcblxuICAgIC8qXHRFdmVyeSBpbnB1dCBvcHRpb24gaXMgdGVzdGVkIGFuZCBwYXJzZWQuIFRoaXMnbGwgcHJldmVudFxuICAgICAgICBlbmRsZXNzIHZhbGlkYXRpb24gaW4gaW50ZXJuYWwgbWV0aG9kcy4gVGhlc2UgdGVzdHMgYXJlXG4gICAgICAgIHN0cnVjdHVyZWQgd2l0aCBhbiBpdGVtIGZvciBldmVyeSBvcHRpb24gYXZhaWxhYmxlLiBBblxuICAgICAgICBvcHRpb24gY2FuIGJlIG1hcmtlZCBhcyByZXF1aXJlZCBieSBzZXR0aW5nIHRoZSAncicgZmxhZy5cbiAgICAgICAgVGhlIHRlc3RpbmcgZnVuY3Rpb24gaXMgcHJvdmlkZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6XG4gICAgICAgICAgICAtIFRoZSBwcm92aWRlZCB2YWx1ZSBmb3IgdGhlIG9wdGlvbjtcbiAgICAgICAgICAgIC0gQSByZWZlcmVuY2UgdG8gdGhlIG9wdGlvbnMgb2JqZWN0O1xuICAgICAgICAgICAgLSBUaGUgbmFtZSBmb3IgdGhlIG9wdGlvbjtcblxuICAgICAgICBUaGUgdGVzdGluZyBmdW5jdGlvbiByZXR1cm5zIGZhbHNlIHdoZW4gYW4gZXJyb3IgaXMgZGV0ZWN0ZWQsXG4gICAgICAgIG9yIHRydWUgd2hlbiBldmVyeXRoaW5nIGlzIE9LLiBJdCBjYW4gYWxzbyBtb2RpZnkgdGhlIG9wdGlvblxuICAgICAgICBvYmplY3QsIHRvIG1ha2Ugc3VyZSBhbGwgdmFsdWVzIGNhbiBiZSBjb3JyZWN0bHkgbG9vcGVkIGVsc2V3aGVyZS4gKi9cblxuICAgIC8vcmVnaW9uIERlZmF1bHRzXG5cbiAgICB2YXIgZGVmYXVsdEZvcm1hdHRlciA9IHtcbiAgICAgICAgdG86IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZS50b0ZpeGVkKDIpO1xuICAgICAgICB9LFxuICAgICAgICBmcm9tOiBOdW1iZXJcbiAgICB9O1xuXG4gICAgdmFyIGNzc0NsYXNzZXMgPSB7XG4gICAgICAgIHRhcmdldDogXCJ0YXJnZXRcIixcbiAgICAgICAgYmFzZTogXCJiYXNlXCIsXG4gICAgICAgIG9yaWdpbjogXCJvcmlnaW5cIixcbiAgICAgICAgaGFuZGxlOiBcImhhbmRsZVwiLFxuICAgICAgICBoYW5kbGVMb3dlcjogXCJoYW5kbGUtbG93ZXJcIixcbiAgICAgICAgaGFuZGxlVXBwZXI6IFwiaGFuZGxlLXVwcGVyXCIsXG4gICAgICAgIHRvdWNoQXJlYTogXCJ0b3VjaC1hcmVhXCIsXG4gICAgICAgIGhvcml6b250YWw6IFwiaG9yaXpvbnRhbFwiLFxuICAgICAgICB2ZXJ0aWNhbDogXCJ2ZXJ0aWNhbFwiLFxuICAgICAgICBiYWNrZ3JvdW5kOiBcImJhY2tncm91bmRcIixcbiAgICAgICAgY29ubmVjdDogXCJjb25uZWN0XCIsXG4gICAgICAgIGNvbm5lY3RzOiBcImNvbm5lY3RzXCIsXG4gICAgICAgIGx0cjogXCJsdHJcIixcbiAgICAgICAgcnRsOiBcInJ0bFwiLFxuICAgICAgICB0ZXh0RGlyZWN0aW9uTHRyOiBcInR4dC1kaXItbHRyXCIsXG4gICAgICAgIHRleHREaXJlY3Rpb25SdGw6IFwidHh0LWRpci1ydGxcIixcbiAgICAgICAgZHJhZ2dhYmxlOiBcImRyYWdnYWJsZVwiLFxuICAgICAgICBkcmFnOiBcInN0YXRlLWRyYWdcIixcbiAgICAgICAgdGFwOiBcInN0YXRlLXRhcFwiLFxuICAgICAgICBhY3RpdmU6IFwiYWN0aXZlXCIsXG4gICAgICAgIHRvb2x0aXA6IFwidG9vbHRpcFwiLFxuICAgICAgICBwaXBzOiBcInBpcHNcIixcbiAgICAgICAgcGlwc0hvcml6b250YWw6IFwicGlwcy1ob3Jpem9udGFsXCIsXG4gICAgICAgIHBpcHNWZXJ0aWNhbDogXCJwaXBzLXZlcnRpY2FsXCIsXG4gICAgICAgIG1hcmtlcjogXCJtYXJrZXJcIixcbiAgICAgICAgbWFya2VySG9yaXpvbnRhbDogXCJtYXJrZXItaG9yaXpvbnRhbFwiLFxuICAgICAgICBtYXJrZXJWZXJ0aWNhbDogXCJtYXJrZXItdmVydGljYWxcIixcbiAgICAgICAgbWFya2VyTm9ybWFsOiBcIm1hcmtlci1ub3JtYWxcIixcbiAgICAgICAgbWFya2VyTGFyZ2U6IFwibWFya2VyLWxhcmdlXCIsXG4gICAgICAgIG1hcmtlclN1YjogXCJtYXJrZXItc3ViXCIsXG4gICAgICAgIHZhbHVlOiBcInZhbHVlXCIsXG4gICAgICAgIHZhbHVlSG9yaXpvbnRhbDogXCJ2YWx1ZS1ob3Jpem9udGFsXCIsXG4gICAgICAgIHZhbHVlVmVydGljYWw6IFwidmFsdWUtdmVydGljYWxcIixcbiAgICAgICAgdmFsdWVOb3JtYWw6IFwidmFsdWUtbm9ybWFsXCIsXG4gICAgICAgIHZhbHVlTGFyZ2U6IFwidmFsdWUtbGFyZ2VcIixcbiAgICAgICAgdmFsdWVTdWI6IFwidmFsdWUtc3ViXCJcbiAgICB9O1xuXG4gICAgLy9lbmRyZWdpb25cblxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlRm9ybWF0KGVudHJ5KSB7XG4gICAgICAgIC8vIEFueSBvYmplY3Qgd2l0aCBhIHRvIGFuZCBmcm9tIG1ldGhvZCBpcyBzdXBwb3J0ZWQuXG4gICAgICAgIGlmIChpc1ZhbGlkRm9ybWF0dGVyKGVudHJ5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdmb3JtYXQnIHJlcXVpcmVzICd0bycgYW5kICdmcm9tJyBtZXRob2RzLlwiKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0ZXN0U3RlcChwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIGlmICghaXNOdW1lcmljKGVudHJ5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnc3RlcCcgaXMgbm90IG51bWVyaWMuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlIHN0ZXAgb3B0aW9uIGNhbiBzdGlsbCBiZSB1c2VkIHRvIHNldCBzdGVwcGluZ1xuICAgICAgICAvLyBmb3IgbGluZWFyIHNsaWRlcnMuIE92ZXJ3cml0dGVuIGlmIHNldCBpbiAncmFuZ2UnLlxuICAgICAgICBwYXJzZWQuc2luZ2xlU3RlcCA9IGVudHJ5O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRlc3RSYW5nZShwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIC8vIEZpbHRlciBpbmNvcnJlY3QgaW5wdXQuXG4gICAgICAgIGlmICh0eXBlb2YgZW50cnkgIT09IFwib2JqZWN0XCIgfHwgQXJyYXkuaXNBcnJheShlbnRyeSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3JhbmdlJyBpcyBub3QgYW4gb2JqZWN0LlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhdGNoIG1pc3Npbmcgc3RhcnQgb3IgZW5kLlxuICAgICAgICBpZiAoZW50cnkubWluID09PSB1bmRlZmluZWQgfHwgZW50cnkubWF4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogTWlzc2luZyAnbWluJyBvciAnbWF4JyBpbiAncmFuZ2UnLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhdGNoIGVxdWFsIHN0YXJ0IG9yIGVuZC5cbiAgICAgICAgaWYgKGVudHJ5Lm1pbiA9PT0gZW50cnkubWF4KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdyYW5nZScgJ21pbicgYW5kICdtYXgnIGNhbm5vdCBiZSBlcXVhbC5cIik7XG4gICAgICAgIH1cblxuICAgICAgICBwYXJzZWQuc3BlY3RydW0gPSBuZXcgU3BlY3RydW0oZW50cnksIHBhcnNlZC5zbmFwLCBwYXJzZWQuc2luZ2xlU3RlcCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGVzdFN0YXJ0KHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgZW50cnkgPSBhc0FycmF5KGVudHJ5KTtcblxuICAgICAgICAvLyBWYWxpZGF0ZSBpbnB1dC4gVmFsdWVzIGFyZW4ndCB0ZXN0ZWQsIGFzIHRoZSBwdWJsaWMgLnZhbCBtZXRob2RcbiAgICAgICAgLy8gd2lsbCBhbHdheXMgcHJvdmlkZSBhIHZhbGlkIGxvY2F0aW9uLlxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZW50cnkpIHx8ICFlbnRyeS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3N0YXJ0JyBvcHRpb24gaXMgaW5jb3JyZWN0LlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0b3JlIHRoZSBudW1iZXIgb2YgaGFuZGxlcy5cbiAgICAgICAgcGFyc2VkLmhhbmRsZXMgPSBlbnRyeS5sZW5ndGg7XG5cbiAgICAgICAgLy8gV2hlbiB0aGUgc2xpZGVyIGlzIGluaXRpYWxpemVkLCB0aGUgLnZhbCBtZXRob2Qgd2lsbFxuICAgICAgICAvLyBiZSBjYWxsZWQgd2l0aCB0aGUgc3RhcnQgb3B0aW9ucy5cbiAgICAgICAgcGFyc2VkLnN0YXJ0ID0gZW50cnk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGVzdFNuYXAocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICAvLyBFbmZvcmNlIDEwMCUgc3RlcHBpbmcgd2l0aGluIHN1YnJhbmdlcy5cbiAgICAgICAgcGFyc2VkLnNuYXAgPSBlbnRyeTtcblxuICAgICAgICBpZiAodHlwZW9mIGVudHJ5ICE9PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnc25hcCcgb3B0aW9uIG11c3QgYmUgYSBib29sZWFuLlwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRlc3RBbmltYXRlKHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgLy8gRW5mb3JjZSAxMDAlIHN0ZXBwaW5nIHdpdGhpbiBzdWJyYW5nZXMuXG4gICAgICAgIHBhcnNlZC5hbmltYXRlID0gZW50cnk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBlbnRyeSAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2FuaW1hdGUnIG9wdGlvbiBtdXN0IGJlIGEgYm9vbGVhbi5cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0ZXN0QW5pbWF0aW9uRHVyYXRpb24ocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICBwYXJzZWQuYW5pbWF0aW9uRHVyYXRpb24gPSBlbnRyeTtcblxuICAgICAgICBpZiAodHlwZW9mIGVudHJ5ICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdhbmltYXRpb25EdXJhdGlvbicgb3B0aW9uIG11c3QgYmUgYSBudW1iZXIuXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGVzdENvbm5lY3QocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICB2YXIgY29ubmVjdCA9IFtmYWxzZV07XG4gICAgICAgIHZhciBpO1xuXG4gICAgICAgIC8vIE1hcCBsZWdhY3kgb3B0aW9uc1xuICAgICAgICBpZiAoZW50cnkgPT09IFwibG93ZXJcIikge1xuICAgICAgICAgICAgZW50cnkgPSBbdHJ1ZSwgZmFsc2VdO1xuICAgICAgICB9IGVsc2UgaWYgKGVudHJ5ID09PSBcInVwcGVyXCIpIHtcbiAgICAgICAgICAgIGVudHJ5ID0gW2ZhbHNlLCB0cnVlXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhhbmRsZSBib29sZWFuIG9wdGlvbnNcbiAgICAgICAgaWYgKGVudHJ5ID09PSB0cnVlIHx8IGVudHJ5ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgZm9yIChpID0gMTsgaSA8IHBhcnNlZC5oYW5kbGVzOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25uZWN0LnB1c2goZW50cnkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25uZWN0LnB1c2goZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVqZWN0IGludmFsaWQgaW5wdXRcbiAgICAgICAgZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkoZW50cnkpIHx8ICFlbnRyeS5sZW5ndGggfHwgZW50cnkubGVuZ3RoICE9PSBwYXJzZWQuaGFuZGxlcyArIDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2Nvbm5lY3QnIG9wdGlvbiBkb2Vzbid0IG1hdGNoIGhhbmRsZSBjb3VudC5cIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25uZWN0ID0gZW50cnk7XG4gICAgICAgIH1cblxuICAgICAgICBwYXJzZWQuY29ubmVjdCA9IGNvbm5lY3Q7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGVzdE9yaWVudGF0aW9uKHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgLy8gU2V0IG9yaWVudGF0aW9uIHRvIGFuIGEgbnVtZXJpY2FsIHZhbHVlIGZvciBlYXN5XG4gICAgICAgIC8vIGFycmF5IHNlbGVjdGlvbi5cbiAgICAgICAgc3dpdGNoIChlbnRyeSkge1xuICAgICAgICAgICAgY2FzZSBcImhvcml6b250YWxcIjpcbiAgICAgICAgICAgICAgICBwYXJzZWQub3J0ID0gMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ2ZXJ0aWNhbFwiOlxuICAgICAgICAgICAgICAgIHBhcnNlZC5vcnQgPSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdvcmllbnRhdGlvbicgb3B0aW9uIGlzIGludmFsaWQuXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGVzdE1hcmdpbihwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIGlmICghaXNOdW1lcmljKGVudHJ5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnbWFyZ2luJyBvcHRpb24gbXVzdCBiZSBudW1lcmljLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElzc3VlICM1ODJcbiAgICAgICAgaWYgKGVudHJ5ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBwYXJzZWQubWFyZ2luID0gcGFyc2VkLnNwZWN0cnVtLmdldERpc3RhbmNlKGVudHJ5KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0ZXN0TGltaXQocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICBpZiAoIWlzTnVtZXJpYyhlbnRyeSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2xpbWl0JyBvcHRpb24gbXVzdCBiZSBudW1lcmljLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcnNlZC5saW1pdCA9IHBhcnNlZC5zcGVjdHJ1bS5nZXREaXN0YW5jZShlbnRyeSk7XG5cbiAgICAgICAgaWYgKCFwYXJzZWQubGltaXQgfHwgcGFyc2VkLmhhbmRsZXMgPCAyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJub1VpU2xpZGVyIChcIiArXG4gICAgICAgICAgICAgICAgICAgIFZFUlNJT04gK1xuICAgICAgICAgICAgICAgICAgICBcIik6ICdsaW1pdCcgb3B0aW9uIGlzIG9ubHkgc3VwcG9ydGVkIG9uIGxpbmVhciBzbGlkZXJzIHdpdGggMiBvciBtb3JlIGhhbmRsZXMuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0ZXN0UGFkZGluZyhwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIHZhciBpbmRleDtcblxuICAgICAgICBpZiAoIWlzTnVtZXJpYyhlbnRyeSkgJiYgIUFycmF5LmlzQXJyYXkoZW50cnkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdwYWRkaW5nJyBvcHRpb24gbXVzdCBiZSBudW1lcmljIG9yIGFycmF5IG9mIGV4YWN0bHkgMiBudW1iZXJzLlwiXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZW50cnkpICYmICEoZW50cnkubGVuZ3RoID09PSAyIHx8IGlzTnVtZXJpYyhlbnRyeVswXSkgfHwgaXNOdW1lcmljKGVudHJ5WzFdKSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICBcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3BhZGRpbmcnIG9wdGlvbiBtdXN0IGJlIG51bWVyaWMgb3IgYXJyYXkgb2YgZXhhY3RseSAyIG51bWJlcnMuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW50cnkgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShlbnRyeSkpIHtcbiAgICAgICAgICAgIGVudHJ5ID0gW2VudHJ5LCBlbnRyeV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyAnZ2V0RGlzdGFuY2UnIHJldHVybnMgZmFsc2UgZm9yIGludmFsaWQgdmFsdWVzLlxuICAgICAgICBwYXJzZWQucGFkZGluZyA9IFtwYXJzZWQuc3BlY3RydW0uZ2V0RGlzdGFuY2UoZW50cnlbMF0pLCBwYXJzZWQuc3BlY3RydW0uZ2V0RGlzdGFuY2UoZW50cnlbMV0pXTtcblxuICAgICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBwYXJzZWQuc3BlY3RydW0ueE51bVN0ZXBzLmxlbmd0aCAtIDE7IGluZGV4KyspIHtcbiAgICAgICAgICAgIC8vIGxhc3QgXCJyYW5nZVwiIGNhbid0IGNvbnRhaW4gc3RlcCBzaXplIGFzIGl0IGlzIHB1cmVseSBhbiBlbmRwb2ludC5cbiAgICAgICAgICAgIGlmIChwYXJzZWQucGFkZGluZ1swXVtpbmRleF0gPCAwIHx8IHBhcnNlZC5wYWRkaW5nWzFdW2luZGV4XSA8IDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdwYWRkaW5nJyBvcHRpb24gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcihzKS5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdG90YWxQYWRkaW5nID0gZW50cnlbMF0gKyBlbnRyeVsxXTtcbiAgICAgICAgdmFyIGZpcnN0VmFsdWUgPSBwYXJzZWQuc3BlY3RydW0ueFZhbFswXTtcbiAgICAgICAgdmFyIGxhc3RWYWx1ZSA9IHBhcnNlZC5zcGVjdHJ1bS54VmFsW3BhcnNlZC5zcGVjdHJ1bS54VmFsLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIGlmICh0b3RhbFBhZGRpbmcgLyAobGFzdFZhbHVlIC0gZmlyc3RWYWx1ZSkgPiAxKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdwYWRkaW5nJyBvcHRpb24gbXVzdCBub3QgZXhjZWVkIDEwMCUgb2YgdGhlIHJhbmdlLlwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRlc3REaXJlY3Rpb24ocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICAvLyBTZXQgZGlyZWN0aW9uIGFzIGEgbnVtZXJpY2FsIHZhbHVlIGZvciBlYXN5IHBhcnNpbmcuXG4gICAgICAgIC8vIEludmVydCBjb25uZWN0aW9uIGZvciBSVEwgc2xpZGVycywgc28gdGhhdCB0aGUgcHJvcGVyXG4gICAgICAgIC8vIGhhbmRsZXMgZ2V0IHRoZSBjb25uZWN0L2JhY2tncm91bmQgY2xhc3Nlcy5cbiAgICAgICAgc3dpdGNoIChlbnRyeSkge1xuICAgICAgICAgICAgY2FzZSBcImx0clwiOlxuICAgICAgICAgICAgICAgIHBhcnNlZC5kaXIgPSAwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInJ0bFwiOlxuICAgICAgICAgICAgICAgIHBhcnNlZC5kaXIgPSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdkaXJlY3Rpb24nIG9wdGlvbiB3YXMgbm90IHJlY29nbml6ZWQuXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGVzdEJlaGF2aW91cihwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgaW5wdXQgaXMgYSBzdHJpbmcuXG4gICAgICAgIGlmICh0eXBlb2YgZW50cnkgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2JlaGF2aW91cicgbXVzdCBiZSBhIHN0cmluZyBjb250YWluaW5nIG9wdGlvbnMuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHN0cmluZyBjb250YWlucyBhbnkga2V5d29yZHMuXG4gICAgICAgIC8vIE5vbmUgYXJlIHJlcXVpcmVkLlxuICAgICAgICB2YXIgdGFwID0gZW50cnkuaW5kZXhPZihcInRhcFwiKSA+PSAwO1xuICAgICAgICB2YXIgZHJhZyA9IGVudHJ5LmluZGV4T2YoXCJkcmFnXCIpID49IDA7XG4gICAgICAgIHZhciBmaXhlZCA9IGVudHJ5LmluZGV4T2YoXCJmaXhlZFwiKSA+PSAwO1xuICAgICAgICB2YXIgc25hcCA9IGVudHJ5LmluZGV4T2YoXCJzbmFwXCIpID49IDA7XG4gICAgICAgIHZhciBob3ZlciA9IGVudHJ5LmluZGV4T2YoXCJob3ZlclwiKSA+PSAwO1xuICAgICAgICB2YXIgdW5jb25zdHJhaW5lZCA9IGVudHJ5LmluZGV4T2YoXCJ1bmNvbnN0cmFpbmVkXCIpID49IDA7XG5cbiAgICAgICAgaWYgKGZpeGVkKSB7XG4gICAgICAgICAgICBpZiAocGFyc2VkLmhhbmRsZXMgIT09IDIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdmaXhlZCcgYmVoYXZpb3VyIG11c3QgYmUgdXNlZCB3aXRoIDIgaGFuZGxlc1wiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVXNlIG1hcmdpbiB0byBlbmZvcmNlIGZpeGVkIHN0YXRlXG4gICAgICAgICAgICB0ZXN0TWFyZ2luKHBhcnNlZCwgcGFyc2VkLnN0YXJ0WzFdIC0gcGFyc2VkLnN0YXJ0WzBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1bmNvbnN0cmFpbmVkICYmIChwYXJzZWQubWFyZ2luIHx8IHBhcnNlZC5saW1pdCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICBcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3VuY29uc3RyYWluZWQnIGJlaGF2aW91ciBjYW5ub3QgYmUgdXNlZCB3aXRoIG1hcmdpbiBvciBsaW1pdFwiXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFyc2VkLmV2ZW50cyA9IHtcbiAgICAgICAgICAgIHRhcDogdGFwIHx8IHNuYXAsXG4gICAgICAgICAgICBkcmFnOiBkcmFnLFxuICAgICAgICAgICAgZml4ZWQ6IGZpeGVkLFxuICAgICAgICAgICAgc25hcDogc25hcCxcbiAgICAgICAgICAgIGhvdmVyOiBob3ZlcixcbiAgICAgICAgICAgIHVuY29uc3RyYWluZWQ6IHVuY29uc3RyYWluZWRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0ZXN0VG9vbHRpcHMocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICBpZiAoZW50cnkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW50cnkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHBhcnNlZC50b29sdGlwcyA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnNlZC5oYW5kbGVzOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwYXJzZWQudG9vbHRpcHMucHVzaCh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlZC50b29sdGlwcyA9IGFzQXJyYXkoZW50cnkpO1xuXG4gICAgICAgICAgICBpZiAocGFyc2VkLnRvb2x0aXBzLmxlbmd0aCAhPT0gcGFyc2VkLmhhbmRsZXMpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6IG11c3QgcGFzcyBhIGZvcm1hdHRlciBmb3IgYWxsIGhhbmRsZXMuXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwYXJzZWQudG9vbHRpcHMuZm9yRWFjaChmdW5jdGlvbihmb3JtYXR0ZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiBmb3JtYXR0ZXIgIT09IFwiYm9vbGVhblwiICYmXG4gICAgICAgICAgICAgICAgICAgICh0eXBlb2YgZm9ybWF0dGVyICE9PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBmb3JtYXR0ZXIudG8gIT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAndG9vbHRpcHMnIG11c3QgYmUgcGFzc2VkIGEgZm9ybWF0dGVyIG9yICdmYWxzZScuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGVzdEFyaWFGb3JtYXQocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICBwYXJzZWQuYXJpYUZvcm1hdCA9IGVudHJ5O1xuICAgICAgICB2YWxpZGF0ZUZvcm1hdChlbnRyeSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGVzdEZvcm1hdChwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIHBhcnNlZC5mb3JtYXQgPSBlbnRyeTtcbiAgICAgICAgdmFsaWRhdGVGb3JtYXQoZW50cnkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRlc3RLZXlib2FyZFN1cHBvcnQocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICBwYXJzZWQua2V5Ym9hcmRTdXBwb3J0ID0gZW50cnk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBlbnRyeSAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2tleWJvYXJkU3VwcG9ydCcgb3B0aW9uIG11c3QgYmUgYSBib29sZWFuLlwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRlc3REb2N1bWVudEVsZW1lbnQocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICAvLyBUaGlzIGlzIGFuIGFkdmFuY2VkIG9wdGlvbi4gUGFzc2VkIHZhbHVlcyBhcmUgdXNlZCB3aXRob3V0IHZhbGlkYXRpb24uXG4gICAgICAgIHBhcnNlZC5kb2N1bWVudEVsZW1lbnQgPSBlbnRyeTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0ZXN0Q3NzUHJlZml4KHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBlbnRyeSAhPT0gXCJzdHJpbmdcIiAmJiBlbnRyeSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2Nzc1ByZWZpeCcgbXVzdCBiZSBhIHN0cmluZyBvciBgZmFsc2VgLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcnNlZC5jc3NQcmVmaXggPSBlbnRyeTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0ZXN0Q3NzQ2xhc3NlcyhwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIGlmICh0eXBlb2YgZW50cnkgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2Nzc0NsYXNzZXMnIG11c3QgYmUgYW4gb2JqZWN0LlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgcGFyc2VkLmNzc1ByZWZpeCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcGFyc2VkLmNzc0NsYXNzZXMgPSB7fTtcblxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGVudHJ5KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFlbnRyeS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHBhcnNlZC5jc3NDbGFzc2VzW2tleV0gPSBwYXJzZWQuY3NzUHJlZml4ICsgZW50cnlba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlZC5jc3NDbGFzc2VzID0gZW50cnk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUZXN0IGFsbCBkZXZlbG9wZXIgc2V0dGluZ3MgYW5kIHBhcnNlIHRvIGFzc3VtcHRpb24tc2FmZSB2YWx1ZXMuXG4gICAgZnVuY3Rpb24gdGVzdE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICAvLyBUbyBwcm92ZSBhIGZpeCBmb3IgIzUzNywgZnJlZXplIG9wdGlvbnMgaGVyZS5cbiAgICAgICAgLy8gSWYgdGhlIG9iamVjdCBpcyBtb2RpZmllZCwgYW4gZXJyb3Igd2lsbCBiZSB0aHJvd24uXG4gICAgICAgIC8vIE9iamVjdC5mcmVlemUob3B0aW9ucyk7XG5cbiAgICAgICAgdmFyIHBhcnNlZCA9IHtcbiAgICAgICAgICAgIG1hcmdpbjogMCxcbiAgICAgICAgICAgIGxpbWl0OiAwLFxuICAgICAgICAgICAgcGFkZGluZzogMCxcbiAgICAgICAgICAgIGFuaW1hdGU6IHRydWUsXG4gICAgICAgICAgICBhbmltYXRpb25EdXJhdGlvbjogMzAwLFxuICAgICAgICAgICAgYXJpYUZvcm1hdDogZGVmYXVsdEZvcm1hdHRlcixcbiAgICAgICAgICAgIGZvcm1hdDogZGVmYXVsdEZvcm1hdHRlclxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFRlc3RzIGFyZSBleGVjdXRlZCBpbiB0aGUgb3JkZXIgdGhleSBhcmUgcHJlc2VudGVkIGhlcmUuXG4gICAgICAgIHZhciB0ZXN0cyA9IHtcbiAgICAgICAgICAgIHN0ZXA6IHsgcjogZmFsc2UsIHQ6IHRlc3RTdGVwIH0sXG4gICAgICAgICAgICBzdGFydDogeyByOiB0cnVlLCB0OiB0ZXN0U3RhcnQgfSxcbiAgICAgICAgICAgIGNvbm5lY3Q6IHsgcjogdHJ1ZSwgdDogdGVzdENvbm5lY3QgfSxcbiAgICAgICAgICAgIGRpcmVjdGlvbjogeyByOiB0cnVlLCB0OiB0ZXN0RGlyZWN0aW9uIH0sXG4gICAgICAgICAgICBzbmFwOiB7IHI6IGZhbHNlLCB0OiB0ZXN0U25hcCB9LFxuICAgICAgICAgICAgYW5pbWF0ZTogeyByOiBmYWxzZSwgdDogdGVzdEFuaW1hdGUgfSxcbiAgICAgICAgICAgIGFuaW1hdGlvbkR1cmF0aW9uOiB7IHI6IGZhbHNlLCB0OiB0ZXN0QW5pbWF0aW9uRHVyYXRpb24gfSxcbiAgICAgICAgICAgIHJhbmdlOiB7IHI6IHRydWUsIHQ6IHRlc3RSYW5nZSB9LFxuICAgICAgICAgICAgb3JpZW50YXRpb246IHsgcjogZmFsc2UsIHQ6IHRlc3RPcmllbnRhdGlvbiB9LFxuICAgICAgICAgICAgbWFyZ2luOiB7IHI6IGZhbHNlLCB0OiB0ZXN0TWFyZ2luIH0sXG4gICAgICAgICAgICBsaW1pdDogeyByOiBmYWxzZSwgdDogdGVzdExpbWl0IH0sXG4gICAgICAgICAgICBwYWRkaW5nOiB7IHI6IGZhbHNlLCB0OiB0ZXN0UGFkZGluZyB9LFxuICAgICAgICAgICAgYmVoYXZpb3VyOiB7IHI6IHRydWUsIHQ6IHRlc3RCZWhhdmlvdXIgfSxcbiAgICAgICAgICAgIGFyaWFGb3JtYXQ6IHsgcjogZmFsc2UsIHQ6IHRlc3RBcmlhRm9ybWF0IH0sXG4gICAgICAgICAgICBmb3JtYXQ6IHsgcjogZmFsc2UsIHQ6IHRlc3RGb3JtYXQgfSxcbiAgICAgICAgICAgIHRvb2x0aXBzOiB7IHI6IGZhbHNlLCB0OiB0ZXN0VG9vbHRpcHMgfSxcbiAgICAgICAgICAgIGtleWJvYXJkU3VwcG9ydDogeyByOiB0cnVlLCB0OiB0ZXN0S2V5Ym9hcmRTdXBwb3J0IH0sXG4gICAgICAgICAgICBkb2N1bWVudEVsZW1lbnQ6IHsgcjogZmFsc2UsIHQ6IHRlc3REb2N1bWVudEVsZW1lbnQgfSxcbiAgICAgICAgICAgIGNzc1ByZWZpeDogeyByOiB0cnVlLCB0OiB0ZXN0Q3NzUHJlZml4IH0sXG4gICAgICAgICAgICBjc3NDbGFzc2VzOiB7IHI6IHRydWUsIHQ6IHRlc3RDc3NDbGFzc2VzIH1cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICBjb25uZWN0OiBmYWxzZSxcbiAgICAgICAgICAgIGRpcmVjdGlvbjogXCJsdHJcIixcbiAgICAgICAgICAgIGJlaGF2aW91cjogXCJ0YXBcIixcbiAgICAgICAgICAgIG9yaWVudGF0aW9uOiBcImhvcml6b250YWxcIixcbiAgICAgICAgICAgIGtleWJvYXJkU3VwcG9ydDogdHJ1ZSxcbiAgICAgICAgICAgIGNzc1ByZWZpeDogXCJub1VpLVwiLFxuICAgICAgICAgICAgY3NzQ2xhc3NlczogY3NzQ2xhc3Nlc1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEFyaWFGb3JtYXQgZGVmYXVsdHMgdG8gcmVndWxhciBmb3JtYXQsIGlmIGFueS5cbiAgICAgICAgaWYgKG9wdGlvbnMuZm9ybWF0ICYmICFvcHRpb25zLmFyaWFGb3JtYXQpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuYXJpYUZvcm1hdCA9IG9wdGlvbnMuZm9ybWF0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUnVuIGFsbCBvcHRpb25zIHRocm91Z2ggYSB0ZXN0aW5nIG1lY2hhbmlzbSB0byBlbnN1cmUgY29ycmVjdFxuICAgICAgICAvLyBpbnB1dC4gSXQgc2hvdWxkIGJlIG5vdGVkIHRoYXQgb3B0aW9ucyBtaWdodCBnZXQgbW9kaWZpZWQgdG9cbiAgICAgICAgLy8gYmUgaGFuZGxlZCBwcm9wZXJseS4gRS5nLiB3cmFwcGluZyBpbnRlZ2VycyBpbiBhcnJheXMuXG4gICAgICAgIE9iamVjdC5rZXlzKHRlc3RzKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBvcHRpb24gaXNuJ3Qgc2V0LCBidXQgaXQgaXMgcmVxdWlyZWQsIHRocm93IGFuIGVycm9yLlxuICAgICAgICAgICAgaWYgKCFpc1NldChvcHRpb25zW25hbWVdKSAmJiBkZWZhdWx0c1tuYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRlc3RzW25hbWVdLnIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnXCIgKyBuYW1lICsgXCInIGlzIHJlcXVpcmVkLlwiKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGVzdHNbbmFtZV0udChwYXJzZWQsICFpc1NldChvcHRpb25zW25hbWVdKSA/IGRlZmF1bHRzW25hbWVdIDogb3B0aW9uc1tuYW1lXSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEZvcndhcmQgcGlwcyBvcHRpb25zXG4gICAgICAgIHBhcnNlZC5waXBzID0gb3B0aW9ucy5waXBzO1xuXG4gICAgICAgIC8vIEFsbCByZWNlbnQgYnJvd3NlcnMgYWNjZXB0IHVucHJlZml4ZWQgdHJhbnNmb3JtLlxuICAgICAgICAvLyBXZSBuZWVkIC1tcy0gZm9yIElFOSBhbmQgLXdlYmtpdC0gZm9yIG9sZGVyIEFuZHJvaWQ7XG4gICAgICAgIC8vIEFzc3VtZSB1c2Ugb2YgLXdlYmtpdC0gaWYgdW5wcmVmaXhlZCBhbmQgLW1zLSBhcmUgbm90IHN1cHBvcnRlZC5cbiAgICAgICAgLy8gaHR0cHM6Ly9jYW5pdXNlLmNvbS8jZmVhdD10cmFuc2Zvcm1zMmRcbiAgICAgICAgdmFyIGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB2YXIgbXNQcmVmaXggPSBkLnN0eWxlLm1zVHJhbnNmb3JtICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBub1ByZWZpeCA9IGQuc3R5bGUudHJhbnNmb3JtICE9PSB1bmRlZmluZWQ7XG5cbiAgICAgICAgcGFyc2VkLnRyYW5zZm9ybVJ1bGUgPSBub1ByZWZpeCA/IFwidHJhbnNmb3JtXCIgOiBtc1ByZWZpeCA/IFwibXNUcmFuc2Zvcm1cIiA6IFwid2Via2l0VHJhbnNmb3JtXCI7XG5cbiAgICAgICAgLy8gUGlwcyBkb24ndCBtb3ZlLCBzbyB3ZSBjYW4gcGxhY2UgdGhlbSB1c2luZyBsZWZ0L3RvcC5cbiAgICAgICAgdmFyIHN0eWxlcyA9IFtbXCJsZWZ0XCIsIFwidG9wXCJdLCBbXCJyaWdodFwiLCBcImJvdHRvbVwiXV07XG5cbiAgICAgICAgcGFyc2VkLnN0eWxlID0gc3R5bGVzW3BhcnNlZC5kaXJdW3BhcnNlZC5vcnRdO1xuXG4gICAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgfVxuXG4gICAgLy9lbmRyZWdpb25cblxuICAgIGZ1bmN0aW9uIHNjb3BlKHRhcmdldCwgb3B0aW9ucywgb3JpZ2luYWxPcHRpb25zKSB7XG4gICAgICAgIHZhciBhY3Rpb25zID0gZ2V0QWN0aW9ucygpO1xuICAgICAgICB2YXIgc3VwcG9ydHNUb3VjaEFjdGlvbk5vbmUgPSBnZXRTdXBwb3J0c1RvdWNoQWN0aW9uTm9uZSgpO1xuICAgICAgICB2YXIgc3VwcG9ydHNQYXNzaXZlID0gc3VwcG9ydHNUb3VjaEFjdGlvbk5vbmUgJiYgZ2V0U3VwcG9ydHNQYXNzaXZlKCk7XG5cbiAgICAgICAgLy8gQWxsIHZhcmlhYmxlcyBsb2NhbCB0byAnc2NvcGUnIGFyZSBwcmVmaXhlZCB3aXRoICdzY29wZV8nXG5cbiAgICAgICAgLy8gU2xpZGVyIERPTSBOb2Rlc1xuICAgICAgICB2YXIgc2NvcGVfVGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB2YXIgc2NvcGVfQmFzZTtcbiAgICAgICAgdmFyIHNjb3BlX0hhbmRsZXM7XG4gICAgICAgIHZhciBzY29wZV9Db25uZWN0cztcbiAgICAgICAgdmFyIHNjb3BlX1BpcHM7XG4gICAgICAgIHZhciBzY29wZV9Ub29sdGlwcztcblxuICAgICAgICAvLyBTbGlkZXIgc3RhdGUgdmFsdWVzXG4gICAgICAgIHZhciBzY29wZV9TcGVjdHJ1bSA9IG9wdGlvbnMuc3BlY3RydW07XG4gICAgICAgIHZhciBzY29wZV9WYWx1ZXMgPSBbXTtcbiAgICAgICAgdmFyIHNjb3BlX0xvY2F0aW9ucyA9IFtdO1xuICAgICAgICB2YXIgc2NvcGVfSGFuZGxlTnVtYmVycyA9IFtdO1xuICAgICAgICB2YXIgc2NvcGVfQWN0aXZlSGFuZGxlc0NvdW50ID0gMDtcbiAgICAgICAgdmFyIHNjb3BlX0V2ZW50cyA9IHt9O1xuXG4gICAgICAgIC8vIEV4cG9zZWQgQVBJXG4gICAgICAgIHZhciBzY29wZV9TZWxmO1xuXG4gICAgICAgIC8vIERvY3VtZW50IE5vZGVzXG4gICAgICAgIHZhciBzY29wZV9Eb2N1bWVudCA9IHRhcmdldC5vd25lckRvY3VtZW50O1xuICAgICAgICB2YXIgc2NvcGVfRG9jdW1lbnRFbGVtZW50ID0gb3B0aW9ucy5kb2N1bWVudEVsZW1lbnQgfHwgc2NvcGVfRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICB2YXIgc2NvcGVfQm9keSA9IHNjb3BlX0RvY3VtZW50LmJvZHk7XG5cbiAgICAgICAgLy8gUGlwcyBjb25zdGFudHNcbiAgICAgICAgdmFyIFBJUFNfTk9ORSA9IC0xO1xuICAgICAgICB2YXIgUElQU19OT19WQUxVRSA9IDA7XG4gICAgICAgIHZhciBQSVBTX0xBUkdFX1ZBTFVFID0gMTtcbiAgICAgICAgdmFyIFBJUFNfU01BTExfVkFMVUUgPSAyO1xuXG4gICAgICAgIC8vIEZvciBob3Jpem9udGFsIHNsaWRlcnMgaW4gc3RhbmRhcmQgbHRyIGRvY3VtZW50cyxcbiAgICAgICAgLy8gbWFrZSAubm9VaS1vcmlnaW4gb3ZlcmZsb3cgdG8gdGhlIGxlZnQgc28gdGhlIGRvY3VtZW50IGRvZXNuJ3Qgc2Nyb2xsLlxuICAgICAgICB2YXIgc2NvcGVfRGlyT2Zmc2V0ID0gc2NvcGVfRG9jdW1lbnQuZGlyID09PSBcInJ0bFwiIHx8IG9wdGlvbnMub3J0ID09PSAxID8gMCA6IDEwMDtcblxuICAgICAgICAvLyBDcmVhdGVzIGEgbm9kZSwgYWRkcyBpdCB0byB0YXJnZXQsIHJldHVybnMgdGhlIG5ldyBub2RlLlxuICAgICAgICBmdW5jdGlvbiBhZGROb2RlVG8oYWRkVGFyZ2V0LCBjbGFzc05hbWUpIHtcbiAgICAgICAgICAgIHZhciBkaXYgPSBzY29wZV9Eb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgICAgICAgICBpZiAoY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoZGl2LCBjbGFzc05hbWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhZGRUYXJnZXQuYXBwZW5kQ2hpbGQoZGl2KTtcblxuICAgICAgICAgICAgcmV0dXJuIGRpdjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFwcGVuZCBhIG9yaWdpbiB0byB0aGUgYmFzZVxuICAgICAgICBmdW5jdGlvbiBhZGRPcmlnaW4oYmFzZSwgaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICB2YXIgb3JpZ2luID0gYWRkTm9kZVRvKGJhc2UsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5vcmlnaW4pO1xuICAgICAgICAgICAgdmFyIGhhbmRsZSA9IGFkZE5vZGVUbyhvcmlnaW4sIG9wdGlvbnMuY3NzQ2xhc3Nlcy5oYW5kbGUpO1xuXG4gICAgICAgICAgICBhZGROb2RlVG8oaGFuZGxlLCBvcHRpb25zLmNzc0NsYXNzZXMudG91Y2hBcmVhKTtcblxuICAgICAgICAgICAgaGFuZGxlLnNldEF0dHJpYnV0ZShcImRhdGEtaGFuZGxlXCIsIGhhbmRsZU51bWJlcik7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmtleWJvYXJkU3VwcG9ydCkge1xuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvR2xvYmFsX2F0dHJpYnV0ZXMvdGFiaW5kZXhcbiAgICAgICAgICAgICAgICAvLyAwID0gZm9jdXNhYmxlIGFuZCByZWFjaGFibGVcbiAgICAgICAgICAgICAgICBoYW5kbGUuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIiwgXCIwXCIpO1xuICAgICAgICAgICAgICAgIGhhbmRsZS5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnRLZXlkb3duKGV2ZW50LCBoYW5kbGVOdW1iZXIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBoYW5kbGUuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcInNsaWRlclwiKTtcbiAgICAgICAgICAgIGhhbmRsZS5zZXRBdHRyaWJ1dGUoXCJhcmlhLW9yaWVudGF0aW9uXCIsIG9wdGlvbnMub3J0ID8gXCJ2ZXJ0aWNhbFwiIDogXCJob3Jpem9udGFsXCIpO1xuXG4gICAgICAgICAgICBpZiAoaGFuZGxlTnVtYmVyID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoaGFuZGxlLCBvcHRpb25zLmNzc0NsYXNzZXMuaGFuZGxlTG93ZXIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChoYW5kbGVOdW1iZXIgPT09IG9wdGlvbnMuaGFuZGxlcyAtIDEpIHtcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhoYW5kbGUsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5oYW5kbGVVcHBlcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBvcmlnaW47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbnNlcnQgbm9kZXMgZm9yIGNvbm5lY3QgZWxlbWVudHNcbiAgICAgICAgZnVuY3Rpb24gYWRkQ29ubmVjdChiYXNlLCBhZGQpIHtcbiAgICAgICAgICAgIGlmICghYWRkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYWRkTm9kZVRvKGJhc2UsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5jb25uZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCBoYW5kbGVzIHRvIHRoZSBzbGlkZXIgYmFzZS5cbiAgICAgICAgZnVuY3Rpb24gYWRkRWxlbWVudHMoY29ubmVjdE9wdGlvbnMsIGJhc2UpIHtcbiAgICAgICAgICAgIHZhciBjb25uZWN0QmFzZSA9IGFkZE5vZGVUbyhiYXNlLCBvcHRpb25zLmNzc0NsYXNzZXMuY29ubmVjdHMpO1xuXG4gICAgICAgICAgICBzY29wZV9IYW5kbGVzID0gW107XG4gICAgICAgICAgICBzY29wZV9Db25uZWN0cyA9IFtdO1xuXG4gICAgICAgICAgICBzY29wZV9Db25uZWN0cy5wdXNoKGFkZENvbm5lY3QoY29ubmVjdEJhc2UsIGNvbm5lY3RPcHRpb25zWzBdKSk7XG5cbiAgICAgICAgICAgIC8vIFs6Ojo6Tz09PT1PPT09PU89PT09XVxuICAgICAgICAgICAgLy8gY29ubmVjdE9wdGlvbnMgPSBbMCwgMSwgMSwgMV1cblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25zLmhhbmRsZXM7IGkrKykge1xuICAgICAgICAgICAgICAgIC8vIEtlZXAgYSBsaXN0IG9mIGFsbCBhZGRlZCBoYW5kbGVzLlxuICAgICAgICAgICAgICAgIHNjb3BlX0hhbmRsZXMucHVzaChhZGRPcmlnaW4oYmFzZSwgaSkpO1xuICAgICAgICAgICAgICAgIHNjb3BlX0hhbmRsZU51bWJlcnNbaV0gPSBpO1xuICAgICAgICAgICAgICAgIHNjb3BlX0Nvbm5lY3RzLnB1c2goYWRkQ29ubmVjdChjb25uZWN0QmFzZSwgY29ubmVjdE9wdGlvbnNbaSArIDFdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbml0aWFsaXplIGEgc2luZ2xlIHNsaWRlci5cbiAgICAgICAgZnVuY3Rpb24gYWRkU2xpZGVyKGFkZFRhcmdldCkge1xuICAgICAgICAgICAgLy8gQXBwbHkgY2xhc3NlcyBhbmQgZGF0YSB0byB0aGUgdGFyZ2V0LlxuICAgICAgICAgICAgYWRkQ2xhc3MoYWRkVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMudGFyZ2V0KTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGlyID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoYWRkVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMubHRyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoYWRkVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMucnRsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMub3J0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoYWRkVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMuaG9yaXpvbnRhbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFkZENsYXNzKGFkZFRhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLnZlcnRpY2FsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHRleHREaXJlY3Rpb24gPSBnZXRDb21wdXRlZFN0eWxlKGFkZFRhcmdldCkuZGlyZWN0aW9uO1xuXG4gICAgICAgICAgICBpZiAodGV4dERpcmVjdGlvbiA9PT0gXCJydGxcIikge1xuICAgICAgICAgICAgICAgIGFkZENsYXNzKGFkZFRhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLnRleHREaXJlY3Rpb25SdGwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhhZGRUYXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy50ZXh0RGlyZWN0aW9uTHRyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGFkZE5vZGVUbyhhZGRUYXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5iYXNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGFkZFRvb2x0aXAoaGFuZGxlLCBoYW5kbGVOdW1iZXIpIHtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy50b29sdGlwc1toYW5kbGVOdW1iZXJdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYWRkTm9kZVRvKGhhbmRsZS5maXJzdENoaWxkLCBvcHRpb25zLmNzc0NsYXNzZXMudG9vbHRpcCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBpc1NsaWRlckRpc2FibGVkKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNjb3BlX1RhcmdldC5oYXNBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERpc2FibGUgdGhlIHNsaWRlciBkcmFnZ2luZyBpZiBhbnkgaGFuZGxlIGlzIGRpc2FibGVkXG4gICAgICAgIGZ1bmN0aW9uIGlzSGFuZGxlRGlzYWJsZWQoaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICB2YXIgaGFuZGxlT3JpZ2luID0gc2NvcGVfSGFuZGxlc1toYW5kbGVOdW1iZXJdO1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZU9yaWdpbi5oYXNBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZVRvb2x0aXBzKCkge1xuICAgICAgICAgICAgaWYgKHNjb3BlX1Rvb2x0aXBzKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlRXZlbnQoXCJ1cGRhdGUudG9vbHRpcHNcIik7XG4gICAgICAgICAgICAgICAgc2NvcGVfVG9vbHRpcHMuZm9yRWFjaChmdW5jdGlvbih0b29sdGlwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b29sdGlwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVFbGVtZW50KHRvb2x0aXApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc2NvcGVfVG9vbHRpcHMgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlIHRvb2x0aXBzIG9wdGlvbiBpcyBhIHNob3J0aGFuZCBmb3IgdXNpbmcgdGhlICd1cGRhdGUnIGV2ZW50LlxuICAgICAgICBmdW5jdGlvbiB0b29sdGlwcygpIHtcbiAgICAgICAgICAgIHJlbW92ZVRvb2x0aXBzKCk7XG5cbiAgICAgICAgICAgIC8vIFRvb2x0aXBzIGFyZSBhZGRlZCB3aXRoIG9wdGlvbnMudG9vbHRpcHMgaW4gb3JpZ2luYWwgb3JkZXIuXG4gICAgICAgICAgICBzY29wZV9Ub29sdGlwcyA9IHNjb3BlX0hhbmRsZXMubWFwKGFkZFRvb2x0aXApO1xuXG4gICAgICAgICAgICBiaW5kRXZlbnQoXCJ1cGRhdGUudG9vbHRpcHNcIiwgZnVuY3Rpb24odmFsdWVzLCBoYW5kbGVOdW1iZXIsIHVuZW5jb2RlZCkge1xuICAgICAgICAgICAgICAgIGlmICghc2NvcGVfVG9vbHRpcHNbaGFuZGxlTnVtYmVyXSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIGZvcm1hdHRlZFZhbHVlID0gdmFsdWVzW2hhbmRsZU51bWJlcl07XG5cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy50b29sdGlwc1toYW5kbGVOdW1iZXJdICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlID0gb3B0aW9ucy50b29sdGlwc1toYW5kbGVOdW1iZXJdLnRvKHVuZW5jb2RlZFtoYW5kbGVOdW1iZXJdKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzY29wZV9Ub29sdGlwc1toYW5kbGVOdW1iZXJdLmlubmVySFRNTCA9IGZvcm1hdHRlZFZhbHVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBhcmlhKCkge1xuICAgICAgICAgICAgYmluZEV2ZW50KFwidXBkYXRlXCIsIGZ1bmN0aW9uKHZhbHVlcywgaGFuZGxlTnVtYmVyLCB1bmVuY29kZWQsIHRhcCwgcG9zaXRpb25zKSB7XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIEFyaWEgVmFsdWVzIGZvciBhbGwgaGFuZGxlcywgYXMgYSBjaGFuZ2UgaW4gb25lIGNoYW5nZXMgbWluIGFuZCBtYXggdmFsdWVzIGZvciB0aGUgbmV4dC5cbiAgICAgICAgICAgICAgICBzY29wZV9IYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhhbmRsZSA9IHNjb3BlX0hhbmRsZXNbaW5kZXhdO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBtaW4gPSBjaGVja0hhbmRsZVBvc2l0aW9uKHNjb3BlX0xvY2F0aW9ucywgaW5kZXgsIDAsIHRydWUsIHRydWUsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWF4ID0gY2hlY2tIYW5kbGVQb3NpdGlvbihzY29wZV9Mb2NhdGlvbnMsIGluZGV4LCAxMDAsIHRydWUsIHRydWUsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBub3cgPSBwb3NpdGlvbnNbaW5kZXhdO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEZvcm1hdHRlZCB2YWx1ZSBmb3IgZGlzcGxheVxuICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dCA9IG9wdGlvbnMuYXJpYUZvcm1hdC50byh1bmVuY29kZWRbaW5kZXhdKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBNYXAgdG8gc2xpZGVyIHJhbmdlIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICBtaW4gPSBzY29wZV9TcGVjdHJ1bS5mcm9tU3RlcHBpbmcobWluKS50b0ZpeGVkKDEpO1xuICAgICAgICAgICAgICAgICAgICBtYXggPSBzY29wZV9TcGVjdHJ1bS5mcm9tU3RlcHBpbmcobWF4KS50b0ZpeGVkKDEpO1xuICAgICAgICAgICAgICAgICAgICBub3cgPSBzY29wZV9TcGVjdHJ1bS5mcm9tU3RlcHBpbmcobm93KS50b0ZpeGVkKDEpO1xuXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZS5jaGlsZHJlblswXS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXZhbHVlbWluXCIsIG1pbik7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZS5jaGlsZHJlblswXS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXZhbHVlbWF4XCIsIG1heCk7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZS5jaGlsZHJlblswXS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXZhbHVlbm93XCIsIG5vdyk7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZS5jaGlsZHJlblswXS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXZhbHVldGV4dFwiLCB0ZXh0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0R3JvdXAobW9kZSwgdmFsdWVzLCBzdGVwcGVkKSB7XG4gICAgICAgICAgICAvLyBVc2UgdGhlIHJhbmdlLlxuICAgICAgICAgICAgaWYgKG1vZGUgPT09IFwicmFuZ2VcIiB8fCBtb2RlID09PSBcInN0ZXBzXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NvcGVfU3BlY3RydW0ueFZhbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG1vZGUgPT09IFwiY291bnRcIikge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZXMgPCAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3ZhbHVlcycgKD49IDIpIHJlcXVpcmVkIGZvciBtb2RlICdjb3VudCcuXCIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIERpdmlkZSAwIC0gMTAwIGluICdjb3VudCcgcGFydHMuXG4gICAgICAgICAgICAgICAgdmFyIGludGVydmFsID0gdmFsdWVzIC0gMTtcbiAgICAgICAgICAgICAgICB2YXIgc3ByZWFkID0gMTAwIC8gaW50ZXJ2YWw7XG5cbiAgICAgICAgICAgICAgICB2YWx1ZXMgPSBbXTtcblxuICAgICAgICAgICAgICAgIC8vIExpc3QgdGhlc2UgcGFydHMgYW5kIGhhdmUgdGhlbSBoYW5kbGVkIGFzICdwb3NpdGlvbnMnLlxuICAgICAgICAgICAgICAgIHdoaWxlIChpbnRlcnZhbC0tKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlc1tpbnRlcnZhbF0gPSBpbnRlcnZhbCAqIHNwcmVhZDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaCgxMDApO1xuXG4gICAgICAgICAgICAgICAgbW9kZSA9IFwicG9zaXRpb25zXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtb2RlID09PSBcInBvc2l0aW9uc1wiKSB7XG4gICAgICAgICAgICAgICAgLy8gTWFwIGFsbCBwZXJjZW50YWdlcyB0byBvbi1yYW5nZSB2YWx1ZXMuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlcy5tYXAoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlX1NwZWN0cnVtLmZyb21TdGVwcGluZyhzdGVwcGVkID8gc2NvcGVfU3BlY3RydW0uZ2V0U3RlcCh2YWx1ZSkgOiB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtb2RlID09PSBcInZhbHVlc1wiKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHZhbHVlIG11c3QgYmUgc3RlcHBlZCwgaXQgbmVlZHMgdG8gYmUgY29udmVydGVkIHRvIGEgcGVyY2VudGFnZSBmaXJzdC5cbiAgICAgICAgICAgICAgICBpZiAoc3RlcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzLm1hcChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29udmVydCB0byBwZXJjZW50YWdlLCBhcHBseSBzdGVwLCByZXR1cm4gdG8gdmFsdWUuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2NvcGVfU3BlY3RydW0uZnJvbVN0ZXBwaW5nKHNjb3BlX1NwZWN0cnVtLmdldFN0ZXAoc2NvcGVfU3BlY3RydW0udG9TdGVwcGluZyh2YWx1ZSkpKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSBjYW4gc2ltcGx5IHVzZSB0aGUgdmFsdWVzLlxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZW5lcmF0ZVNwcmVhZChkZW5zaXR5LCBtb2RlLCBncm91cCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gc2FmZUluY3JlbWVudCh2YWx1ZSwgaW5jcmVtZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gQXZvaWQgZmxvYXRpbmcgcG9pbnQgdmFyaWFuY2UgYnkgZHJvcHBpbmcgdGhlIHNtYWxsZXN0IGRlY2ltYWwgcGxhY2VzLlxuICAgICAgICAgICAgICAgIHJldHVybiAodmFsdWUgKyBpbmNyZW1lbnQpLnRvRml4ZWQoNykgLyAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgaW5kZXhlcyA9IHt9O1xuICAgICAgICAgICAgdmFyIGZpcnN0SW5SYW5nZSA9IHNjb3BlX1NwZWN0cnVtLnhWYWxbMF07XG4gICAgICAgICAgICB2YXIgbGFzdEluUmFuZ2UgPSBzY29wZV9TcGVjdHJ1bS54VmFsW3Njb3BlX1NwZWN0cnVtLnhWYWwubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICB2YXIgaWdub3JlRmlyc3QgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBpZ25vcmVMYXN0ID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgcHJldlBjdCA9IDA7XG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIGNvcHkgb2YgdGhlIGdyb3VwLCBzb3J0IGl0IGFuZCBmaWx0ZXIgYXdheSBhbGwgZHVwbGljYXRlcy5cbiAgICAgICAgICAgIGdyb3VwID0gdW5pcXVlKFxuICAgICAgICAgICAgICAgIGdyb3VwLnNsaWNlKCkuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhIC0gYjtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSByYW5nZSBzdGFydHMgd2l0aCB0aGUgZmlyc3QgZWxlbWVudC5cbiAgICAgICAgICAgIGlmIChncm91cFswXSAhPT0gZmlyc3RJblJhbmdlKSB7XG4gICAgICAgICAgICAgICAgZ3JvdXAudW5zaGlmdChmaXJzdEluUmFuZ2UpO1xuICAgICAgICAgICAgICAgIGlnbm9yZUZpcnN0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTGlrZXdpc2UgZm9yIHRoZSBsYXN0IG9uZS5cbiAgICAgICAgICAgIGlmIChncm91cFtncm91cC5sZW5ndGggLSAxXSAhPT0gbGFzdEluUmFuZ2UpIHtcbiAgICAgICAgICAgICAgICBncm91cC5wdXNoKGxhc3RJblJhbmdlKTtcbiAgICAgICAgICAgICAgICBpZ25vcmVMYXN0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZ3JvdXAuZm9yRWFjaChmdW5jdGlvbihjdXJyZW50LCBpbmRleCkge1xuICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgY3VycmVudCBzdGVwIGFuZCB0aGUgbG93ZXIgKyB1cHBlciBwb3NpdGlvbnMuXG4gICAgICAgICAgICAgICAgdmFyIHN0ZXA7XG4gICAgICAgICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgICAgICAgdmFyIHE7XG4gICAgICAgICAgICAgICAgdmFyIGxvdyA9IGN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgdmFyIGhpZ2ggPSBncm91cFtpbmRleCArIDFdO1xuICAgICAgICAgICAgICAgIHZhciBuZXdQY3Q7XG4gICAgICAgICAgICAgICAgdmFyIHBjdERpZmZlcmVuY2U7XG4gICAgICAgICAgICAgICAgdmFyIHBjdFBvcztcbiAgICAgICAgICAgICAgICB2YXIgdHlwZTtcbiAgICAgICAgICAgICAgICB2YXIgc3RlcHM7XG4gICAgICAgICAgICAgICAgdmFyIHJlYWxTdGVwcztcbiAgICAgICAgICAgICAgICB2YXIgc3RlcFNpemU7XG4gICAgICAgICAgICAgICAgdmFyIGlzU3RlcHMgPSBtb2RlID09PSBcInN0ZXBzXCI7XG5cbiAgICAgICAgICAgICAgICAvLyBXaGVuIHVzaW5nICdzdGVwcycgbW9kZSwgdXNlIHRoZSBwcm92aWRlZCBzdGVwcy5cbiAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UsIHdlJ2xsIHN0ZXAgb24gdG8gdGhlIG5leHQgc3VicmFuZ2UuXG4gICAgICAgICAgICAgICAgaWYgKGlzU3RlcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RlcCA9IHNjb3BlX1NwZWN0cnVtLnhOdW1TdGVwc1tpbmRleF07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gRGVmYXVsdCB0byBhICdmdWxsJyBzdGVwLlxuICAgICAgICAgICAgICAgIGlmICghc3RlcCkge1xuICAgICAgICAgICAgICAgICAgICBzdGVwID0gaGlnaCAtIGxvdztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBMb3cgY2FuIGJlIDAsIHNvIHRlc3QgZm9yIGZhbHNlLiBJZiBoaWdoIGlzIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAvLyB3ZSBhcmUgYXQgdGhlIGxhc3Qgc3VicmFuZ2UuIEluZGV4IDAgaXMgYWxyZWFkeSBoYW5kbGVkLlxuICAgICAgICAgICAgICAgIGlmIChsb3cgPT09IGZhbHNlIHx8IGhpZ2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHN0ZXAgaXNuJ3QgMCwgd2hpY2ggd291bGQgY2F1c2UgYW4gaW5maW5pdGUgbG9vcCAoIzY1NClcbiAgICAgICAgICAgICAgICBzdGVwID0gTWF0aC5tYXgoc3RlcCwgMC4wMDAwMDAxKTtcblxuICAgICAgICAgICAgICAgIC8vIEZpbmQgYWxsIHN0ZXBzIGluIHRoZSBzdWJyYW5nZS5cbiAgICAgICAgICAgICAgICBmb3IgKGkgPSBsb3c7IGkgPD0gaGlnaDsgaSA9IHNhZmVJbmNyZW1lbnQoaSwgc3RlcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHRoZSBwZXJjZW50YWdlIHZhbHVlIGZvciB0aGUgY3VycmVudCBzdGVwLFxuICAgICAgICAgICAgICAgICAgICAvLyBjYWxjdWxhdGUgdGhlIHNpemUgZm9yIHRoZSBzdWJyYW5nZS5cbiAgICAgICAgICAgICAgICAgICAgbmV3UGN0ID0gc2NvcGVfU3BlY3RydW0udG9TdGVwcGluZyhpKTtcbiAgICAgICAgICAgICAgICAgICAgcGN0RGlmZmVyZW5jZSA9IG5ld1BjdCAtIHByZXZQY3Q7XG5cbiAgICAgICAgICAgICAgICAgICAgc3RlcHMgPSBwY3REaWZmZXJlbmNlIC8gZGVuc2l0eTtcbiAgICAgICAgICAgICAgICAgICAgcmVhbFN0ZXBzID0gTWF0aC5yb3VuZChzdGVwcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyByYXRpbyByZXByZXNlbnRzIHRoZSBhbW91bnQgb2YgcGVyY2VudGFnZS1zcGFjZSBhIHBvaW50IGluZGljYXRlcy5cbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIGEgZGVuc2l0eSAxIHRoZSBwb2ludHMvcGVyY2VudGFnZSA9IDEuIEZvciBkZW5zaXR5IDIsIHRoYXQgcGVyY2VudGFnZSBuZWVkcyB0byBiZSByZS1kaXZpZGVkLlxuICAgICAgICAgICAgICAgICAgICAvLyBSb3VuZCB0aGUgcGVyY2VudGFnZSBvZmZzZXQgdG8gYW4gZXZlbiBudW1iZXIsIHRoZW4gZGl2aWRlIGJ5IHR3b1xuICAgICAgICAgICAgICAgICAgICAvLyB0byBzcHJlYWQgdGhlIG9mZnNldCBvbiBib3RoIHNpZGVzIG9mIHRoZSByYW5nZS5cbiAgICAgICAgICAgICAgICAgICAgc3RlcFNpemUgPSBwY3REaWZmZXJlbmNlIC8gcmVhbFN0ZXBzO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIERpdmlkZSBhbGwgcG9pbnRzIGV2ZW5seSwgYWRkaW5nIHRoZSBjb3JyZWN0IG51bWJlciB0byB0aGlzIHN1YnJhbmdlLlxuICAgICAgICAgICAgICAgICAgICAvLyBSdW4gdXAgdG8gPD0gc28gdGhhdCAxMDAlIGdldHMgYSBwb2ludCwgZXZlbnQgaWYgaWdub3JlTGFzdCBpcyBzZXQuXG4gICAgICAgICAgICAgICAgICAgIGZvciAocSA9IDE7IHEgPD0gcmVhbFN0ZXBzOyBxICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSByYXRpbyBiZXR3ZWVuIHRoZSByb3VuZGVkIHZhbHVlIGFuZCB0aGUgYWN0dWFsIHNpemUgbWlnaHQgYmUgfjElIG9mZi5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvcnJlY3QgdGhlIHBlcmNlbnRhZ2Ugb2Zmc2V0IGJ5IHRoZSBudW1iZXIgb2YgcG9pbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwZXIgc3VicmFuZ2UuIGRlbnNpdHkgPSAxIHdpbGwgcmVzdWx0IGluIDEwMCBwb2ludHMgb24gdGhlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmdWxsIHJhbmdlLCAyIGZvciA1MCwgNCBmb3IgMjUsIGV0Yy5cbiAgICAgICAgICAgICAgICAgICAgICAgIHBjdFBvcyA9IHByZXZQY3QgKyBxICogc3RlcFNpemU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleGVzW3BjdFBvcy50b0ZpeGVkKDUpXSA9IFtzY29wZV9TcGVjdHJ1bS5mcm9tU3RlcHBpbmcocGN0UG9zKSwgMF07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIHBvaW50IHR5cGUuXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBncm91cC5pbmRleE9mKGkpID4gLTEgPyBQSVBTX0xBUkdFX1ZBTFVFIDogaXNTdGVwcyA/IFBJUFNfU01BTExfVkFMVUUgOiBQSVBTX05PX1ZBTFVFO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEVuZm9yY2UgdGhlICdpZ25vcmVGaXJzdCcgb3B0aW9uIGJ5IG92ZXJ3cml0aW5nIHRoZSB0eXBlIGZvciAwLlxuICAgICAgICAgICAgICAgICAgICBpZiAoIWluZGV4ICYmIGlnbm9yZUZpcnN0ICYmIGkgIT09IGhpZ2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoaSA9PT0gaGlnaCAmJiBpZ25vcmVMYXN0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWFyayB0aGUgJ3R5cGUnIG9mIHRoaXMgcG9pbnQuIDAgPSBwbGFpbiwgMSA9IHJlYWwgdmFsdWUsIDIgPSBzdGVwIHZhbHVlLlxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhlc1tuZXdQY3QudG9GaXhlZCg1KV0gPSBbaSwgdHlwZV07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIHBlcmNlbnRhZ2UgY291bnQuXG4gICAgICAgICAgICAgICAgICAgIHByZXZQY3QgPSBuZXdQY3Q7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBpbmRleGVzO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYWRkTWFya2luZyhzcHJlYWQsIGZpbHRlckZ1bmMsIGZvcm1hdHRlcikge1xuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBzY29wZV9Eb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgICAgICAgICB2YXIgdmFsdWVTaXplQ2xhc3NlcyA9IFtdO1xuICAgICAgICAgICAgdmFsdWVTaXplQ2xhc3Nlc1tQSVBTX05PX1ZBTFVFXSA9IG9wdGlvbnMuY3NzQ2xhc3Nlcy52YWx1ZU5vcm1hbDtcbiAgICAgICAgICAgIHZhbHVlU2l6ZUNsYXNzZXNbUElQU19MQVJHRV9WQUxVRV0gPSBvcHRpb25zLmNzc0NsYXNzZXMudmFsdWVMYXJnZTtcbiAgICAgICAgICAgIHZhbHVlU2l6ZUNsYXNzZXNbUElQU19TTUFMTF9WQUxVRV0gPSBvcHRpb25zLmNzc0NsYXNzZXMudmFsdWVTdWI7XG5cbiAgICAgICAgICAgIHZhciBtYXJrZXJTaXplQ2xhc3NlcyA9IFtdO1xuICAgICAgICAgICAgbWFya2VyU2l6ZUNsYXNzZXNbUElQU19OT19WQUxVRV0gPSBvcHRpb25zLmNzc0NsYXNzZXMubWFya2VyTm9ybWFsO1xuICAgICAgICAgICAgbWFya2VyU2l6ZUNsYXNzZXNbUElQU19MQVJHRV9WQUxVRV0gPSBvcHRpb25zLmNzc0NsYXNzZXMubWFya2VyTGFyZ2U7XG4gICAgICAgICAgICBtYXJrZXJTaXplQ2xhc3Nlc1tQSVBTX1NNQUxMX1ZBTFVFXSA9IG9wdGlvbnMuY3NzQ2xhc3Nlcy5tYXJrZXJTdWI7XG5cbiAgICAgICAgICAgIHZhciB2YWx1ZU9yaWVudGF0aW9uQ2xhc3NlcyA9IFtvcHRpb25zLmNzc0NsYXNzZXMudmFsdWVIb3Jpem9udGFsLCBvcHRpb25zLmNzc0NsYXNzZXMudmFsdWVWZXJ0aWNhbF07XG4gICAgICAgICAgICB2YXIgbWFya2VyT3JpZW50YXRpb25DbGFzc2VzID0gW29wdGlvbnMuY3NzQ2xhc3Nlcy5tYXJrZXJIb3Jpem9udGFsLCBvcHRpb25zLmNzc0NsYXNzZXMubWFya2VyVmVydGljYWxdO1xuXG4gICAgICAgICAgICBhZGRDbGFzcyhlbGVtZW50LCBvcHRpb25zLmNzc0NsYXNzZXMucGlwcyk7XG4gICAgICAgICAgICBhZGRDbGFzcyhlbGVtZW50LCBvcHRpb25zLm9ydCA9PT0gMCA/IG9wdGlvbnMuY3NzQ2xhc3Nlcy5waXBzSG9yaXpvbnRhbCA6IG9wdGlvbnMuY3NzQ2xhc3Nlcy5waXBzVmVydGljYWwpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRDbGFzc2VzKHR5cGUsIHNvdXJjZSkge1xuICAgICAgICAgICAgICAgIHZhciBhID0gc291cmNlID09PSBvcHRpb25zLmNzc0NsYXNzZXMudmFsdWU7XG4gICAgICAgICAgICAgICAgdmFyIG9yaWVudGF0aW9uQ2xhc3NlcyA9IGEgPyB2YWx1ZU9yaWVudGF0aW9uQ2xhc3NlcyA6IG1hcmtlck9yaWVudGF0aW9uQ2xhc3NlcztcbiAgICAgICAgICAgICAgICB2YXIgc2l6ZUNsYXNzZXMgPSBhID8gdmFsdWVTaXplQ2xhc3NlcyA6IG1hcmtlclNpemVDbGFzc2VzO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNvdXJjZSArIFwiIFwiICsgb3JpZW50YXRpb25DbGFzc2VzW29wdGlvbnMub3J0XSArIFwiIFwiICsgc2l6ZUNsYXNzZXNbdHlwZV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGFkZFNwcmVhZChvZmZzZXQsIHZhbHVlLCB0eXBlKSB7XG4gICAgICAgICAgICAgICAgLy8gQXBwbHkgdGhlIGZpbHRlciBmdW5jdGlvbiwgaWYgaXQgaXMgc2V0LlxuICAgICAgICAgICAgICAgIHR5cGUgPSBmaWx0ZXJGdW5jID8gZmlsdGVyRnVuYyh2YWx1ZSwgdHlwZSkgOiB0eXBlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IFBJUFNfTk9ORSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQWRkIGEgbWFya2VyIGZvciBldmVyeSBwb2ludFxuICAgICAgICAgICAgICAgIHZhciBub2RlID0gYWRkTm9kZVRvKGVsZW1lbnQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBub2RlLmNsYXNzTmFtZSA9IGdldENsYXNzZXModHlwZSwgb3B0aW9ucy5jc3NDbGFzc2VzLm1hcmtlcik7XG4gICAgICAgICAgICAgICAgbm9kZS5zdHlsZVtvcHRpb25zLnN0eWxlXSA9IG9mZnNldCArIFwiJVwiO1xuXG4gICAgICAgICAgICAgICAgLy8gVmFsdWVzIGFyZSBvbmx5IGFwcGVuZGVkIGZvciBwb2ludHMgbWFya2VkICcxJyBvciAnMicuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPiBQSVBTX05PX1ZBTFVFKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSBhZGROb2RlVG8oZWxlbWVudCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBub2RlLmNsYXNzTmFtZSA9IGdldENsYXNzZXModHlwZSwgb3B0aW9ucy5jc3NDbGFzc2VzLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXZhbHVlXCIsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5zdHlsZVtvcHRpb25zLnN0eWxlXSA9IG9mZnNldCArIFwiJVwiO1xuICAgICAgICAgICAgICAgICAgICBub2RlLmlubmVySFRNTCA9IGZvcm1hdHRlci50byh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBcHBlbmQgYWxsIHBvaW50cy5cbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHNwcmVhZCkuZm9yRWFjaChmdW5jdGlvbihvZmZzZXQpIHtcbiAgICAgICAgICAgICAgICBhZGRTcHJlYWQob2Zmc2V0LCBzcHJlYWRbb2Zmc2V0XVswXSwgc3ByZWFkW29mZnNldF1bMV0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlUGlwcygpIHtcbiAgICAgICAgICAgIGlmIChzY29wZV9QaXBzKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlRWxlbWVudChzY29wZV9QaXBzKTtcbiAgICAgICAgICAgICAgICBzY29wZV9QaXBzID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHBpcHMoZ3JpZCkge1xuICAgICAgICAgICAgLy8gRml4ICM2NjlcbiAgICAgICAgICAgIHJlbW92ZVBpcHMoKTtcblxuICAgICAgICAgICAgdmFyIG1vZGUgPSBncmlkLm1vZGU7XG4gICAgICAgICAgICB2YXIgZGVuc2l0eSA9IGdyaWQuZGVuc2l0eSB8fCAxO1xuICAgICAgICAgICAgdmFyIGZpbHRlciA9IGdyaWQuZmlsdGVyIHx8IGZhbHNlO1xuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IGdyaWQudmFsdWVzIHx8IGZhbHNlO1xuICAgICAgICAgICAgdmFyIHN0ZXBwZWQgPSBncmlkLnN0ZXBwZWQgfHwgZmFsc2U7XG4gICAgICAgICAgICB2YXIgZ3JvdXAgPSBnZXRHcm91cChtb2RlLCB2YWx1ZXMsIHN0ZXBwZWQpO1xuICAgICAgICAgICAgdmFyIHNwcmVhZCA9IGdlbmVyYXRlU3ByZWFkKGRlbnNpdHksIG1vZGUsIGdyb3VwKTtcbiAgICAgICAgICAgIHZhciBmb3JtYXQgPSBncmlkLmZvcm1hdCB8fCB7XG4gICAgICAgICAgICAgICAgdG86IE1hdGgucm91bmRcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHNjb3BlX1BpcHMgPSBzY29wZV9UYXJnZXQuYXBwZW5kQ2hpbGQoYWRkTWFya2luZyhzcHJlYWQsIGZpbHRlciwgZm9ybWF0KSk7XG5cbiAgICAgICAgICAgIHJldHVybiBzY29wZV9QaXBzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2hvcnRoYW5kIGZvciBiYXNlIGRpbWVuc2lvbnMuXG4gICAgICAgIGZ1bmN0aW9uIGJhc2VTaXplKCkge1xuICAgICAgICAgICAgdmFyIHJlY3QgPSBzY29wZV9CYXNlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgdmFyIGFsdCA9IFwib2Zmc2V0XCIgKyBbXCJXaWR0aFwiLCBcIkhlaWdodFwiXVtvcHRpb25zLm9ydF07XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5vcnQgPT09IDAgPyByZWN0LndpZHRoIHx8IHNjb3BlX0Jhc2VbYWx0XSA6IHJlY3QuaGVpZ2h0IHx8IHNjb3BlX0Jhc2VbYWx0XTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhhbmRsZXIgZm9yIGF0dGFjaGluZyBldmVudHMgdHJvdWdoIGEgcHJveHkuXG4gICAgICAgIGZ1bmN0aW9uIGF0dGFjaEV2ZW50KGV2ZW50cywgZWxlbWVudCwgY2FsbGJhY2ssIGRhdGEpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gY2FuIGJlIHVzZWQgdG8gJ2ZpbHRlcicgZXZlbnRzIHRvIHRoZSBzbGlkZXIuXG4gICAgICAgICAgICAvLyBlbGVtZW50IGlzIGEgbm9kZSwgbm90IGEgbm9kZUxpc3RcblxuICAgICAgICAgICAgdmFyIG1ldGhvZCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBlID0gZml4RXZlbnQoZSwgZGF0YS5wYWdlT2Zmc2V0LCBkYXRhLnRhcmdldCB8fCBlbGVtZW50KTtcblxuICAgICAgICAgICAgICAgIC8vIGZpeEV2ZW50IHJldHVybnMgZmFsc2UgaWYgdGhpcyBldmVudCBoYXMgYSBkaWZmZXJlbnQgdGFyZ2V0XG4gICAgICAgICAgICAgICAgLy8gd2hlbiBoYW5kbGluZyAobXVsdGktKSB0b3VjaCBldmVudHM7XG4gICAgICAgICAgICAgICAgaWYgKCFlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBkb05vdFJlamVjdCBpcyBwYXNzZWQgYnkgYWxsIGVuZCBldmVudHMgdG8gbWFrZSBzdXJlIHJlbGVhc2VkIHRvdWNoZXNcbiAgICAgICAgICAgICAgICAvLyBhcmUgbm90IHJlamVjdGVkLCBsZWF2aW5nIHRoZSBzbGlkZXIgXCJzdHVja1wiIHRvIHRoZSBjdXJzb3I7XG4gICAgICAgICAgICAgICAgaWYgKGlzU2xpZGVyRGlzYWJsZWQoKSAmJiAhZGF0YS5kb05vdFJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gU3RvcCBpZiBhbiBhY3RpdmUgJ3RhcCcgdHJhbnNpdGlvbiBpcyB0YWtpbmcgcGxhY2UuXG4gICAgICAgICAgICAgICAgaWYgKGhhc0NsYXNzKHNjb3BlX1RhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLnRhcCkgJiYgIWRhdGEuZG9Ob3RSZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIElnbm9yZSByaWdodCBvciBtaWRkbGUgY2xpY2tzIG9uIHN0YXJ0ICM0NTRcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRzID09PSBhY3Rpb25zLnN0YXJ0ICYmIGUuYnV0dG9ucyAhPT0gdW5kZWZpbmVkICYmIGUuYnV0dG9ucyA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIElnbm9yZSByaWdodCBvciBtaWRkbGUgY2xpY2tzIG9uIHN0YXJ0ICM0NTRcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5ob3ZlciAmJiBlLmJ1dHRvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vICdzdXBwb3J0c1Bhc3NpdmUnIGlzIG9ubHkgdHJ1ZSBpZiBhIGJyb3dzZXIgYWxzbyBzdXBwb3J0cyB0b3VjaC1hY3Rpb246IG5vbmUgaW4gQ1NTLlxuICAgICAgICAgICAgICAgIC8vIGlPUyBzYWZhcmkgZG9lcyBub3QsIHNvIGl0IGRvZXNuJ3QgZ2V0IHRvIGJlbmVmaXQgZnJvbSBwYXNzaXZlIHNjcm9sbGluZy4gaU9TIGRvZXMgc3VwcG9ydFxuICAgICAgICAgICAgICAgIC8vIHRvdWNoLWFjdGlvbjogbWFuaXB1bGF0aW9uLCBidXQgdGhhdCBhbGxvd3MgcGFubmluZywgd2hpY2ggYnJlYWtzXG4gICAgICAgICAgICAgICAgLy8gc2xpZGVycyBhZnRlciB6b29taW5nL29uIG5vbi1yZXNwb25zaXZlIHBhZ2VzLlxuICAgICAgICAgICAgICAgIC8vIFNlZTogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEzMzExMlxuICAgICAgICAgICAgICAgIGlmICghc3VwcG9ydHNQYXNzaXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlLmNhbGNQb2ludCA9IGUucG9pbnRzW29wdGlvbnMub3J0XTtcblxuICAgICAgICAgICAgICAgIC8vIENhbGwgdGhlIGV2ZW50IGhhbmRsZXIgd2l0aCB0aGUgZXZlbnQgWyBhbmQgYWRkaXRpb25hbCBkYXRhIF0uXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZSwgZGF0YSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgbWV0aG9kcyA9IFtdO1xuXG4gICAgICAgICAgICAvLyBCaW5kIGEgY2xvc3VyZSBvbiB0aGUgdGFyZ2V0IGZvciBldmVyeSBldmVudCB0eXBlLlxuICAgICAgICAgICAgZXZlbnRzLnNwbGl0KFwiIFwiKS5mb3JFYWNoKGZ1bmN0aW9uKGV2ZW50TmFtZSkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIG1ldGhvZCwgc3VwcG9ydHNQYXNzaXZlID8geyBwYXNzaXZlOiB0cnVlIH0gOiBmYWxzZSk7XG4gICAgICAgICAgICAgICAgbWV0aG9kcy5wdXNoKFtldmVudE5hbWUsIG1ldGhvZF0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBtZXRob2RzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUHJvdmlkZSBhIGNsZWFuIGV2ZW50IHdpdGggc3RhbmRhcmRpemVkIG9mZnNldCB2YWx1ZXMuXG4gICAgICAgIGZ1bmN0aW9uIGZpeEV2ZW50KGUsIHBhZ2VPZmZzZXQsIGV2ZW50VGFyZ2V0KSB7XG4gICAgICAgICAgICAvLyBGaWx0ZXIgdGhlIGV2ZW50IHRvIHJlZ2lzdGVyIHRoZSB0eXBlLCB3aGljaCBjYW4gYmVcbiAgICAgICAgICAgIC8vIHRvdWNoLCBtb3VzZSBvciBwb2ludGVyLiBPZmZzZXQgY2hhbmdlcyBuZWVkIHRvIGJlXG4gICAgICAgICAgICAvLyBtYWRlIG9uIGFuIGV2ZW50IHNwZWNpZmljIGJhc2lzLlxuICAgICAgICAgICAgdmFyIHRvdWNoID0gZS50eXBlLmluZGV4T2YoXCJ0b3VjaFwiKSA9PT0gMDtcbiAgICAgICAgICAgIHZhciBtb3VzZSA9IGUudHlwZS5pbmRleE9mKFwibW91c2VcIikgPT09IDA7XG4gICAgICAgICAgICB2YXIgcG9pbnRlciA9IGUudHlwZS5pbmRleE9mKFwicG9pbnRlclwiKSA9PT0gMDtcblxuICAgICAgICAgICAgdmFyIHg7XG4gICAgICAgICAgICB2YXIgeTtcblxuICAgICAgICAgICAgLy8gSUUxMCBpbXBsZW1lbnRlZCBwb2ludGVyIGV2ZW50cyB3aXRoIGEgcHJlZml4O1xuICAgICAgICAgICAgaWYgKGUudHlwZS5pbmRleE9mKFwiTVNQb2ludGVyXCIpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcG9pbnRlciA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFRoZSBvbmx5IHRoaW5nIG9uZSBoYW5kbGUgc2hvdWxkIGJlIGNvbmNlcm5lZCBhYm91dCBpcyB0aGUgdG91Y2hlcyB0aGF0IG9yaWdpbmF0ZWQgb24gdG9wIG9mIGl0LlxuICAgICAgICAgICAgaWYgKHRvdWNoKSB7XG4gICAgICAgICAgICAgICAgLy8gUmV0dXJucyB0cnVlIGlmIGEgdG91Y2ggb3JpZ2luYXRlZCBvbiB0aGUgdGFyZ2V0LlxuICAgICAgICAgICAgICAgIHZhciBpc1RvdWNoT25UYXJnZXQgPSBmdW5jdGlvbihjaGVja1RvdWNoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja1RvdWNoLnRhcmdldCA9PT0gZXZlbnRUYXJnZXQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50VGFyZ2V0LmNvbnRhaW5zKGNoZWNrVG91Y2gudGFyZ2V0KSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKGNoZWNrVG91Y2gudGFyZ2V0LnNoYWRvd1Jvb3QgJiYgY2hlY2tUb3VjaC50YXJnZXQuc2hhZG93Um9vdC5jb250YWlucyhldmVudFRhcmdldCkpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIEluIHRoZSBjYXNlIG9mIHRvdWNoc3RhcnQgZXZlbnRzLCB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB0aGVyZSBpcyBzdGlsbCBubyBtb3JlIHRoYW4gb25lXG4gICAgICAgICAgICAgICAgLy8gdG91Y2ggb24gdGhlIHRhcmdldCBzbyB3ZSBsb29rIGFtb25nc3QgYWxsIHRvdWNoZXMuXG4gICAgICAgICAgICAgICAgaWYgKGUudHlwZSA9PT0gXCJ0b3VjaHN0YXJ0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldFRvdWNoZXMgPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoZS50b3VjaGVzLCBpc1RvdWNoT25UYXJnZXQpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIERvIG5vdCBzdXBwb3J0IG1vcmUgdGhhbiBvbmUgdG91Y2ggcGVyIGhhbmRsZS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldFRvdWNoZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgeCA9IHRhcmdldFRvdWNoZXNbMF0ucGFnZVg7XG4gICAgICAgICAgICAgICAgICAgIHkgPSB0YXJnZXRUb3VjaGVzWzBdLnBhZ2VZO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEluIHRoZSBvdGhlciBjYXNlcywgZmluZCBvbiBjaGFuZ2VkVG91Y2hlcyBpcyBlbm91Z2guXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXRUb3VjaCA9IEFycmF5LnByb3RvdHlwZS5maW5kLmNhbGwoZS5jaGFuZ2VkVG91Y2hlcywgaXNUb3VjaE9uVGFyZ2V0KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBDYW5jZWwgaWYgdGhlIHRhcmdldCB0b3VjaCBoYXMgbm90IG1vdmVkLlxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRhcmdldFRvdWNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB4ID0gdGFyZ2V0VG91Y2gucGFnZVg7XG4gICAgICAgICAgICAgICAgICAgIHkgPSB0YXJnZXRUb3VjaC5wYWdlWTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhZ2VPZmZzZXQgPSBwYWdlT2Zmc2V0IHx8IGdldFBhZ2VPZmZzZXQoc2NvcGVfRG9jdW1lbnQpO1xuXG4gICAgICAgICAgICBpZiAobW91c2UgfHwgcG9pbnRlcikge1xuICAgICAgICAgICAgICAgIHggPSBlLmNsaWVudFggKyBwYWdlT2Zmc2V0Lng7XG4gICAgICAgICAgICAgICAgeSA9IGUuY2xpZW50WSArIHBhZ2VPZmZzZXQueTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZS5wYWdlT2Zmc2V0ID0gcGFnZU9mZnNldDtcbiAgICAgICAgICAgIGUucG9pbnRzID0gW3gsIHldO1xuICAgICAgICAgICAgZS5jdXJzb3IgPSBtb3VzZSB8fCBwb2ludGVyOyAvLyBGaXggIzQzNVxuXG4gICAgICAgICAgICByZXR1cm4gZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRyYW5zbGF0ZSBhIGNvb3JkaW5hdGUgaW4gdGhlIGRvY3VtZW50IHRvIGEgcGVyY2VudGFnZSBvbiB0aGUgc2xpZGVyXG4gICAgICAgIGZ1bmN0aW9uIGNhbGNQb2ludFRvUGVyY2VudGFnZShjYWxjUG9pbnQpIHtcbiAgICAgICAgICAgIHZhciBsb2NhdGlvbiA9IGNhbGNQb2ludCAtIG9mZnNldChzY29wZV9CYXNlLCBvcHRpb25zLm9ydCk7XG4gICAgICAgICAgICB2YXIgcHJvcG9zYWwgPSAobG9jYXRpb24gKiAxMDApIC8gYmFzZVNpemUoKTtcblxuICAgICAgICAgICAgLy8gQ2xhbXAgcHJvcG9zYWwgYmV0d2VlbiAwJSBhbmQgMTAwJVxuICAgICAgICAgICAgLy8gT3V0LW9mLWJvdW5kIGNvb3JkaW5hdGVzIG1heSBvY2N1ciB3aGVuIC5ub1VpLWJhc2UgcHNldWRvLWVsZW1lbnRzXG4gICAgICAgICAgICAvLyBhcmUgdXNlZCAoZS5nLiBjb250YWluZWQgaGFuZGxlcyBmZWF0dXJlKVxuICAgICAgICAgICAgcHJvcG9zYWwgPSBsaW1pdChwcm9wb3NhbCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmRpciA/IDEwMCAtIHByb3Bvc2FsIDogcHJvcG9zYWw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGaW5kIGhhbmRsZSBjbG9zZXN0IHRvIGEgY2VydGFpbiBwZXJjZW50YWdlIG9uIHRoZSBzbGlkZXJcbiAgICAgICAgZnVuY3Rpb24gZ2V0Q2xvc2VzdEhhbmRsZShjbGlja2VkUG9zaXRpb24pIHtcbiAgICAgICAgICAgIHZhciBzbWFsbGVzdERpZmZlcmVuY2UgPSAxMDA7XG4gICAgICAgICAgICB2YXIgaGFuZGxlTnVtYmVyID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHNjb3BlX0hhbmRsZXMuZm9yRWFjaChmdW5jdGlvbihoYW5kbGUsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgLy8gRGlzYWJsZWQgaGFuZGxlcyBhcmUgaWdub3JlZFxuICAgICAgICAgICAgICAgIGlmIChpc0hhbmRsZURpc2FibGVkKGluZGV4KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIGhhbmRsZVBvc2l0aW9uID0gc2NvcGVfTG9jYXRpb25zW2luZGV4XTtcbiAgICAgICAgICAgICAgICB2YXIgZGlmZmVyZW5jZVdpdGhUaGlzSGFuZGxlID0gTWF0aC5hYnMoaGFuZGxlUG9zaXRpb24gLSBjbGlja2VkUG9zaXRpb24pO1xuXG4gICAgICAgICAgICAgICAgLy8gSW5pdGlhbCBzdGF0ZVxuICAgICAgICAgICAgICAgIHZhciBjbGlja0F0RWRnZSA9IGRpZmZlcmVuY2VXaXRoVGhpc0hhbmRsZSA9PT0gMTAwICYmIHNtYWxsZXN0RGlmZmVyZW5jZSA9PT0gMTAwO1xuXG4gICAgICAgICAgICAgICAgLy8gRGlmZmVyZW5jZSB3aXRoIHRoaXMgaGFuZGxlIGlzIHNtYWxsZXIgdGhhbiB0aGUgcHJldmlvdXNseSBjaGVja2VkIGhhbmRsZVxuICAgICAgICAgICAgICAgIHZhciBpc0Nsb3NlciA9IGRpZmZlcmVuY2VXaXRoVGhpc0hhbmRsZSA8IHNtYWxsZXN0RGlmZmVyZW5jZTtcbiAgICAgICAgICAgICAgICB2YXIgaXNDbG9zZXJBZnRlciA9IGRpZmZlcmVuY2VXaXRoVGhpc0hhbmRsZSA8PSBzbWFsbGVzdERpZmZlcmVuY2UgJiYgY2xpY2tlZFBvc2l0aW9uID4gaGFuZGxlUG9zaXRpb247XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNDbG9zZXIgfHwgaXNDbG9zZXJBZnRlciB8fCBjbGlja0F0RWRnZSkge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVOdW1iZXIgPSBpbmRleDtcbiAgICAgICAgICAgICAgICAgICAgc21hbGxlc3REaWZmZXJlbmNlID0gZGlmZmVyZW5jZVdpdGhUaGlzSGFuZGxlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlTnVtYmVyO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmlyZSAnZW5kJyB3aGVuIGEgbW91c2Ugb3IgcGVuIGxlYXZlcyB0aGUgZG9jdW1lbnQuXG4gICAgICAgIGZ1bmN0aW9uIGRvY3VtZW50TGVhdmUoZXZlbnQsIGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChldmVudC50eXBlID09PSBcIm1vdXNlb3V0XCIgJiYgZXZlbnQudGFyZ2V0Lm5vZGVOYW1lID09PSBcIkhUTUxcIiAmJiBldmVudC5yZWxhdGVkVGFyZ2V0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZXZlbnRFbmQoZXZlbnQsIGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGFuZGxlIG1vdmVtZW50IG9uIGRvY3VtZW50IGZvciBoYW5kbGUgYW5kIHJhbmdlIGRyYWcuXG4gICAgICAgIGZ1bmN0aW9uIGV2ZW50TW92ZShldmVudCwgZGF0YSkge1xuICAgICAgICAgICAgLy8gRml4ICM0OThcbiAgICAgICAgICAgIC8vIENoZWNrIHZhbHVlIG9mIC5idXR0b25zIGluICdzdGFydCcgdG8gd29yayBhcm91bmQgYSBidWcgaW4gSUUxMCBtb2JpbGUgKGRhdGEuYnV0dG9uc1Byb3BlcnR5KS5cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vY29ubmVjdC5taWNyb3NvZnQuY29tL0lFL2ZlZWRiYWNrL2RldGFpbHMvOTI3MDA1L21vYmlsZS1pZTEwLXdpbmRvd3MtcGhvbmUtYnV0dG9ucy1wcm9wZXJ0eS1vZi1wb2ludGVybW92ZS1ldmVudC1hbHdheXMtemVyb1xuICAgICAgICAgICAgLy8gSUU5IGhhcyAuYnV0dG9ucyBhbmQgLndoaWNoIHplcm8gb24gbW91c2Vtb3ZlLlxuICAgICAgICAgICAgLy8gRmlyZWZveCBicmVha3MgdGhlIHNwZWMgTUROIGRlZmluZXMuXG4gICAgICAgICAgICBpZiAobmF2aWdhdG9yLmFwcFZlcnNpb24uaW5kZXhPZihcIk1TSUUgOVwiKSA9PT0gLTEgJiYgZXZlbnQuYnV0dG9ucyA9PT0gMCAmJiBkYXRhLmJ1dHRvbnNQcm9wZXJ0eSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBldmVudEVuZChldmVudCwgZGF0YSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHdlIGFyZSBtb3ZpbmcgdXAgb3IgZG93blxuICAgICAgICAgICAgdmFyIG1vdmVtZW50ID0gKG9wdGlvbnMuZGlyID8gLTEgOiAxKSAqIChldmVudC5jYWxjUG9pbnQgLSBkYXRhLnN0YXJ0Q2FsY1BvaW50KTtcblxuICAgICAgICAgICAgLy8gQ29udmVydCB0aGUgbW92ZW1lbnQgaW50byBhIHBlcmNlbnRhZ2Ugb2YgdGhlIHNsaWRlciB3aWR0aC9oZWlnaHRcbiAgICAgICAgICAgIHZhciBwcm9wb3NhbCA9IChtb3ZlbWVudCAqIDEwMCkgLyBkYXRhLmJhc2VTaXplO1xuXG4gICAgICAgICAgICBtb3ZlSGFuZGxlcyhtb3ZlbWVudCA+IDAsIHByb3Bvc2FsLCBkYXRhLmxvY2F0aW9ucywgZGF0YS5oYW5kbGVOdW1iZXJzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVuYmluZCBtb3ZlIGV2ZW50cyBvbiBkb2N1bWVudCwgY2FsbCBjYWxsYmFja3MuXG4gICAgICAgIGZ1bmN0aW9uIGV2ZW50RW5kKGV2ZW50LCBkYXRhKSB7XG4gICAgICAgICAgICAvLyBUaGUgaGFuZGxlIGlzIG5vIGxvbmdlciBhY3RpdmUsIHNvIHJlbW92ZSB0aGUgY2xhc3MuXG4gICAgICAgICAgICBpZiAoZGF0YS5oYW5kbGUpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhkYXRhLmhhbmRsZSwgb3B0aW9ucy5jc3NDbGFzc2VzLmFjdGl2ZSk7XG4gICAgICAgICAgICAgICAgc2NvcGVfQWN0aXZlSGFuZGxlc0NvdW50IC09IDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFVuYmluZCB0aGUgbW92ZSBhbmQgZW5kIGV2ZW50cywgd2hpY2ggYXJlIGFkZGVkIG9uICdzdGFydCcuXG4gICAgICAgICAgICBkYXRhLmxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgICAgICAgICBzY29wZV9Eb2N1bWVudEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihjWzBdLCBjWzFdKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoc2NvcGVfQWN0aXZlSGFuZGxlc0NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGRyYWdnaW5nIGNsYXNzLlxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKHNjb3BlX1RhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLmRyYWcpO1xuICAgICAgICAgICAgICAgIHNldFppbmRleCgpO1xuXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGN1cnNvciBzdHlsZXMgYW5kIHRleHQtc2VsZWN0aW9uIGV2ZW50cyBib3VuZCB0byB0aGUgYm9keS5cbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuY3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlX0JvZHkuc3R5bGUuY3Vyc29yID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGVfQm9keS5yZW1vdmVFdmVudExpc3RlbmVyKFwic2VsZWN0c3RhcnRcIiwgcHJldmVudERlZmF1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGF0YS5oYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24oaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwiY2hhbmdlXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwic2V0XCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwiZW5kXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJpbmQgbW92ZSBldmVudHMgb24gZG9jdW1lbnQuXG4gICAgICAgIGZ1bmN0aW9uIGV2ZW50U3RhcnQoZXZlbnQsIGRhdGEpIHtcbiAgICAgICAgICAgIC8vIElnbm9yZSBldmVudCBpZiBhbnkgaGFuZGxlIGlzIGRpc2FibGVkXG4gICAgICAgICAgICBpZiAoZGF0YS5oYW5kbGVOdW1iZXJzLnNvbWUoaXNIYW5kbGVEaXNhYmxlZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBoYW5kbGU7XG5cbiAgICAgICAgICAgIGlmIChkYXRhLmhhbmRsZU51bWJlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhhbmRsZU9yaWdpbiA9IHNjb3BlX0hhbmRsZXNbZGF0YS5oYW5kbGVOdW1iZXJzWzBdXTtcblxuICAgICAgICAgICAgICAgIGhhbmRsZSA9IGhhbmRsZU9yaWdpbi5jaGlsZHJlblswXTtcbiAgICAgICAgICAgICAgICBzY29wZV9BY3RpdmVIYW5kbGVzQ291bnQgKz0gMTtcblxuICAgICAgICAgICAgICAgIC8vIE1hcmsgdGhlIGhhbmRsZSBhcyAnYWN0aXZlJyBzbyBpdCBjYW4gYmUgc3R5bGVkLlxuICAgICAgICAgICAgICAgIGFkZENsYXNzKGhhbmRsZSwgb3B0aW9ucy5jc3NDbGFzc2VzLmFjdGl2ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEEgZHJhZyBzaG91bGQgbmV2ZXIgcHJvcGFnYXRlIHVwIHRvIHRoZSAndGFwJyBldmVudC5cbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgICAvLyBSZWNvcmQgdGhlIGV2ZW50IGxpc3RlbmVycy5cbiAgICAgICAgICAgIHZhciBsaXN0ZW5lcnMgPSBbXTtcblxuICAgICAgICAgICAgLy8gQXR0YWNoIHRoZSBtb3ZlIGFuZCBlbmQgZXZlbnRzLlxuICAgICAgICAgICAgdmFyIG1vdmVFdmVudCA9IGF0dGFjaEV2ZW50KGFjdGlvbnMubW92ZSwgc2NvcGVfRG9jdW1lbnRFbGVtZW50LCBldmVudE1vdmUsIHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgZXZlbnQgdGFyZ2V0IGhhcyBjaGFuZ2VkIHNvIHdlIG5lZWQgdG8gcHJvcGFnYXRlIHRoZSBvcmlnaW5hbCBvbmUgc28gdGhhdCB3ZSBrZWVwXG4gICAgICAgICAgICAgICAgLy8gcmVseWluZyBvbiBpdCB0byBleHRyYWN0IHRhcmdldCB0b3VjaGVzLlxuICAgICAgICAgICAgICAgIHRhcmdldDogZXZlbnQudGFyZ2V0LFxuICAgICAgICAgICAgICAgIGhhbmRsZTogaGFuZGxlLFxuICAgICAgICAgICAgICAgIGxpc3RlbmVyczogbGlzdGVuZXJzLFxuICAgICAgICAgICAgICAgIHN0YXJ0Q2FsY1BvaW50OiBldmVudC5jYWxjUG9pbnQsXG4gICAgICAgICAgICAgICAgYmFzZVNpemU6IGJhc2VTaXplKCksXG4gICAgICAgICAgICAgICAgcGFnZU9mZnNldDogZXZlbnQucGFnZU9mZnNldCxcbiAgICAgICAgICAgICAgICBoYW5kbGVOdW1iZXJzOiBkYXRhLmhhbmRsZU51bWJlcnMsXG4gICAgICAgICAgICAgICAgYnV0dG9uc1Byb3BlcnR5OiBldmVudC5idXR0b25zLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uczogc2NvcGVfTG9jYXRpb25zLnNsaWNlKClcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgZW5kRXZlbnQgPSBhdHRhY2hFdmVudChhY3Rpb25zLmVuZCwgc2NvcGVfRG9jdW1lbnRFbGVtZW50LCBldmVudEVuZCwge1xuICAgICAgICAgICAgICAgIHRhcmdldDogZXZlbnQudGFyZ2V0LFxuICAgICAgICAgICAgICAgIGhhbmRsZTogaGFuZGxlLFxuICAgICAgICAgICAgICAgIGxpc3RlbmVyczogbGlzdGVuZXJzLFxuICAgICAgICAgICAgICAgIGRvTm90UmVqZWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgIGhhbmRsZU51bWJlcnM6IGRhdGEuaGFuZGxlTnVtYmVyc1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHZhciBvdXRFdmVudCA9IGF0dGFjaEV2ZW50KFwibW91c2VvdXRcIiwgc2NvcGVfRG9jdW1lbnRFbGVtZW50LCBkb2N1bWVudExlYXZlLCB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBldmVudC50YXJnZXQsXG4gICAgICAgICAgICAgICAgaGFuZGxlOiBoYW5kbGUsXG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzOiBsaXN0ZW5lcnMsXG4gICAgICAgICAgICAgICAgZG9Ob3RSZWplY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgaGFuZGxlTnVtYmVyczogZGF0YS5oYW5kbGVOdW1iZXJzXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gV2Ugd2FudCB0byBtYWtlIHN1cmUgd2UgcHVzaGVkIHRoZSBsaXN0ZW5lcnMgaW4gdGhlIGxpc3RlbmVyIGxpc3QgcmF0aGVyIHRoYW4gY3JlYXRpbmdcbiAgICAgICAgICAgIC8vIGEgbmV3IG9uZSBhcyBpdCBoYXMgYWxyZWFkeSBiZWVuIHBhc3NlZCB0byB0aGUgZXZlbnQgaGFuZGxlcnMuXG4gICAgICAgICAgICBsaXN0ZW5lcnMucHVzaC5hcHBseShsaXN0ZW5lcnMsIG1vdmVFdmVudC5jb25jYXQoZW5kRXZlbnQsIG91dEV2ZW50KSk7XG5cbiAgICAgICAgICAgIC8vIFRleHQgc2VsZWN0aW9uIGlzbid0IGFuIGlzc3VlIG9uIHRvdWNoIGRldmljZXMsXG4gICAgICAgICAgICAvLyBzbyBhZGRpbmcgY3Vyc29yIHN0eWxlcyBjYW4gYmUgc2tpcHBlZC5cbiAgICAgICAgICAgIGlmIChldmVudC5jdXJzb3IpIHtcbiAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IHRoZSAnSScgY3Vyc29yIGFuZCBleHRlbmQgdGhlIHJhbmdlLWRyYWcgY3Vyc29yLlxuICAgICAgICAgICAgICAgIHNjb3BlX0JvZHkuc3R5bGUuY3Vyc29yID0gZ2V0Q29tcHV0ZWRTdHlsZShldmVudC50YXJnZXQpLmN1cnNvcjtcblxuICAgICAgICAgICAgICAgIC8vIE1hcmsgdGhlIHRhcmdldCB3aXRoIGEgZHJhZ2dpbmcgc3RhdGUuXG4gICAgICAgICAgICAgICAgaWYgKHNjb3BlX0hhbmRsZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcyhzY29wZV9UYXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5kcmFnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IHRleHQgc2VsZWN0aW9uIHdoZW4gZHJhZ2dpbmcgdGhlIGhhbmRsZXMuXG4gICAgICAgICAgICAgICAgLy8gSW4gbm9VaVNsaWRlciA8PSA5LjIuMCwgdGhpcyB3YXMgaGFuZGxlZCBieSBjYWxsaW5nIHByZXZlbnREZWZhdWx0IG9uIG1vdXNlL3RvdWNoIHN0YXJ0L21vdmUsXG4gICAgICAgICAgICAgICAgLy8gd2hpY2ggaXMgc2Nyb2xsIGJsb2NraW5nLiBUaGUgc2VsZWN0c3RhcnQgZXZlbnQgaXMgc3VwcG9ydGVkIGJ5IEZpcmVGb3ggc3RhcnRpbmcgZnJvbSB2ZXJzaW9uIDUyLFxuICAgICAgICAgICAgICAgIC8vIG1lYW5pbmcgdGhlIG9ubHkgaG9sZG91dCBpcyBpT1MgU2FmYXJpLiBUaGlzIGRvZXNuJ3QgbWF0dGVyOiB0ZXh0IHNlbGVjdGlvbiBpc24ndCB0cmlnZ2VyZWQgdGhlcmUuXG4gICAgICAgICAgICAgICAgLy8gVGhlICdjdXJzb3InIGZsYWcgaXMgZmFsc2UuXG4gICAgICAgICAgICAgICAgLy8gU2VlOiBodHRwOi8vY2FuaXVzZS5jb20vI3NlYXJjaD1zZWxlY3RzdGFydFxuICAgICAgICAgICAgICAgIHNjb3BlX0JvZHkuYWRkRXZlbnRMaXN0ZW5lcihcInNlbGVjdHN0YXJ0XCIsIHByZXZlbnREZWZhdWx0LCBmYWxzZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRhdGEuaGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZU51bWJlcikge1xuICAgICAgICAgICAgICAgIGZpcmVFdmVudChcInN0YXJ0XCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1vdmUgY2xvc2VzdCBoYW5kbGUgdG8gdGFwcGVkIGxvY2F0aW9uLlxuICAgICAgICBmdW5jdGlvbiBldmVudFRhcChldmVudCkge1xuICAgICAgICAgICAgLy8gVGhlIHRhcCBldmVudCBzaG91bGRuJ3QgcHJvcGFnYXRlIHVwXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgdmFyIHByb3Bvc2FsID0gY2FsY1BvaW50VG9QZXJjZW50YWdlKGV2ZW50LmNhbGNQb2ludCk7XG4gICAgICAgICAgICB2YXIgaGFuZGxlTnVtYmVyID0gZ2V0Q2xvc2VzdEhhbmRsZShwcm9wb3NhbCk7XG5cbiAgICAgICAgICAgIC8vIFRhY2tsZSB0aGUgY2FzZSB0aGF0IGFsbCBoYW5kbGVzIGFyZSAnZGlzYWJsZWQnLlxuICAgICAgICAgICAgaWYgKGhhbmRsZU51bWJlciA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEZsYWcgdGhlIHNsaWRlciBhcyBpdCBpcyBub3cgaW4gYSB0cmFuc2l0aW9uYWwgc3RhdGUuXG4gICAgICAgICAgICAvLyBUcmFuc2l0aW9uIHRha2VzIGEgY29uZmlndXJhYmxlIGFtb3VudCBvZiBtcyAoZGVmYXVsdCAzMDApLiBSZS1lbmFibGUgdGhlIHNsaWRlciBhZnRlciB0aGF0LlxuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmV2ZW50cy5zbmFwKSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3NGb3Ioc2NvcGVfVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMudGFwLCBvcHRpb25zLmFuaW1hdGlvbkR1cmF0aW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2V0SGFuZGxlKGhhbmRsZU51bWJlciwgcHJvcG9zYWwsIHRydWUsIHRydWUpO1xuXG4gICAgICAgICAgICBzZXRaaW5kZXgoKTtcblxuICAgICAgICAgICAgZmlyZUV2ZW50KFwic2xpZGVcIiwgaGFuZGxlTnVtYmVyLCB0cnVlKTtcbiAgICAgICAgICAgIGZpcmVFdmVudChcInVwZGF0ZVwiLCBoYW5kbGVOdW1iZXIsIHRydWUpO1xuICAgICAgICAgICAgZmlyZUV2ZW50KFwiY2hhbmdlXCIsIGhhbmRsZU51bWJlciwgdHJ1ZSk7XG4gICAgICAgICAgICBmaXJlRXZlbnQoXCJzZXRcIiwgaGFuZGxlTnVtYmVyLCB0cnVlKTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZXZlbnRzLnNuYXApIHtcbiAgICAgICAgICAgICAgICBldmVudFN0YXJ0KGV2ZW50LCB7IGhhbmRsZU51bWJlcnM6IFtoYW5kbGVOdW1iZXJdIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmlyZXMgYSAnaG92ZXInIGV2ZW50IGZvciBhIGhvdmVyZWQgbW91c2UvcGVuIHBvc2l0aW9uLlxuICAgICAgICBmdW5jdGlvbiBldmVudEhvdmVyKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgcHJvcG9zYWwgPSBjYWxjUG9pbnRUb1BlcmNlbnRhZ2UoZXZlbnQuY2FsY1BvaW50KTtcblxuICAgICAgICAgICAgdmFyIHRvID0gc2NvcGVfU3BlY3RydW0uZ2V0U3RlcChwcm9wb3NhbCk7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBzY29wZV9TcGVjdHJ1bS5mcm9tU3RlcHBpbmcodG8pO1xuXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzY29wZV9FdmVudHMpLmZvckVhY2goZnVuY3Rpb24odGFyZ2V0RXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoXCJob3ZlclwiID09PSB0YXJnZXRFdmVudC5zcGxpdChcIi5cIilbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGVfRXZlbnRzW3RhcmdldEV2ZW50XS5mb3JFYWNoKGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKHNjb3BlX1NlbGYsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGVzIGtleWRvd24gb24gZm9jdXNlZCBoYW5kbGVzXG4gICAgICAgIC8vIERvbid0IG1vdmUgdGhlIGRvY3VtZW50IHdoZW4gcHJlc3NpbmcgYXJyb3cga2V5cyBvbiBmb2N1c2VkIGhhbmRsZXNcbiAgICAgICAgZnVuY3Rpb24gZXZlbnRLZXlkb3duKGV2ZW50LCBoYW5kbGVOdW1iZXIpIHtcbiAgICAgICAgICAgIGlmIChpc1NsaWRlckRpc2FibGVkKCkgfHwgaXNIYW5kbGVEaXNhYmxlZChoYW5kbGVOdW1iZXIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgaG9yaXpvbnRhbEtleXMgPSBbXCJMZWZ0XCIsIFwiUmlnaHRcIl07XG4gICAgICAgICAgICB2YXIgdmVydGljYWxLZXlzID0gW1wiRG93blwiLCBcIlVwXCJdO1xuICAgICAgICAgICAgdmFyIGxhcmdlU3RlcEtleXMgPSBbXCJQYWdlRG93blwiLCBcIlBhZ2VVcFwiXTtcbiAgICAgICAgICAgIHZhciBlZGdlS2V5cyA9IFtcIkhvbWVcIiwgXCJFbmRcIl07XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmRpciAmJiAhb3B0aW9ucy5vcnQpIHtcbiAgICAgICAgICAgICAgICAvLyBPbiBhbiByaWdodC10by1sZWZ0IHNsaWRlciwgdGhlIGxlZnQgYW5kIHJpZ2h0IGtleXMgYWN0IGludmVydGVkXG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbEtleXMucmV2ZXJzZSgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLm9ydCAmJiAhb3B0aW9ucy5kaXIpIHtcbiAgICAgICAgICAgICAgICAvLyBPbiBhIHRvcC10by1ib3R0b20gc2xpZGVyLCB0aGUgdXAgYW5kIGRvd24ga2V5cyBhY3QgaW52ZXJ0ZWRcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbEtleXMucmV2ZXJzZSgpO1xuICAgICAgICAgICAgICAgIGxhcmdlU3RlcEtleXMucmV2ZXJzZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTdHJpcCBcIkFycm93XCIgZm9yIElFIGNvbXBhdGliaWxpdHkuIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9LZXlib2FyZEV2ZW50L2tleVxuICAgICAgICAgICAgdmFyIGtleSA9IGV2ZW50LmtleS5yZXBsYWNlKFwiQXJyb3dcIiwgXCJcIik7XG5cbiAgICAgICAgICAgIHZhciBpc0xhcmdlRG93biA9IGtleSA9PT0gbGFyZ2VTdGVwS2V5c1swXTtcbiAgICAgICAgICAgIHZhciBpc0xhcmdlVXAgPSBrZXkgPT09IGxhcmdlU3RlcEtleXNbMV07XG4gICAgICAgICAgICB2YXIgaXNEb3duID0ga2V5ID09PSB2ZXJ0aWNhbEtleXNbMF0gfHwga2V5ID09PSBob3Jpem9udGFsS2V5c1swXSB8fCBpc0xhcmdlRG93bjtcbiAgICAgICAgICAgIHZhciBpc1VwID0ga2V5ID09PSB2ZXJ0aWNhbEtleXNbMV0gfHwga2V5ID09PSBob3Jpem9udGFsS2V5c1sxXSB8fCBpc0xhcmdlVXA7XG4gICAgICAgICAgICB2YXIgaXNNaW4gPSBrZXkgPT09IGVkZ2VLZXlzWzBdO1xuICAgICAgICAgICAgdmFyIGlzTWF4ID0ga2V5ID09PSBlZGdlS2V5c1sxXTtcblxuICAgICAgICAgICAgaWYgKCFpc0Rvd24gJiYgIWlzVXAgJiYgIWlzTWluICYmICFpc01heCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICB2YXIgdG87XG5cbiAgICAgICAgICAgIGlmIChpc1VwIHx8IGlzRG93bikge1xuICAgICAgICAgICAgICAgIHZhciBtdWx0aXBsaWVyID0gNTtcbiAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gaXNEb3duID8gMCA6IDE7XG4gICAgICAgICAgICAgICAgdmFyIHN0ZXBzID0gZ2V0TmV4dFN0ZXBzRm9ySGFuZGxlKGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgdmFyIHN0ZXAgPSBzdGVwc1tkaXJlY3Rpb25dO1xuXG4gICAgICAgICAgICAgICAgLy8gQXQgdGhlIGVkZ2Ugb2YgYSBzbGlkZXIsIGRvIG5vdGhpbmdcbiAgICAgICAgICAgICAgICBpZiAoc3RlcCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTm8gc3RlcCBzZXQsIHVzZSB0aGUgZGVmYXVsdCBvZiAxMCUgb2YgdGhlIHN1Yi1yYW5nZVxuICAgICAgICAgICAgICAgIGlmIChzdGVwID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBzdGVwID0gc2NvcGVfU3BlY3RydW0uZ2V0RGVmYXVsdFN0ZXAoc2NvcGVfTG9jYXRpb25zW2hhbmRsZU51bWJlcl0sIGlzRG93biwgMTApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChpc0xhcmdlVXAgfHwgaXNMYXJnZURvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgc3RlcCAqPSBtdWx0aXBsaWVyO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFN0ZXAgb3ZlciB6ZXJvLWxlbmd0aCByYW5nZXMgKCM5NDgpO1xuICAgICAgICAgICAgICAgIHN0ZXAgPSBNYXRoLm1heChzdGVwLCAwLjAwMDAwMDEpO1xuXG4gICAgICAgICAgICAgICAgLy8gRGVjcmVtZW50IGZvciBkb3duIHN0ZXBzXG4gICAgICAgICAgICAgICAgc3RlcCA9IChpc0Rvd24gPyAtMSA6IDEpICogc3RlcDtcblxuICAgICAgICAgICAgICAgIHRvID0gc2NvcGVfVmFsdWVzW2hhbmRsZU51bWJlcl0gKyBzdGVwO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc01heCkge1xuICAgICAgICAgICAgICAgIC8vIEVuZCBrZXlcbiAgICAgICAgICAgICAgICB0byA9IG9wdGlvbnMuc3BlY3RydW0ueFZhbFtvcHRpb25zLnNwZWN0cnVtLnhWYWwubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEhvbWUga2V5XG4gICAgICAgICAgICAgICAgdG8gPSBvcHRpb25zLnNwZWN0cnVtLnhWYWxbMF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNldEhhbmRsZShoYW5kbGVOdW1iZXIsIHNjb3BlX1NwZWN0cnVtLnRvU3RlcHBpbmcodG8pLCB0cnVlLCB0cnVlKTtcblxuICAgICAgICAgICAgZmlyZUV2ZW50KFwic2xpZGVcIiwgaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgIGZpcmVFdmVudChcInVwZGF0ZVwiLCBoYW5kbGVOdW1iZXIpO1xuICAgICAgICAgICAgZmlyZUV2ZW50KFwiY2hhbmdlXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICBmaXJlRXZlbnQoXCJzZXRcIiwgaGFuZGxlTnVtYmVyKTtcblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXR0YWNoIGV2ZW50cyB0byBzZXZlcmFsIHNsaWRlciBwYXJ0cy5cbiAgICAgICAgZnVuY3Rpb24gYmluZFNsaWRlckV2ZW50cyhiZWhhdmlvdXIpIHtcbiAgICAgICAgICAgIC8vIEF0dGFjaCB0aGUgc3RhbmRhcmQgZHJhZyBldmVudCB0byB0aGUgaGFuZGxlcy5cbiAgICAgICAgICAgIGlmICghYmVoYXZpb3VyLmZpeGVkKSB7XG4gICAgICAgICAgICAgICAgc2NvcGVfSGFuZGxlcy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlc2UgZXZlbnRzIGFyZSBvbmx5IGJvdW5kIHRvIHRoZSB2aXN1YWwgaGFuZGxlXG4gICAgICAgICAgICAgICAgICAgIC8vIGVsZW1lbnQsIG5vdCB0aGUgJ3JlYWwnIG9yaWdpbiBlbGVtZW50LlxuICAgICAgICAgICAgICAgICAgICBhdHRhY2hFdmVudChhY3Rpb25zLnN0YXJ0LCBoYW5kbGUuY2hpbGRyZW5bMF0sIGV2ZW50U3RhcnQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZU51bWJlcnM6IFtpbmRleF1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEF0dGFjaCB0aGUgdGFwIGV2ZW50IHRvIHRoZSBzbGlkZXIgYmFzZS5cbiAgICAgICAgICAgIGlmIChiZWhhdmlvdXIudGFwKSB7XG4gICAgICAgICAgICAgICAgYXR0YWNoRXZlbnQoYWN0aW9ucy5zdGFydCwgc2NvcGVfQmFzZSwgZXZlbnRUYXAsIHt9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRmlyZSBob3ZlciBldmVudHNcbiAgICAgICAgICAgIGlmIChiZWhhdmlvdXIuaG92ZXIpIHtcbiAgICAgICAgICAgICAgICBhdHRhY2hFdmVudChhY3Rpb25zLm1vdmUsIHNjb3BlX0Jhc2UsIGV2ZW50SG92ZXIsIHtcbiAgICAgICAgICAgICAgICAgICAgaG92ZXI6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTWFrZSB0aGUgcmFuZ2UgZHJhZ2dhYmxlLlxuICAgICAgICAgICAgaWYgKGJlaGF2aW91ci5kcmFnKSB7XG4gICAgICAgICAgICAgICAgc2NvcGVfQ29ubmVjdHMuZm9yRWFjaChmdW5jdGlvbihjb25uZWN0LCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29ubmVjdCA9PT0gZmFsc2UgfHwgaW5kZXggPT09IDAgfHwgaW5kZXggPT09IHNjb3BlX0Nvbm5lY3RzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBoYW5kbGVCZWZvcmUgPSBzY29wZV9IYW5kbGVzW2luZGV4IC0gMV07XG4gICAgICAgICAgICAgICAgICAgIHZhciBoYW5kbGVBZnRlciA9IHNjb3BlX0hhbmRsZXNbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnRIb2xkZXJzID0gW2Nvbm5lY3RdO1xuXG4gICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKGNvbm5lY3QsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5kcmFnZ2FibGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIHJhbmdlIGlzIGZpeGVkLCB0aGUgZW50aXJlIHJhbmdlIGNhblxuICAgICAgICAgICAgICAgICAgICAvLyBiZSBkcmFnZ2VkIGJ5IHRoZSBoYW5kbGVzLiBUaGUgaGFuZGxlIGluIHRoZSBmaXJzdFxuICAgICAgICAgICAgICAgICAgICAvLyBvcmlnaW4gd2lsbCBwcm9wYWdhdGUgdGhlIHN0YXJ0IGV2ZW50IHVwd2FyZCxcbiAgICAgICAgICAgICAgICAgICAgLy8gYnV0IGl0IG5lZWRzIHRvIGJlIGJvdW5kIG1hbnVhbGx5IG9uIHRoZSBvdGhlci5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGJlaGF2aW91ci5maXhlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRIb2xkZXJzLnB1c2goaGFuZGxlQmVmb3JlLmNoaWxkcmVuWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SG9sZGVycy5wdXNoKGhhbmRsZUFmdGVyLmNoaWxkcmVuWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SG9sZGVycy5mb3JFYWNoKGZ1bmN0aW9uKGV2ZW50SG9sZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2hFdmVudChhY3Rpb25zLnN0YXJ0LCBldmVudEhvbGRlciwgZXZlbnRTdGFydCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXM6IFtoYW5kbGVCZWZvcmUsIGhhbmRsZUFmdGVyXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVOdW1iZXJzOiBbaW5kZXggLSAxLCBpbmRleF1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEF0dGFjaCBhbiBldmVudCB0byB0aGlzIHNsaWRlciwgcG9zc2libHkgaW5jbHVkaW5nIGEgbmFtZXNwYWNlXG4gICAgICAgIGZ1bmN0aW9uIGJpbmRFdmVudChuYW1lc3BhY2VkRXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBzY29wZV9FdmVudHNbbmFtZXNwYWNlZEV2ZW50XSA9IHNjb3BlX0V2ZW50c1tuYW1lc3BhY2VkRXZlbnRdIHx8IFtdO1xuICAgICAgICAgICAgc2NvcGVfRXZlbnRzW25hbWVzcGFjZWRFdmVudF0ucHVzaChjYWxsYmFjayk7XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSBldmVudCBib3VuZCBpcyAndXBkYXRlLCcgZmlyZSBpdCBpbW1lZGlhdGVseSBmb3IgYWxsIGhhbmRsZXMuXG4gICAgICAgICAgICBpZiAobmFtZXNwYWNlZEV2ZW50LnNwbGl0KFwiLlwiKVswXSA9PT0gXCJ1cGRhdGVcIikge1xuICAgICAgICAgICAgICAgIHNjb3BlX0hhbmRsZXMuZm9yRWFjaChmdW5jdGlvbihhLCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBmaXJlRXZlbnQoXCJ1cGRhdGVcIiwgaW5kZXgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVW5kbyBhdHRhY2htZW50IG9mIGV2ZW50XG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZUV2ZW50KG5hbWVzcGFjZWRFdmVudCkge1xuICAgICAgICAgICAgdmFyIGV2ZW50ID0gbmFtZXNwYWNlZEV2ZW50ICYmIG5hbWVzcGFjZWRFdmVudC5zcGxpdChcIi5cIilbMF07XG4gICAgICAgICAgICB2YXIgbmFtZXNwYWNlID0gZXZlbnQgJiYgbmFtZXNwYWNlZEV2ZW50LnN1YnN0cmluZyhldmVudC5sZW5ndGgpO1xuXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzY29wZV9FdmVudHMpLmZvckVhY2goZnVuY3Rpb24oYmluZCkge1xuICAgICAgICAgICAgICAgIHZhciB0RXZlbnQgPSBiaW5kLnNwbGl0KFwiLlwiKVswXTtcbiAgICAgICAgICAgICAgICB2YXIgdE5hbWVzcGFjZSA9IGJpbmQuc3Vic3RyaW5nKHRFdmVudC5sZW5ndGgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCghZXZlbnQgfHwgZXZlbnQgPT09IHRFdmVudCkgJiYgKCFuYW1lc3BhY2UgfHwgbmFtZXNwYWNlID09PSB0TmFtZXNwYWNlKSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgc2NvcGVfRXZlbnRzW2JpbmRdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRXh0ZXJuYWwgZXZlbnQgaGFuZGxpbmdcbiAgICAgICAgZnVuY3Rpb24gZmlyZUV2ZW50KGV2ZW50TmFtZSwgaGFuZGxlTnVtYmVyLCB0YXApIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHNjb3BlX0V2ZW50cykuZm9yRWFjaChmdW5jdGlvbih0YXJnZXRFdmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBldmVudFR5cGUgPSB0YXJnZXRFdmVudC5zcGxpdChcIi5cIilbMF07XG5cbiAgICAgICAgICAgICAgICBpZiAoZXZlbnROYW1lID09PSBldmVudFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGVfRXZlbnRzW3RhcmdldEV2ZW50XS5mb3JFYWNoKGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZSB0aGUgc2xpZGVyIHB1YmxpYyBBUEkgYXMgdGhlIHNjb3BlICgndGhpcycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGVfU2VsZixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXR1cm4gdmFsdWVzIGFzIGFycmF5LCBzbyBhcmdfMVthcmdfMl0gaXMgYWx3YXlzIHZhbGlkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlX1ZhbHVlcy5tYXAob3B0aW9ucy5mb3JtYXQudG8pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBpbmRleCwgMCBvciAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlTnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVuLWZvcm1hdHRlZCBzbGlkZXIgdmFsdWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGVfVmFsdWVzLnNsaWNlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXZlbnQgaXMgZmlyZWQgYnkgdGFwLCB0cnVlIG9yIGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFwIHx8IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIExlZnQgb2Zmc2V0IG9mIHRoZSBoYW5kbGUsIGluIHJlbGF0aW9uIHRvIHRoZSBzbGlkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZV9Mb2NhdGlvbnMuc2xpY2UoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgdGhlIHNsaWRlciBwdWJsaWMgQVBJIHRvIGFuIGFjY2Vzc2libGUgcGFyYW1ldGVyIHdoZW4gdGhpcyBpcyB1bmF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlX1NlbGZcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3BsaXQgb3V0IHRoZSBoYW5kbGUgcG9zaXRpb25pbmcgbG9naWMgc28gdGhlIE1vdmUgZXZlbnQgY2FuIHVzZSBpdCwgdG9vXG4gICAgICAgIGZ1bmN0aW9uIGNoZWNrSGFuZGxlUG9zaXRpb24ocmVmZXJlbmNlLCBoYW5kbGVOdW1iZXIsIHRvLCBsb29rQmFja3dhcmQsIGxvb2tGb3J3YXJkLCBnZXRWYWx1ZSkge1xuICAgICAgICAgICAgdmFyIGRpc3RhbmNlO1xuXG4gICAgICAgICAgICAvLyBGb3Igc2xpZGVycyB3aXRoIG11bHRpcGxlIGhhbmRsZXMsIGxpbWl0IG1vdmVtZW50IHRvIHRoZSBvdGhlciBoYW5kbGUuXG4gICAgICAgICAgICAvLyBBcHBseSB0aGUgbWFyZ2luIG9wdGlvbiBieSBhZGRpbmcgaXQgdG8gdGhlIGhhbmRsZSBwb3NpdGlvbnMuXG4gICAgICAgICAgICBpZiAoc2NvcGVfSGFuZGxlcy5sZW5ndGggPiAxICYmICFvcHRpb25zLmV2ZW50cy51bmNvbnN0cmFpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxvb2tCYWNrd2FyZCAmJiBoYW5kbGVOdW1iZXIgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gc2NvcGVfU3BlY3RydW0uZ2V0QWJzb2x1dGVEaXN0YW5jZShyZWZlcmVuY2VbaGFuZGxlTnVtYmVyIC0gMV0sIG9wdGlvbnMubWFyZ2luLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgdG8gPSBNYXRoLm1heCh0bywgZGlzdGFuY2UpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChsb29rRm9yd2FyZCAmJiBoYW5kbGVOdW1iZXIgPCBzY29wZV9IYW5kbGVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBzY29wZV9TcGVjdHJ1bS5nZXRBYnNvbHV0ZURpc3RhbmNlKHJlZmVyZW5jZVtoYW5kbGVOdW1iZXIgKyAxXSwgb3B0aW9ucy5tYXJnaW4sIDEpO1xuICAgICAgICAgICAgICAgICAgICB0byA9IE1hdGgubWluKHRvLCBkaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBUaGUgbGltaXQgb3B0aW9uIGhhcyB0aGUgb3Bwb3NpdGUgZWZmZWN0LCBsaW1pdGluZyBoYW5kbGVzIHRvIGFcbiAgICAgICAgICAgIC8vIG1heGltdW0gZGlzdGFuY2UgZnJvbSBhbm90aGVyLiBMaW1pdCBtdXN0IGJlID4gMCwgYXMgb3RoZXJ3aXNlXG4gICAgICAgICAgICAvLyBoYW5kbGVzIHdvdWxkIGJlIHVubW92YWJsZS5cbiAgICAgICAgICAgIGlmIChzY29wZV9IYW5kbGVzLmxlbmd0aCA+IDEgJiYgb3B0aW9ucy5saW1pdCkge1xuICAgICAgICAgICAgICAgIGlmIChsb29rQmFja3dhcmQgJiYgaGFuZGxlTnVtYmVyID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IHNjb3BlX1NwZWN0cnVtLmdldEFic29sdXRlRGlzdGFuY2UocmVmZXJlbmNlW2hhbmRsZU51bWJlciAtIDFdLCBvcHRpb25zLmxpbWl0LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgdG8gPSBNYXRoLm1pbih0bywgZGlzdGFuY2UpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChsb29rRm9yd2FyZCAmJiBoYW5kbGVOdW1iZXIgPCBzY29wZV9IYW5kbGVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBzY29wZV9TcGVjdHJ1bS5nZXRBYnNvbHV0ZURpc3RhbmNlKHJlZmVyZW5jZVtoYW5kbGVOdW1iZXIgKyAxXSwgb3B0aW9ucy5saW1pdCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHRvID0gTWF0aC5tYXgodG8sIGRpc3RhbmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFRoZSBwYWRkaW5nIG9wdGlvbiBrZWVwcyB0aGUgaGFuZGxlcyBhIGNlcnRhaW4gZGlzdGFuY2UgZnJvbSB0aGVcbiAgICAgICAgICAgIC8vIGVkZ2VzIG9mIHRoZSBzbGlkZXIuIFBhZGRpbmcgbXVzdCBiZSA+IDAuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5wYWRkaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhbmRsZU51bWJlciA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IHNjb3BlX1NwZWN0cnVtLmdldEFic29sdXRlRGlzdGFuY2UoMCwgb3B0aW9ucy5wYWRkaW5nWzBdLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgdG8gPSBNYXRoLm1heCh0bywgZGlzdGFuY2UpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChoYW5kbGVOdW1iZXIgPT09IHNjb3BlX0hhbmRsZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IHNjb3BlX1NwZWN0cnVtLmdldEFic29sdXRlRGlzdGFuY2UoMTAwLCBvcHRpb25zLnBhZGRpbmdbMV0sIDEpO1xuICAgICAgICAgICAgICAgICAgICB0byA9IE1hdGgubWluKHRvLCBkaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0byA9IHNjb3BlX1NwZWN0cnVtLmdldFN0ZXAodG8pO1xuXG4gICAgICAgICAgICAvLyBMaW1pdCBwZXJjZW50YWdlIHRvIHRoZSAwIC0gMTAwIHJhbmdlXG4gICAgICAgICAgICB0byA9IGxpbWl0KHRvKTtcblxuICAgICAgICAgICAgLy8gUmV0dXJuIGZhbHNlIGlmIGhhbmRsZSBjYW4ndCBtb3ZlXG4gICAgICAgICAgICBpZiAodG8gPT09IHJlZmVyZW5jZVtoYW5kbGVOdW1iZXJdICYmICFnZXRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRvO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXNlcyBzbGlkZXIgb3JpZW50YXRpb24gdG8gY3JlYXRlIENTUyBydWxlcy4gYSA9IGJhc2UgdmFsdWU7XG4gICAgICAgIGZ1bmN0aW9uIGluUnVsZU9yZGVyKHYsIGEpIHtcbiAgICAgICAgICAgIHZhciBvID0gb3B0aW9ucy5vcnQ7XG4gICAgICAgICAgICByZXR1cm4gKG8gPyBhIDogdikgKyBcIiwgXCIgKyAobyA/IHYgOiBhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1vdmVzIGhhbmRsZShzKSBieSBhIHBlcmNlbnRhZ2VcbiAgICAgICAgLy8gKGJvb2wsICUgdG8gbW92ZSwgWyUgd2hlcmUgaGFuZGxlIHN0YXJ0ZWQsIC4uLl0sIFtpbmRleCBpbiBzY29wZV9IYW5kbGVzLCAuLi5dKVxuICAgICAgICBmdW5jdGlvbiBtb3ZlSGFuZGxlcyh1cHdhcmQsIHByb3Bvc2FsLCBsb2NhdGlvbnMsIGhhbmRsZU51bWJlcnMpIHtcbiAgICAgICAgICAgIHZhciBwcm9wb3NhbHMgPSBsb2NhdGlvbnMuc2xpY2UoKTtcblxuICAgICAgICAgICAgdmFyIGIgPSBbIXVwd2FyZCwgdXB3YXJkXTtcbiAgICAgICAgICAgIHZhciBmID0gW3Vwd2FyZCwgIXVwd2FyZF07XG5cbiAgICAgICAgICAgIC8vIENvcHkgaGFuZGxlTnVtYmVycyBzbyB3ZSBkb24ndCBjaGFuZ2UgdGhlIGRhdGFzZXRcbiAgICAgICAgICAgIGhhbmRsZU51bWJlcnMgPSBoYW5kbGVOdW1iZXJzLnNsaWNlKCk7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIHRvIHNlZSB3aGljaCBoYW5kbGUgaXMgJ2xlYWRpbmcnLlxuICAgICAgICAgICAgLy8gSWYgdGhhdCBvbmUgY2FuJ3QgbW92ZSB0aGUgc2Vjb25kIGNhbid0IGVpdGhlci5cbiAgICAgICAgICAgIGlmICh1cHdhcmQpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVOdW1iZXJzLnJldmVyc2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU3RlcCAxOiBnZXQgdGhlIG1heGltdW0gcGVyY2VudGFnZSB0aGF0IGFueSBvZiB0aGUgaGFuZGxlcyBjYW4gbW92ZVxuICAgICAgICAgICAgaWYgKGhhbmRsZU51bWJlcnMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGhhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbihoYW5kbGVOdW1iZXIsIG8pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRvID0gY2hlY2tIYW5kbGVQb3NpdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3Bvc2FscyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZU51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3Bvc2Fsc1toYW5kbGVOdW1iZXJdICsgcHJvcG9zYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBiW29dLFxuICAgICAgICAgICAgICAgICAgICAgICAgZltvXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gU3RvcCBpZiBvbmUgb2YgdGhlIGhhbmRsZXMgY2FuJ3QgbW92ZS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcG9zYWwgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcG9zYWwgPSB0byAtIHByb3Bvc2Fsc1toYW5kbGVOdW1iZXJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcG9zYWxzW2hhbmRsZU51bWJlcl0gPSB0bztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZiB1c2luZyBvbmUgaGFuZGxlLCBjaGVjayBiYWNrd2FyZCBBTkQgZm9yd2FyZFxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYiA9IGYgPSBbdHJ1ZV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAvLyBTdGVwIDI6IFRyeSB0byBzZXQgdGhlIGhhbmRsZXMgd2l0aCB0aGUgZm91bmQgcGVyY2VudGFnZVxuICAgICAgICAgICAgaGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZU51bWJlciwgbykge1xuICAgICAgICAgICAgICAgIHN0YXRlID0gc2V0SGFuZGxlKGhhbmRsZU51bWJlciwgbG9jYXRpb25zW2hhbmRsZU51bWJlcl0gKyBwcm9wb3NhbCwgYltvXSwgZltvXSkgfHwgc3RhdGU7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gU3RlcCAzOiBJZiBhIGhhbmRsZSBtb3ZlZCwgZmlyZSBldmVudHNcbiAgICAgICAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICAgICAgICAgIGhhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbihoYW5kbGVOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwidXBkYXRlXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgIGZpcmVFdmVudChcInNsaWRlXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUYWtlcyBhIGJhc2UgdmFsdWUgYW5kIGFuIG9mZnNldC4gVGhpcyBvZmZzZXQgaXMgdXNlZCBmb3IgdGhlIGNvbm5lY3QgYmFyIHNpemUuXG4gICAgICAgIC8vIEluIHRoZSBpbml0aWFsIGRlc2lnbiBmb3IgdGhpcyBmZWF0dXJlLCB0aGUgb3JpZ2luIGVsZW1lbnQgd2FzIDElIHdpZGUuXG4gICAgICAgIC8vIFVuZm9ydHVuYXRlbHksIGEgcm91bmRpbmcgYnVnIGluIENocm9tZSBtYWtlcyBpdCBpbXBvc3NpYmxlIHRvIGltcGxlbWVudCB0aGlzIGZlYXR1cmVcbiAgICAgICAgLy8gaW4gdGhpcyBtYW5uZXI6IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTc5ODIyM1xuICAgICAgICBmdW5jdGlvbiB0cmFuc2Zvcm1EaXJlY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuZGlyID8gMTAwIC0gYSAtIGIgOiBhO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlcyBzY29wZV9Mb2NhdGlvbnMgYW5kIHNjb3BlX1ZhbHVlcywgdXBkYXRlcyB2aXN1YWwgc3RhdGVcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlSGFuZGxlUG9zaXRpb24oaGFuZGxlTnVtYmVyLCB0bykge1xuICAgICAgICAgICAgLy8gVXBkYXRlIGxvY2F0aW9ucy5cbiAgICAgICAgICAgIHNjb3BlX0xvY2F0aW9uc1toYW5kbGVOdW1iZXJdID0gdG87XG5cbiAgICAgICAgICAgIC8vIENvbnZlcnQgdGhlIHZhbHVlIHRvIHRoZSBzbGlkZXIgc3RlcHBpbmcvcmFuZ2UuXG4gICAgICAgICAgICBzY29wZV9WYWx1ZXNbaGFuZGxlTnVtYmVyXSA9IHNjb3BlX1NwZWN0cnVtLmZyb21TdGVwcGluZyh0byk7XG5cbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGlvbiA9IDEwICogKHRyYW5zZm9ybURpcmVjdGlvbih0bywgMCkgLSBzY29wZV9EaXJPZmZzZXQpO1xuICAgICAgICAgICAgdmFyIHRyYW5zbGF0ZVJ1bGUgPSBcInRyYW5zbGF0ZShcIiArIGluUnVsZU9yZGVyKHRyYW5zbGF0aW9uICsgXCIlXCIsIFwiMFwiKSArIFwiKVwiO1xuXG4gICAgICAgICAgICBzY29wZV9IYW5kbGVzW2hhbmRsZU51bWJlcl0uc3R5bGVbb3B0aW9ucy50cmFuc2Zvcm1SdWxlXSA9IHRyYW5zbGF0ZVJ1bGU7XG5cbiAgICAgICAgICAgIHVwZGF0ZUNvbm5lY3QoaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgIHVwZGF0ZUNvbm5lY3QoaGFuZGxlTnVtYmVyICsgMSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGVzIGJlZm9yZSB0aGUgc2xpZGVyIG1pZGRsZSBhcmUgc3RhY2tlZCBsYXRlciA9IGhpZ2hlcixcbiAgICAgICAgLy8gSGFuZGxlcyBhZnRlciB0aGUgbWlkZGxlIGxhdGVyIGlzIGxvd2VyXG4gICAgICAgIC8vIFtbN10gWzhdIC4uLi4uLi4uLi4gfCAuLi4uLi4uLi4uIFs1XSBbNF1cbiAgICAgICAgZnVuY3Rpb24gc2V0WmluZGV4KCkge1xuICAgICAgICAgICAgc2NvcGVfSGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZU51bWJlcikge1xuICAgICAgICAgICAgICAgIHZhciBkaXIgPSBzY29wZV9Mb2NhdGlvbnNbaGFuZGxlTnVtYmVyXSA+IDUwID8gLTEgOiAxO1xuICAgICAgICAgICAgICAgIHZhciB6SW5kZXggPSAzICsgKHNjb3BlX0hhbmRsZXMubGVuZ3RoICsgZGlyICogaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgICAgICBzY29wZV9IYW5kbGVzW2hhbmRsZU51bWJlcl0uc3R5bGUuekluZGV4ID0gekluZGV4O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUZXN0IHN1Z2dlc3RlZCB2YWx1ZXMgYW5kIGFwcGx5IG1hcmdpbiwgc3RlcC5cbiAgICAgICAgZnVuY3Rpb24gc2V0SGFuZGxlKGhhbmRsZU51bWJlciwgdG8sIGxvb2tCYWNrd2FyZCwgbG9va0ZvcndhcmQpIHtcbiAgICAgICAgICAgIHRvID0gY2hlY2tIYW5kbGVQb3NpdGlvbihzY29wZV9Mb2NhdGlvbnMsIGhhbmRsZU51bWJlciwgdG8sIGxvb2tCYWNrd2FyZCwgbG9va0ZvcndhcmQsIGZhbHNlKTtcblxuICAgICAgICAgICAgaWYgKHRvID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdXBkYXRlSGFuZGxlUG9zaXRpb24oaGFuZGxlTnVtYmVyLCB0byk7XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlcyBzdHlsZSBhdHRyaWJ1dGUgZm9yIGNvbm5lY3Qgbm9kZXNcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlQ29ubmVjdChpbmRleCkge1xuICAgICAgICAgICAgLy8gU2tpcCBjb25uZWN0cyBzZXQgdG8gZmFsc2VcbiAgICAgICAgICAgIGlmICghc2NvcGVfQ29ubmVjdHNbaW5kZXhdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgbCA9IDA7XG4gICAgICAgICAgICB2YXIgaCA9IDEwMDtcblxuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgbCA9IHNjb3BlX0xvY2F0aW9uc1tpbmRleCAtIDFdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IHNjb3BlX0Nvbm5lY3RzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBoID0gc2NvcGVfTG9jYXRpb25zW2luZGV4XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gV2UgdXNlIHR3byBydWxlczpcbiAgICAgICAgICAgIC8vICd0cmFuc2xhdGUnIHRvIGNoYW5nZSB0aGUgbGVmdC90b3Agb2Zmc2V0O1xuICAgICAgICAgICAgLy8gJ3NjYWxlJyB0byBjaGFuZ2UgdGhlIHdpZHRoIG9mIHRoZSBlbGVtZW50O1xuICAgICAgICAgICAgLy8gQXMgdGhlIGVsZW1lbnQgaGFzIGEgd2lkdGggb2YgMTAwJSwgYSB0cmFuc2xhdGlvbiBvZiAxMDAlIGlzIGVxdWFsIHRvIDEwMCUgb2YgdGhlIHBhcmVudCAoLm5vVWktYmFzZSlcbiAgICAgICAgICAgIHZhciBjb25uZWN0V2lkdGggPSBoIC0gbDtcbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGVSdWxlID0gXCJ0cmFuc2xhdGUoXCIgKyBpblJ1bGVPcmRlcih0cmFuc2Zvcm1EaXJlY3Rpb24obCwgY29ubmVjdFdpZHRoKSArIFwiJVwiLCBcIjBcIikgKyBcIilcIjtcbiAgICAgICAgICAgIHZhciBzY2FsZVJ1bGUgPSBcInNjYWxlKFwiICsgaW5SdWxlT3JkZXIoY29ubmVjdFdpZHRoIC8gMTAwLCBcIjFcIikgKyBcIilcIjtcblxuICAgICAgICAgICAgc2NvcGVfQ29ubmVjdHNbaW5kZXhdLnN0eWxlW29wdGlvbnMudHJhbnNmb3JtUnVsZV0gPSB0cmFuc2xhdGVSdWxlICsgXCIgXCIgKyBzY2FsZVJ1bGU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQYXJzZXMgdmFsdWUgcGFzc2VkIHRvIC5zZXQgbWV0aG9kLiBSZXR1cm5zIGN1cnJlbnQgdmFsdWUgaWYgbm90IHBhcnNlLWFibGUuXG4gICAgICAgIGZ1bmN0aW9uIHJlc29sdmVUb1ZhbHVlKHRvLCBoYW5kbGVOdW1iZXIpIHtcbiAgICAgICAgICAgIC8vIFNldHRpbmcgd2l0aCBudWxsIGluZGljYXRlcyBhbiAnaWdub3JlJy5cbiAgICAgICAgICAgIC8vIElucHV0dGluZyAnZmFsc2UnIGlzIGludmFsaWQuXG4gICAgICAgICAgICBpZiAodG8gPT09IG51bGwgfHwgdG8gPT09IGZhbHNlIHx8IHRvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NvcGVfTG9jYXRpb25zW2hhbmRsZU51bWJlcl07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIGEgZm9ybWF0dGVkIG51bWJlciB3YXMgcGFzc2VkLCBhdHRlbXB0IHRvIGRlY29kZSBpdC5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdG8gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICB0byA9IFN0cmluZyh0byk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRvID0gb3B0aW9ucy5mb3JtYXQuZnJvbSh0byk7XG4gICAgICAgICAgICB0byA9IHNjb3BlX1NwZWN0cnVtLnRvU3RlcHBpbmcodG8pO1xuXG4gICAgICAgICAgICAvLyBJZiBwYXJzaW5nIHRoZSBudW1iZXIgZmFpbGVkLCB1c2UgdGhlIGN1cnJlbnQgdmFsdWUuXG4gICAgICAgICAgICBpZiAodG8gPT09IGZhbHNlIHx8IGlzTmFOKHRvKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzY29wZV9Mb2NhdGlvbnNbaGFuZGxlTnVtYmVyXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRvO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IHRoZSBzbGlkZXIgdmFsdWUuXG4gICAgICAgIGZ1bmN0aW9uIHZhbHVlU2V0KGlucHV0LCBmaXJlU2V0RXZlbnQpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBhc0FycmF5KGlucHV0KTtcbiAgICAgICAgICAgIHZhciBpc0luaXQgPSBzY29wZV9Mb2NhdGlvbnNbMF0gPT09IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgLy8gRXZlbnQgZmlyZXMgYnkgZGVmYXVsdFxuICAgICAgICAgICAgZmlyZVNldEV2ZW50ID0gZmlyZVNldEV2ZW50ID09PSB1bmRlZmluZWQgPyB0cnVlIDogISFmaXJlU2V0RXZlbnQ7XG5cbiAgICAgICAgICAgIC8vIEFuaW1hdGlvbiBpcyBvcHRpb25hbC5cbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgaW5pdGlhbCB2YWx1ZXMgd2VyZSBzZXQgYmVmb3JlIHVzaW5nIGFuaW1hdGVkIHBsYWNlbWVudC5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmFuaW1hdGUgJiYgIWlzSW5pdCkge1xuICAgICAgICAgICAgICAgIGFkZENsYXNzRm9yKHNjb3BlX1RhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLnRhcCwgb3B0aW9ucy5hbmltYXRpb25EdXJhdGlvbik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEZpcnN0IHBhc3MsIHdpdGhvdXQgbG9va0FoZWFkIGJ1dCB3aXRoIGxvb2tCYWNrd2FyZC4gVmFsdWVzIGFyZSBzZXQgZnJvbSBsZWZ0IHRvIHJpZ2h0LlxuICAgICAgICAgICAgc2NvcGVfSGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZU51bWJlcikge1xuICAgICAgICAgICAgICAgIHNldEhhbmRsZShoYW5kbGVOdW1iZXIsIHJlc29sdmVUb1ZhbHVlKHZhbHVlc1toYW5kbGVOdW1iZXJdLCBoYW5kbGVOdW1iZXIpLCB0cnVlLCBmYWxzZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdmFyIGkgPSBzY29wZV9IYW5kbGVOdW1iZXJzLmxlbmd0aCA9PT0gMSA/IDAgOiAxO1xuXG4gICAgICAgICAgICAvLyBTZWNvbmRhcnkgcGFzc2VzLiBOb3cgdGhhdCBhbGwgYmFzZSB2YWx1ZXMgYXJlIHNldCwgYXBwbHkgY29uc3RyYWludHMuXG4gICAgICAgICAgICAvLyBJdGVyYXRlIGFsbCBoYW5kbGVzIHRvIGVuc3VyZSBjb25zdHJhaW50cyBhcmUgYXBwbGllZCBmb3IgdGhlIGVudGlyZSBzbGlkZXIgKElzc3VlICMxMDA5KVxuICAgICAgICAgICAgZm9yICg7IGkgPCBzY29wZV9IYW5kbGVOdW1iZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgc2NvcGVfSGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZU51bWJlcikge1xuICAgICAgICAgICAgICAgICAgICBzZXRIYW5kbGUoaGFuZGxlTnVtYmVyLCBzY29wZV9Mb2NhdGlvbnNbaGFuZGxlTnVtYmVyXSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNldFppbmRleCgpO1xuXG4gICAgICAgICAgICBzY29wZV9IYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24oaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwidXBkYXRlXCIsIGhhbmRsZU51bWJlcik7XG5cbiAgICAgICAgICAgICAgICAvLyBGaXJlIHRoZSBldmVudCBvbmx5IGZvciBoYW5kbGVzIHRoYXQgcmVjZWl2ZWQgYSBuZXcgdmFsdWUsIGFzIHBlciAjNTc5XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlc1toYW5kbGVOdW1iZXJdICE9PSBudWxsICYmIGZpcmVTZXRFdmVudCkge1xuICAgICAgICAgICAgICAgICAgICBmaXJlRXZlbnQoXCJzZXRcIiwgaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlc2V0IHNsaWRlciB0byBpbml0aWFsIHZhbHVlc1xuICAgICAgICBmdW5jdGlvbiB2YWx1ZVJlc2V0KGZpcmVTZXRFdmVudCkge1xuICAgICAgICAgICAgdmFsdWVTZXQob3B0aW9ucy5zdGFydCwgZmlyZVNldEV2ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCB2YWx1ZSBmb3IgYSBzaW5nbGUgaGFuZGxlXG4gICAgICAgIGZ1bmN0aW9uIHZhbHVlU2V0SGFuZGxlKGhhbmRsZU51bWJlciwgdmFsdWUsIGZpcmVTZXRFdmVudCkge1xuICAgICAgICAgICAgLy8gRW5zdXJlIG51bWVyaWMgaW5wdXRcbiAgICAgICAgICAgIGhhbmRsZU51bWJlciA9IE51bWJlcihoYW5kbGVOdW1iZXIpO1xuXG4gICAgICAgICAgICBpZiAoIShoYW5kbGVOdW1iZXIgPj0gMCAmJiBoYW5kbGVOdW1iZXIgPCBzY29wZV9IYW5kbGVOdW1iZXJzLmxlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6IGludmFsaWQgaGFuZGxlIG51bWJlciwgZ290OiBcIiArIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIExvb2sgYm90aCBiYWNrd2FyZCBhbmQgZm9yd2FyZCwgc2luY2Ugd2UgZG9uJ3Qgd2FudCB0aGlzIGhhbmRsZSB0byBcInB1c2hcIiBvdGhlciBoYW5kbGVzICgjOTYwKTtcbiAgICAgICAgICAgIHNldEhhbmRsZShoYW5kbGVOdW1iZXIsIHJlc29sdmVUb1ZhbHVlKHZhbHVlLCBoYW5kbGVOdW1iZXIpLCB0cnVlLCB0cnVlKTtcblxuICAgICAgICAgICAgZmlyZUV2ZW50KFwidXBkYXRlXCIsIGhhbmRsZU51bWJlcik7XG5cbiAgICAgICAgICAgIGlmIChmaXJlU2V0RXZlbnQpIHtcbiAgICAgICAgICAgICAgICBmaXJlRXZlbnQoXCJzZXRcIiwgaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCB0aGUgc2xpZGVyIHZhbHVlLlxuICAgICAgICBmdW5jdGlvbiB2YWx1ZUdldCgpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBzY29wZV9WYWx1ZXMubWFwKG9wdGlvbnMuZm9ybWF0LnRvKTtcblxuICAgICAgICAgICAgLy8gSWYgb25seSBvbmUgaGFuZGxlIGlzIHVzZWQsIHJldHVybiBhIHNpbmdsZSB2YWx1ZS5cbiAgICAgICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlc1swXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbW92ZXMgY2xhc3NlcyBmcm9tIHRoZSByb290IGFuZCBlbXB0aWVzIGl0LlxuICAgICAgICBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIG9wdGlvbnMuY3NzQ2xhc3Nlcykge1xuICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucy5jc3NDbGFzc2VzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKHNjb3BlX1RhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzW2tleV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB3aGlsZSAoc2NvcGVfVGFyZ2V0LmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICBzY29wZV9UYXJnZXQucmVtb3ZlQ2hpbGQoc2NvcGVfVGFyZ2V0LmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkZWxldGUgc2NvcGVfVGFyZ2V0Lm5vVWlTbGlkZXI7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXROZXh0U3RlcHNGb3JIYW5kbGUoaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICB2YXIgbG9jYXRpb24gPSBzY29wZV9Mb2NhdGlvbnNbaGFuZGxlTnVtYmVyXTtcbiAgICAgICAgICAgIHZhciBuZWFyYnlTdGVwcyA9IHNjb3BlX1NwZWN0cnVtLmdldE5lYXJieVN0ZXBzKGxvY2F0aW9uKTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHNjb3BlX1ZhbHVlc1toYW5kbGVOdW1iZXJdO1xuICAgICAgICAgICAgdmFyIGluY3JlbWVudCA9IG5lYXJieVN0ZXBzLnRoaXNTdGVwLnN0ZXA7XG4gICAgICAgICAgICB2YXIgZGVjcmVtZW50ID0gbnVsbDtcblxuICAgICAgICAgICAgLy8gSWYgc25hcHBlZCwgZGlyZWN0bHkgdXNlIGRlZmluZWQgc3RlcCB2YWx1ZVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc25hcCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlIC0gbmVhcmJ5U3RlcHMuc3RlcEJlZm9yZS5zdGFydFZhbHVlIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIG5lYXJieVN0ZXBzLnN0ZXBBZnRlci5zdGFydFZhbHVlIC0gdmFsdWUgfHwgbnVsbFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSBuZXh0IHZhbHVlIGluIHRoaXMgc3RlcCBtb3ZlcyBpbnRvIHRoZSBuZXh0IHN0ZXAsXG4gICAgICAgICAgICAvLyB0aGUgaW5jcmVtZW50IGlzIHRoZSBzdGFydCBvZiB0aGUgbmV4dCBzdGVwIC0gdGhlIGN1cnJlbnQgdmFsdWVcbiAgICAgICAgICAgIGlmIChpbmNyZW1lbnQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICsgaW5jcmVtZW50ID4gbmVhcmJ5U3RlcHMuc3RlcEFmdGVyLnN0YXJ0VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5jcmVtZW50ID0gbmVhcmJ5U3RlcHMuc3RlcEFmdGVyLnN0YXJ0VmFsdWUgLSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSB2YWx1ZSBpcyBiZXlvbmQgdGhlIHN0YXJ0aW5nIHBvaW50XG4gICAgICAgICAgICBpZiAodmFsdWUgPiBuZWFyYnlTdGVwcy50aGlzU3RlcC5zdGFydFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgZGVjcmVtZW50ID0gbmVhcmJ5U3RlcHMudGhpc1N0ZXAuc3RlcDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobmVhcmJ5U3RlcHMuc3RlcEJlZm9yZS5zdGVwID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGRlY3JlbWVudCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZiBhIGhhbmRsZSBpcyBhdCB0aGUgc3RhcnQgb2YgYSBzdGVwLCBpdCBhbHdheXMgc3RlcHMgYmFjayBpbnRvIHRoZSBwcmV2aW91cyBzdGVwIGZpcnN0XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkZWNyZW1lbnQgPSB2YWx1ZSAtIG5lYXJieVN0ZXBzLnN0ZXBCZWZvcmUuaGlnaGVzdFN0ZXA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE5vdywgaWYgYXQgdGhlIHNsaWRlciBlZGdlcywgdGhlcmUgaXMgbm8gaW4vZGVjcmVtZW50XG4gICAgICAgICAgICBpZiAobG9jYXRpb24gPT09IDEwMCkge1xuICAgICAgICAgICAgICAgIGluY3JlbWVudCA9IG51bGw7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxvY2F0aW9uID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZGVjcmVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQXMgcGVyICMzOTEsIHRoZSBjb21wYXJpc29uIGZvciB0aGUgZGVjcmVtZW50IHN0ZXAgY2FuIGhhdmUgc29tZSByb3VuZGluZyBpc3N1ZXMuXG4gICAgICAgICAgICB2YXIgc3RlcERlY2ltYWxzID0gc2NvcGVfU3BlY3RydW0uY291bnRTdGVwRGVjaW1hbHMoKTtcblxuICAgICAgICAgICAgLy8gUm91bmQgcGVyICMzOTFcbiAgICAgICAgICAgIGlmIChpbmNyZW1lbnQgIT09IG51bGwgJiYgaW5jcmVtZW50ICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGluY3JlbWVudCA9IE51bWJlcihpbmNyZW1lbnQudG9GaXhlZChzdGVwRGVjaW1hbHMpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRlY3JlbWVudCAhPT0gbnVsbCAmJiBkZWNyZW1lbnQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgZGVjcmVtZW50ID0gTnVtYmVyKGRlY3JlbWVudC50b0ZpeGVkKHN0ZXBEZWNpbWFscykpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gW2RlY3JlbWVudCwgaW5jcmVtZW50XTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCB0aGUgY3VycmVudCBzdGVwIHNpemUgZm9yIHRoZSBzbGlkZXIuXG4gICAgICAgIGZ1bmN0aW9uIGdldE5leHRTdGVwcygpIHtcbiAgICAgICAgICAgIHJldHVybiBzY29wZV9IYW5kbGVOdW1iZXJzLm1hcChnZXROZXh0U3RlcHNGb3JIYW5kbGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlYWJsZTogbWFyZ2luLCBsaW1pdCwgcGFkZGluZywgc3RlcCwgcmFuZ2UsIGFuaW1hdGUsIHNuYXBcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlT3B0aW9ucyhvcHRpb25zVG9VcGRhdGUsIGZpcmVTZXRFdmVudCkge1xuICAgICAgICAgICAgLy8gU3BlY3RydW0gaXMgY3JlYXRlZCB1c2luZyB0aGUgcmFuZ2UsIHNuYXAsIGRpcmVjdGlvbiBhbmQgc3RlcCBvcHRpb25zLlxuICAgICAgICAgICAgLy8gJ3NuYXAnIGFuZCAnc3RlcCcgY2FuIGJlIHVwZGF0ZWQuXG4gICAgICAgICAgICAvLyBJZiAnc25hcCcgYW5kICdzdGVwJyBhcmUgbm90IHBhc3NlZCwgdGhleSBzaG91bGQgcmVtYWluIHVuY2hhbmdlZC5cbiAgICAgICAgICAgIHZhciB2ID0gdmFsdWVHZXQoKTtcblxuICAgICAgICAgICAgdmFyIHVwZGF0ZUFibGUgPSBbXG4gICAgICAgICAgICAgICAgXCJtYXJnaW5cIixcbiAgICAgICAgICAgICAgICBcImxpbWl0XCIsXG4gICAgICAgICAgICAgICAgXCJwYWRkaW5nXCIsXG4gICAgICAgICAgICAgICAgXCJyYW5nZVwiLFxuICAgICAgICAgICAgICAgIFwiYW5pbWF0ZVwiLFxuICAgICAgICAgICAgICAgIFwic25hcFwiLFxuICAgICAgICAgICAgICAgIFwic3RlcFwiLFxuICAgICAgICAgICAgICAgIFwiZm9ybWF0XCIsXG4gICAgICAgICAgICAgICAgXCJwaXBzXCIsXG4gICAgICAgICAgICAgICAgXCJ0b29sdGlwc1wiXG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICAvLyBPbmx5IGNoYW5nZSBvcHRpb25zIHRoYXQgd2UncmUgYWN0dWFsbHkgcGFzc2VkIHRvIHVwZGF0ZS5cbiAgICAgICAgICAgIHVwZGF0ZUFibGUuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHVuZGVmaW5lZC4gbnVsbCByZW1vdmVzIHRoZSB2YWx1ZS5cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uc1RvVXBkYXRlW25hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxPcHRpb25zW25hbWVdID0gb3B0aW9uc1RvVXBkYXRlW25hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgbmV3T3B0aW9ucyA9IHRlc3RPcHRpb25zKG9yaWdpbmFsT3B0aW9ucyk7XG5cbiAgICAgICAgICAgIC8vIExvYWQgbmV3IG9wdGlvbnMgaW50byB0aGUgc2xpZGVyIHN0YXRlXG4gICAgICAgICAgICB1cGRhdGVBYmxlLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zVG9VcGRhdGVbbmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zW25hbWVdID0gbmV3T3B0aW9uc1tuYW1lXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc2NvcGVfU3BlY3RydW0gPSBuZXdPcHRpb25zLnNwZWN0cnVtO1xuXG4gICAgICAgICAgICAvLyBMaW1pdCwgbWFyZ2luIGFuZCBwYWRkaW5nIGRlcGVuZCBvbiB0aGUgc3BlY3RydW0gYnV0IGFyZSBzdG9yZWQgb3V0c2lkZSBvZiBpdC4gKCM2NzcpXG4gICAgICAgICAgICBvcHRpb25zLm1hcmdpbiA9IG5ld09wdGlvbnMubWFyZ2luO1xuICAgICAgICAgICAgb3B0aW9ucy5saW1pdCA9IG5ld09wdGlvbnMubGltaXQ7XG4gICAgICAgICAgICBvcHRpb25zLnBhZGRpbmcgPSBuZXdPcHRpb25zLnBhZGRpbmc7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBwaXBzLCByZW1vdmVzIGV4aXN0aW5nLlxuICAgICAgICAgICAgaWYgKG9wdGlvbnMucGlwcykge1xuICAgICAgICAgICAgICAgIHBpcHMob3B0aW9ucy5waXBzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlUGlwcygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBVcGRhdGUgdG9vbHRpcHMsIHJlbW92ZXMgZXhpc3RpbmcuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy50b29sdGlwcykge1xuICAgICAgICAgICAgICAgIHRvb2x0aXBzKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbW92ZVRvb2x0aXBzKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEludmFsaWRhdGUgdGhlIGN1cnJlbnQgcG9zaXRpb25pbmcgc28gdmFsdWVTZXQgZm9yY2VzIGFuIHVwZGF0ZS5cbiAgICAgICAgICAgIHNjb3BlX0xvY2F0aW9ucyA9IFtdO1xuICAgICAgICAgICAgdmFsdWVTZXQob3B0aW9uc1RvVXBkYXRlLnN0YXJ0IHx8IHYsIGZpcmVTZXRFdmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbml0aWFsaXphdGlvbiBzdGVwc1xuICAgICAgICBmdW5jdGlvbiBzZXR1cFNsaWRlcigpIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgYmFzZSBlbGVtZW50LCBpbml0aWFsaXplIEhUTUwgYW5kIHNldCBjbGFzc2VzLlxuICAgICAgICAgICAgLy8gQWRkIGhhbmRsZXMgYW5kIGNvbm5lY3QgZWxlbWVudHMuXG4gICAgICAgICAgICBzY29wZV9CYXNlID0gYWRkU2xpZGVyKHNjb3BlX1RhcmdldCk7XG5cbiAgICAgICAgICAgIGFkZEVsZW1lbnRzKG9wdGlvbnMuY29ubmVjdCwgc2NvcGVfQmFzZSk7XG5cbiAgICAgICAgICAgIC8vIEF0dGFjaCB1c2VyIGV2ZW50cy5cbiAgICAgICAgICAgIGJpbmRTbGlkZXJFdmVudHMob3B0aW9ucy5ldmVudHMpO1xuXG4gICAgICAgICAgICAvLyBVc2UgdGhlIHB1YmxpYyB2YWx1ZSBtZXRob2QgdG8gc2V0IHRoZSBzdGFydCB2YWx1ZXMuXG4gICAgICAgICAgICB2YWx1ZVNldChvcHRpb25zLnN0YXJ0KTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMucGlwcykge1xuICAgICAgICAgICAgICAgIHBpcHMob3B0aW9ucy5waXBzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMudG9vbHRpcHMpIHtcbiAgICAgICAgICAgICAgICB0b29sdGlwcygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhcmlhKCk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXR1cFNsaWRlcigpO1xuXG4gICAgICAgIC8vIG5vaW5zcGVjdGlvbiBKU1VudXNlZEdsb2JhbFN5bWJvbHNcbiAgICAgICAgc2NvcGVfU2VsZiA9IHtcbiAgICAgICAgICAgIGRlc3Ryb3k6IGRlc3Ryb3ksXG4gICAgICAgICAgICBzdGVwczogZ2V0TmV4dFN0ZXBzLFxuICAgICAgICAgICAgb246IGJpbmRFdmVudCxcbiAgICAgICAgICAgIG9mZjogcmVtb3ZlRXZlbnQsXG4gICAgICAgICAgICBnZXQ6IHZhbHVlR2V0LFxuICAgICAgICAgICAgc2V0OiB2YWx1ZVNldCxcbiAgICAgICAgICAgIHNldEhhbmRsZTogdmFsdWVTZXRIYW5kbGUsXG4gICAgICAgICAgICByZXNldDogdmFsdWVSZXNldCxcbiAgICAgICAgICAgIC8vIEV4cG9zZWQgZm9yIHVuaXQgdGVzdGluZywgZG9uJ3QgdXNlIHRoaXMgaW4geW91ciBhcHBsaWNhdGlvbi5cbiAgICAgICAgICAgIF9fbW92ZUhhbmRsZXM6IGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgICAgICAgICAgICBtb3ZlSGFuZGxlcyhhLCBiLCBzY29wZV9Mb2NhdGlvbnMsIGMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9wdGlvbnM6IG9yaWdpbmFsT3B0aW9ucywgLy8gSXNzdWUgIzYwMCwgIzY3OFxuICAgICAgICAgICAgdXBkYXRlT3B0aW9uczogdXBkYXRlT3B0aW9ucyxcbiAgICAgICAgICAgIHRhcmdldDogc2NvcGVfVGFyZ2V0LCAvLyBJc3N1ZSAjNTk3XG4gICAgICAgICAgICByZW1vdmVQaXBzOiByZW1vdmVQaXBzLFxuICAgICAgICAgICAgcmVtb3ZlVG9vbHRpcHM6IHJlbW92ZVRvb2x0aXBzLFxuICAgICAgICAgICAgZ2V0VG9vbHRpcHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzY29wZV9Ub29sdGlwcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRPcmlnaW5zOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NvcGVfSGFuZGxlcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwaXBzOiBwaXBzIC8vIElzc3VlICM1OTRcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gc2NvcGVfU2VsZjtcbiAgICB9XG5cbiAgICAvLyBSdW4gdGhlIHN0YW5kYXJkIGluaXRpYWxpemVyXG4gICAgZnVuY3Rpb24gaW5pdGlhbGl6ZSh0YXJnZXQsIG9yaWdpbmFsT3B0aW9ucykge1xuICAgICAgICBpZiAoIXRhcmdldCB8fCAhdGFyZ2V0Lm5vZGVOYW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6IGNyZWF0ZSByZXF1aXJlcyBhIHNpbmdsZSBlbGVtZW50LCBnb3Q6IFwiICsgdGFyZ2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRocm93IGFuIGVycm9yIGlmIHRoZSBzbGlkZXIgd2FzIGFscmVhZHkgaW5pdGlhbGl6ZWQuXG4gICAgICAgIGlmICh0YXJnZXQubm9VaVNsaWRlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiBTbGlkZXIgd2FzIGFscmVhZHkgaW5pdGlhbGl6ZWQuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGVzdCB0aGUgb3B0aW9ucyBhbmQgY3JlYXRlIHRoZSBzbGlkZXIgZW52aXJvbm1lbnQ7XG4gICAgICAgIHZhciBvcHRpb25zID0gdGVzdE9wdGlvbnMob3JpZ2luYWxPcHRpb25zLCB0YXJnZXQpO1xuICAgICAgICB2YXIgYXBpID0gc2NvcGUodGFyZ2V0LCBvcHRpb25zLCBvcmlnaW5hbE9wdGlvbnMpO1xuXG4gICAgICAgIHRhcmdldC5ub1VpU2xpZGVyID0gYXBpO1xuXG4gICAgICAgIHJldHVybiBhcGk7XG4gICAgfVxuXG4gICAgLy8gVXNlIGFuIG9iamVjdCBpbnN0ZWFkIG9mIGEgZnVuY3Rpb24gZm9yIGZ1dHVyZSBleHBhbmRhYmlsaXR5O1xuICAgIHJldHVybiB7XG4gICAgICAgIC8vIEV4cG9zZWQgZm9yIHVuaXQgdGVzdGluZywgZG9uJ3QgdXNlIHRoaXMgaW4geW91ciBhcHBsaWNhdGlvbi5cbiAgICAgICAgX19zcGVjdHJ1bTogU3BlY3RydW0sXG4gICAgICAgIHZlcnNpb246IFZFUlNJT04sXG4gICAgICAgIC8vIEEgcmVmZXJlbmNlIHRvIHRoZSBkZWZhdWx0IGNsYXNzZXMsIGFsbG93cyBnbG9iYWwgY2hhbmdlcy5cbiAgICAgICAgLy8gVXNlIHRoZSBjc3NDbGFzc2VzIG9wdGlvbiBmb3IgY2hhbmdlcyB0byBvbmUgc2xpZGVyLlxuICAgICAgICBjc3NDbGFzc2VzOiBjc3NDbGFzc2VzLFxuICAgICAgICBjcmVhdGU6IGluaXRpYWxpemVcbiAgICB9O1xufSk7XG4iLCJjb25zdCBmYXZpY29uc0NvbnRleHQgPSByZXF1aXJlLmNvbnRleHQoXHJcbiAgJyEhZmlsZS1sb2FkZXI/bmFtZT1hc3NldHMvZmF2aWNvbnMvW25hbWVdLltleHRdIS4nLFxyXG4gIHRydWUsXHJcbiAgL1xcLihzdmd8cG5nfGljb3x4bWx8anNvbikkL1xyXG4pO1xyXG5mYXZpY29uc0NvbnRleHQua2V5cygpLmZvckVhY2goZmF2aWNvbnNDb250ZXh0KTsiLCJ2YXIgbWFwID0ge1xuXHRcIi4vYW5kcm9pZC1jaHJvbWUtMTQ0eDE0NC5wbmdcIjogNCxcblx0XCIuL2FwcGxlLXRvdWNoLWljb24ucG5nXCI6IDUsXG5cdFwiLi9mYXZpY29uLTE2eDE2LnBuZ1wiOiA2LFxuXHRcIi4vZmF2aWNvbi0zMngzMi5wbmdcIjogNyxcblx0XCIuL21zdGlsZS0xNTB4MTUwLnBuZ1wiOiA4LFxuXHRcIi4vc2FmYXJpLXBpbm5lZC10YWIuc3ZnXCI6IDlcbn07XG5cblxuZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdHZhciBpZCA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpO1xuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhpZCk7XG59XG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8obWFwLCByZXEpKSB7XG5cdFx0dmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInXCIpO1xuXHRcdGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJztcblx0XHR0aHJvdyBlO1xuXHR9XG5cdHJldHVybiBtYXBbcmVxXTtcbn1cbndlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xufTtcbndlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xud2VicGFja0NvbnRleHQuaWQgPSAzOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJhc3NldHMvZmF2aWNvbnMvYW5kcm9pZC1jaHJvbWUtMTQ0eDE0NC5wbmdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiYXNzZXRzL2Zhdmljb25zL2FwcGxlLXRvdWNoLWljb24ucG5nXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImFzc2V0cy9mYXZpY29ucy9mYXZpY29uLTE2eDE2LnBuZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJhc3NldHMvZmF2aWNvbnMvZmF2aWNvbi0zMngzMi5wbmdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiYXNzZXRzL2Zhdmljb25zL21zdGlsZS0xNTB4MTUwLnBuZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJhc3NldHMvZmF2aWNvbnMvc2FmYXJpLXBpbm5lZC10YWIuc3ZnXCI7IiwidHJ5IHtcbiAgICBjb25zdCBuYXZiYXJFeHBhbmRCdXR0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5qcy1uYXZiYXJfX2V4cGFuZC1idXR0XCIpO1xuICAgIFxuICAgIG5hdmJhckV4cGFuZEJ1dHQub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5qcy1uYXZiYXJfX2xpc3QgXCIpLmNsYXNzTGlzdC50b2dnbGUoXCJuYXZiYXJfX2l0ZW1fdmlzaWJsZS1mbGV4XCIpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmpzLW5hdmJhcl9fYnV0dG9uc1wiKS5jbGFzc0xpc3QudG9nZ2xlKFwibmF2YmFyX19pdGVtX3Zpc2libGUtZmxleFwiKTtcbiAgICB9XG59IGNhdGNoIHtcbiAgICBjb25zb2xlLmVycm9yKFwiVGhlcmUgaXMgbm8gbmF2YmFyXCIpO1xufVxuIiwiOyhmdW5jdGlvbiAod2luZG93LCAkLCB1bmRlZmluZWQpIHsgOyhmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgVkVSU0lPTiA9ICcyLjIuMycsXHJcbiAgICAgICAgcGx1Z2luTmFtZSA9ICdkYXRlcGlja2VyJyxcclxuICAgICAgICBhdXRvSW5pdFNlbGVjdG9yID0gJy5kYXRlcGlja2VyLWhlcmUnLFxyXG4gICAgICAgICRib2R5LCAkZGF0ZXBpY2tlcnNDb250YWluZXIsXHJcbiAgICAgICAgY29udGFpbmVyQnVpbHQgPSBmYWxzZSxcclxuICAgICAgICBiYXNlVGVtcGxhdGUgPSAnJyArXHJcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlclwiPicgK1xyXG4gICAgICAgICAgICAnPGkgY2xhc3M9XCJkYXRlcGlja2VyLS1wb2ludGVyXCI+PC9pPicgK1xyXG4gICAgICAgICAgICAnPG5hdiBjbGFzcz1cImRhdGVwaWNrZXItLW5hdlwiPjwvbmF2PicgK1xyXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItLWNvbnRlbnRcIj48L2Rpdj4nICtcclxuICAgICAgICAgICAgJzwvZGl2PicsXHJcbiAgICAgICAgZGVmYXVsdHMgPSB7XHJcbiAgICAgICAgICAgIGNsYXNzZXM6ICcnLFxyXG4gICAgICAgICAgICBpbmxpbmU6IGZhbHNlLFxyXG4gICAgICAgICAgICBsYW5ndWFnZTogJ3J1JyxcclxuICAgICAgICAgICAgc3RhcnREYXRlOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgICBmaXJzdERheTogJycsXHJcbiAgICAgICAgICAgIHdlZWtlbmRzOiBbNiwgMF0sXHJcbiAgICAgICAgICAgIGRhdGVGb3JtYXQ6ICcnLFxyXG4gICAgICAgICAgICBhbHRGaWVsZDogJycsXHJcbiAgICAgICAgICAgIGFsdEZpZWxkRGF0ZUZvcm1hdDogJ0AnLFxyXG4gICAgICAgICAgICB0b2dnbGVTZWxlY3RlZDogdHJ1ZSxcclxuICAgICAgICAgICAga2V5Ym9hcmROYXY6IHRydWUsXHJcblxyXG4gICAgICAgICAgICBwb3NpdGlvbjogJ2JvdHRvbSBsZWZ0JyxcclxuICAgICAgICAgICAgb2Zmc2V0OiAxMixcclxuXHJcbiAgICAgICAgICAgIHZpZXc6ICdkYXlzJyxcclxuICAgICAgICAgICAgbWluVmlldzogJ2RheXMnLFxyXG5cclxuICAgICAgICAgICAgc2hvd090aGVyTW9udGhzOiB0cnVlLFxyXG4gICAgICAgICAgICBzZWxlY3RPdGhlck1vbnRoczogdHJ1ZSxcclxuICAgICAgICAgICAgbW92ZVRvT3RoZXJNb250aHNPblNlbGVjdDogdHJ1ZSxcclxuXHJcbiAgICAgICAgICAgIHNob3dPdGhlclllYXJzOiB0cnVlLFxyXG4gICAgICAgICAgICBzZWxlY3RPdGhlclllYXJzOiB0cnVlLFxyXG4gICAgICAgICAgICBtb3ZlVG9PdGhlclllYXJzT25TZWxlY3Q6IHRydWUsXHJcblxyXG4gICAgICAgICAgICBtaW5EYXRlOiAnJyxcclxuICAgICAgICAgICAgbWF4RGF0ZTogJycsXHJcbiAgICAgICAgICAgIGRpc2FibGVOYXZXaGVuT3V0T2ZSYW5nZTogdHJ1ZSxcclxuXHJcbiAgICAgICAgICAgIG11bHRpcGxlRGF0ZXM6IGZhbHNlLCAvLyBCb29sZWFuIG9yIE51bWJlclxyXG4gICAgICAgICAgICBtdWx0aXBsZURhdGVzU2VwYXJhdG9yOiAnLCcsXHJcbiAgICAgICAgICAgIHJhbmdlOiBmYWxzZSxcclxuXHJcbiAgICAgICAgICAgIHRvZGF5QnV0dG9uOiBmYWxzZSxcclxuICAgICAgICAgICAgY2xlYXJCdXR0b246IGZhbHNlLFxyXG5cclxuICAgICAgICAgICAgc2hvd0V2ZW50OiAnZm9jdXMnLFxyXG4gICAgICAgICAgICBhdXRvQ2xvc2U6IGZhbHNlLFxyXG5cclxuICAgICAgICAgICAgLy8gbmF2aWdhdGlvblxyXG4gICAgICAgICAgICBtb250aHNGaWVsZDogJ21vbnRoc1Nob3J0JyxcclxuICAgICAgICAgICAgcHJldkh0bWw6ICc8c3ZnPjxwYXRoIGQ9XCJNIDE3LDEyIGwgLTUsNSBsIDUsNVwiPjwvcGF0aD48L3N2Zz4nLCAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBuZXh0SHRtbDogJzxzdmc+PHBhdGggZD1cIk0gMTQsMTIgbCA1LDUgbCAtNSw1XCI+PC9wYXRoPjwvc3ZnPicsICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIG5hdlRpdGxlczoge1xyXG4gICAgICAgICAgICAgICAgLy9kYXlzOiAnTU0sIDxpPnl5eXk8L2k+JyxcclxuICAgICAgICAgICAgICAgIGRheXM6ICdNTSA8aT55eXl5PC9pPicsXHJcbiAgICAgICAgICAgICAgICBtb250aHM6ICd5eXl5JyxcclxuICAgICAgICAgICAgICAgIHllYXJzOiAneXl5eTEgLSB5eXl5MidcclxuICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgIC8vIHRpbWVwaWNrZXJcclxuICAgICAgICAgICAgdGltZXBpY2tlcjogZmFsc2UsXHJcbiAgICAgICAgICAgIG9ubHlUaW1lcGlja2VyOiBmYWxzZSxcclxuICAgICAgICAgICAgZGF0ZVRpbWVTZXBhcmF0b3I6ICcgJyxcclxuICAgICAgICAgICAgdGltZUZvcm1hdDogJycsXHJcbiAgICAgICAgICAgIG1pbkhvdXJzOiAwLFxyXG4gICAgICAgICAgICBtYXhIb3VyczogMjQsXHJcbiAgICAgICAgICAgIG1pbk1pbnV0ZXM6IDAsXHJcbiAgICAgICAgICAgIG1heE1pbnV0ZXM6IDU5LFxyXG4gICAgICAgICAgICBob3Vyc1N0ZXA6IDEsXHJcbiAgICAgICAgICAgIG1pbnV0ZXNTdGVwOiAxLFxyXG5cclxuICAgICAgICAgICAgLy8gZXZlbnRzXHJcbiAgICAgICAgICAgIG9uU2VsZWN0OiAnJyxcclxuICAgICAgICAgICAgb25TaG93OiAnJyxcclxuICAgICAgICAgICAgb25IaWRlOiAnJyxcclxuICAgICAgICAgICAgb25DaGFuZ2VNb250aDogJycsXHJcbiAgICAgICAgICAgIG9uQ2hhbmdlWWVhcjogJycsXHJcbiAgICAgICAgICAgIG9uQ2hhbmdlRGVjYWRlOiAnJyxcclxuICAgICAgICAgICAgb25DaGFuZ2VWaWV3OiAnJyxcclxuICAgICAgICAgICAgb25SZW5kZXJDZWxsOiAnJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaG90S2V5cyA9IHtcclxuICAgICAgICAgICAgJ2N0cmxSaWdodCc6IFsxNywgMzldLFxyXG4gICAgICAgICAgICAnY3RybFVwJzogWzE3LCAzOF0sXHJcbiAgICAgICAgICAgICdjdHJsTGVmdCc6IFsxNywgMzddLFxyXG4gICAgICAgICAgICAnY3RybERvd24nOiBbMTcsIDQwXSxcclxuICAgICAgICAgICAgJ3NoaWZ0UmlnaHQnOiBbMTYsIDM5XSxcclxuICAgICAgICAgICAgJ3NoaWZ0VXAnOiBbMTYsIDM4XSxcclxuICAgICAgICAgICAgJ3NoaWZ0TGVmdCc6IFsxNiwgMzddLFxyXG4gICAgICAgICAgICAnc2hpZnREb3duJzogWzE2LCA0MF0sXHJcbiAgICAgICAgICAgICdhbHRVcCc6IFsxOCwgMzhdLFxyXG4gICAgICAgICAgICAnYWx0UmlnaHQnOiBbMTgsIDM5XSxcclxuICAgICAgICAgICAgJ2FsdExlZnQnOiBbMTgsIDM3XSxcclxuICAgICAgICAgICAgJ2FsdERvd24nOiBbMTgsIDQwXSxcclxuICAgICAgICAgICAgJ2N0cmxTaGlmdFVwJzogWzE2LCAxNywgMzhdXHJcbiAgICAgICAgfSxcclxuICAgICAgICBkYXRlcGlja2VyO1xyXG5cclxuICAgIHZhciBEYXRlcGlja2VyICA9IGZ1bmN0aW9uIChlbCwgb3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMuZWwgPSBlbDtcclxuICAgICAgICB0aGlzLiRlbCA9ICQoZWwpO1xyXG5cclxuICAgICAgICB0aGlzLm9wdHMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgZGVmYXVsdHMsIG9wdGlvbnMsIHRoaXMuJGVsLmRhdGEoKSk7XHJcblxyXG4gICAgICAgIGlmICgkYm9keSA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgJGJvZHkgPSAkKCdib2R5Jyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMub3B0cy5zdGFydERhdGUpIHtcclxuICAgICAgICAgICAgdGhpcy5vcHRzLnN0YXJ0RGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5lbC5ub2RlTmFtZSA9PSAnSU5QVVQnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWxJc0lucHV0ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm9wdHMuYWx0RmllbGQpIHtcclxuICAgICAgICAgICAgdGhpcy4kYWx0RmllbGQgPSB0eXBlb2YgdGhpcy5vcHRzLmFsdEZpZWxkID09ICdzdHJpbmcnID8gJCh0aGlzLm9wdHMuYWx0RmllbGQpIDogdGhpcy5vcHRzLmFsdEZpZWxkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5pbml0ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNpbGVudCA9IGZhbHNlOyAvLyBOZWVkIHRvIHByZXZlbnQgdW5uZWNlc3NhcnkgcmVuZGVyaW5nXHJcblxyXG4gICAgICAgIHRoaXMuY3VycmVudERhdGUgPSB0aGlzLm9wdHMuc3RhcnREYXRlO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFZpZXcgPSB0aGlzLm9wdHMudmlldztcclxuICAgICAgICB0aGlzLl9jcmVhdGVTaG9ydEN1dHMoKTtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkRGF0ZXMgPSBbXTtcclxuICAgICAgICB0aGlzLnZpZXdzID0ge307XHJcbiAgICAgICAgdGhpcy5rZXlzID0gW107XHJcbiAgICAgICAgdGhpcy5taW5SYW5nZSA9ICcnO1xyXG4gICAgICAgIHRoaXMubWF4UmFuZ2UgPSAnJztcclxuICAgICAgICB0aGlzLl9wcmV2T25TZWxlY3RWYWx1ZSA9ICcnO1xyXG5cclxuICAgICAgICB0aGlzLmluaXQoKVxyXG4gICAgfTtcclxuXHJcbiAgICBkYXRlcGlja2VyID0gRGF0ZXBpY2tlcjtcclxuXHJcbiAgICBkYXRlcGlja2VyLnByb3RvdHlwZSA9IHtcclxuICAgICAgICBWRVJTSU9OOiBWRVJTSU9OLFxyXG4gICAgICAgIHZpZXdJbmRleGVzOiBbJ2RheXMnLCAnbW9udGhzJywgJ3llYXJzJ10sXHJcblxyXG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCFjb250YWluZXJCdWlsdCAmJiAhdGhpcy5vcHRzLmlubGluZSAmJiB0aGlzLmVsSXNJbnB1dCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYnVpbGREYXRlcGlja2Vyc0NvbnRhaW5lcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2J1aWxkQmFzZUh0bWwoKTtcclxuICAgICAgICAgICAgdGhpcy5fZGVmaW5lTG9jYWxlKHRoaXMub3B0cy5sYW5ndWFnZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3N5bmNXaXRoTWluTWF4RGF0ZXMoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmVsSXNJbnB1dCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm9wdHMuaW5saW5lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU2V0IGV4dHJhIGNsYXNzZXMgZm9yIHByb3BlciB0cmFuc2l0aW9uc1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldFBvc2l0aW9uQ2xhc3Nlcyh0aGlzLm9wdHMucG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2JpbmRFdmVudHMoKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5rZXlib2FyZE5hdiAmJiAhdGhpcy5vcHRzLm9ubHlUaW1lcGlja2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYmluZEtleWJvYXJkRXZlbnRzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRkYXRlcGlja2VyLm9uKCdtb3VzZWRvd24nLCB0aGlzLl9vbk1vdXNlRG93bkRhdGVwaWNrZXIuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRkYXRlcGlja2VyLm9uKCdtb3VzZXVwJywgdGhpcy5fb25Nb3VzZVVwRGF0ZXBpY2tlci5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5jbGFzc2VzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRkYXRlcGlja2VyLmFkZENsYXNzKHRoaXMub3B0cy5jbGFzc2VzKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLnRpbWVwaWNrZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGltZXBpY2tlciA9IG5ldyAkLmZuLmRhdGVwaWNrZXIuVGltZXBpY2tlcih0aGlzLCB0aGlzLm9wdHMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYmluZFRpbWVwaWNrZXJFdmVudHMoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5vbmx5VGltZXBpY2tlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kZGF0ZXBpY2tlci5hZGRDbGFzcygnLW9ubHktdGltZXBpY2tlci0nKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy52aWV3c1t0aGlzLmN1cnJlbnRWaWV3XSA9IG5ldyAkLmZuLmRhdGVwaWNrZXIuQm9keSh0aGlzLCB0aGlzLmN1cnJlbnRWaWV3LCB0aGlzLm9wdHMpO1xyXG4gICAgICAgICAgICB0aGlzLnZpZXdzW3RoaXMuY3VycmVudFZpZXddLnNob3coKTtcclxuICAgICAgICAgICAgdGhpcy5uYXYgPSBuZXcgJC5mbi5kYXRlcGlja2VyLk5hdmlnYXRpb24odGhpcywgdGhpcy5vcHRzKTtcclxuICAgICAgICAgICAgdGhpcy52aWV3ID0gdGhpcy5jdXJyZW50VmlldztcclxuXHJcbiAgICAgICAgICAgIHRoaXMuJGVsLm9uKCdjbGlja0NlbGwuYWRwJywgdGhpcy5fb25DbGlja0NlbGwuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIHRoaXMuJGRhdGVwaWNrZXIub24oJ21vdXNlZW50ZXInLCAnLmRhdGVwaWNrZXItLWNlbGwnLCB0aGlzLl9vbk1vdXNlRW50ZXJDZWxsLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICB0aGlzLiRkYXRlcGlja2VyLm9uKCdtb3VzZWxlYXZlJywgJy5kYXRlcGlja2VyLS1jZWxsJywgdGhpcy5fb25Nb3VzZUxlYXZlQ2VsbC5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaW5pdGVkID0gdHJ1ZTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfY3JlYXRlU2hvcnRDdXRzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWluRGF0ZSA9IHRoaXMub3B0cy5taW5EYXRlID8gdGhpcy5vcHRzLm1pbkRhdGUgOiBuZXcgRGF0ZSgtODYzOTk5OTkxMzYwMDAwMCk7XHJcbiAgICAgICAgICAgIHRoaXMubWF4RGF0ZSA9IHRoaXMub3B0cy5tYXhEYXRlID8gdGhpcy5vcHRzLm1heERhdGUgOiBuZXcgRGF0ZSg4NjM5OTk5OTEzNjAwMDAwKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfYmluZEV2ZW50cyA6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy4kZWwub24odGhpcy5vcHRzLnNob3dFdmVudCArICcuYWRwJywgdGhpcy5fb25TaG93RXZlbnQuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIHRoaXMuJGVsLm9uKCdtb3VzZXVwLmFkcCcsIHRoaXMuX29uTW91c2VVcEVsLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICB0aGlzLiRlbC5vbignYmx1ci5hZHAnLCB0aGlzLl9vbkJsdXIuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIHRoaXMuJGVsLm9uKCdrZXl1cC5hZHAnLCB0aGlzLl9vbktleVVwR2VuZXJhbC5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgJCh3aW5kb3cpLm9uKCdyZXNpemUuYWRwJywgdGhpcy5fb25SZXNpemUuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgICQoJ2JvZHknKS5vbignbW91c2V1cC5hZHAnLCB0aGlzLl9vbk1vdXNlVXBCb2R5LmJpbmQodGhpcykpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9iaW5kS2V5Ym9hcmRFdmVudHM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy4kZWwub24oJ2tleWRvd24uYWRwJywgdGhpcy5fb25LZXlEb3duLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICB0aGlzLiRlbC5vbigna2V5dXAuYWRwJywgdGhpcy5fb25LZXlVcC5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgdGhpcy4kZWwub24oJ2hvdEtleS5hZHAnLCB0aGlzLl9vbkhvdEtleS5iaW5kKHRoaXMpKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfYmluZFRpbWVwaWNrZXJFdmVudHM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy4kZWwub24oJ3RpbWVDaGFuZ2UuYWRwJywgdGhpcy5fb25UaW1lQ2hhbmdlLmJpbmQodGhpcykpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGlzV2Vla2VuZDogZnVuY3Rpb24gKGRheSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcHRzLndlZWtlbmRzLmluZGV4T2YoZGF5KSAhPT0gLTE7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX2RlZmluZUxvY2FsZTogZnVuY3Rpb24gKGxhbmcpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBsYW5nID09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYyA9ICQuZm4uZGF0ZXBpY2tlci5sYW5ndWFnZVtsYW5nXTtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5sb2MpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0NhblxcJ3QgZmluZCBsYW5ndWFnZSBcIicgKyBsYW5nICsgJ1wiIGluIERhdGVwaWNrZXIubGFuZ3VhZ2UsIHdpbGwgdXNlIFwicnVcIiBpbnN0ZWFkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2MgPSAkLmV4dGVuZCh0cnVlLCB7fSwgJC5mbi5kYXRlcGlja2VyLmxhbmd1YWdlLnJ1KVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubG9jID0gJC5leHRlbmQodHJ1ZSwge30sICQuZm4uZGF0ZXBpY2tlci5sYW5ndWFnZS5ydSwgJC5mbi5kYXRlcGlja2VyLmxhbmd1YWdlW2xhbmddKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2MgPSAkLmV4dGVuZCh0cnVlLCB7fSwgJC5mbi5kYXRlcGlja2VyLmxhbmd1YWdlLnJ1LCBsYW5nKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLmRhdGVGb3JtYXQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9jLmRhdGVGb3JtYXQgPSB0aGlzLm9wdHMuZGF0ZUZvcm1hdFxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLnRpbWVGb3JtYXQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9jLnRpbWVGb3JtYXQgPSB0aGlzLm9wdHMudGltZUZvcm1hdFxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLmZpcnN0RGF5ICE9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2MuZmlyc3REYXkgPSB0aGlzLm9wdHMuZmlyc3REYXlcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy50aW1lcGlja2VyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYy5kYXRlRm9ybWF0ID0gW3RoaXMubG9jLmRhdGVGb3JtYXQsIHRoaXMubG9jLnRpbWVGb3JtYXRdLmpvaW4odGhpcy5vcHRzLmRhdGVUaW1lU2VwYXJhdG9yKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5vbmx5VGltZXBpY2tlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2MuZGF0ZUZvcm1hdCA9IHRoaXMubG9jLnRpbWVGb3JtYXQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBib3VuZGFyeSA9IHRoaXMuX2dldFdvcmRCb3VuZGFyeVJlZ0V4cDtcclxuICAgICAgICAgICAgaWYgKHRoaXMubG9jLnRpbWVGb3JtYXQubWF0Y2goYm91bmRhcnkoJ2FhJykpIHx8XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYy50aW1lRm9ybWF0Lm1hdGNoKGJvdW5kYXJ5KCdBQScpKVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgdGhpcy5hbXBtID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9idWlsZERhdGVwaWNrZXJzQ29udGFpbmVyOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lckJ1aWx0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgJGJvZHkuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlcnMtY29udGFpbmVyXCIgaWQ9XCJkYXRlcGlja2Vycy1jb250YWluZXJcIj48L2Rpdj4nKTtcclxuICAgICAgICAgICAgJGRhdGVwaWNrZXJzQ29udGFpbmVyID0gJCgnI2RhdGVwaWNrZXJzLWNvbnRhaW5lcicpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9idWlsZEJhc2VIdG1sOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciAkYXBwZW5kVGFyZ2V0LFxyXG4gICAgICAgICAgICAgICAgJGlubGluZSA9ICQoJzxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLWlubGluZVwiPicpO1xyXG5cclxuICAgICAgICAgICAgaWYodGhpcy5lbC5ub2RlTmFtZSA9PSAnSU5QVVQnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMub3B0cy5pbmxpbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkYXBwZW5kVGFyZ2V0ID0gJGRhdGVwaWNrZXJzQ29udGFpbmVyO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkYXBwZW5kVGFyZ2V0ID0gJGlubGluZS5pbnNlcnRBZnRlcih0aGlzLiRlbClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRhcHBlbmRUYXJnZXQgPSAkaW5saW5lLmFwcGVuZFRvKHRoaXMuJGVsKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLiRkYXRlcGlja2VyID0gJChiYXNlVGVtcGxhdGUpLmFwcGVuZFRvKCRhcHBlbmRUYXJnZXQpO1xyXG4gICAgICAgICAgICB0aGlzLiRjb250ZW50ID0gJCgnLmRhdGVwaWNrZXItLWNvbnRlbnQnLCB0aGlzLiRkYXRlcGlja2VyKTtcclxuICAgICAgICAgICAgdGhpcy4kbmF2ID0gJCgnLmRhdGVwaWNrZXItLW5hdicsIHRoaXMuJGRhdGVwaWNrZXIpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF90cmlnZ2VyT25DaGFuZ2U6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnNlbGVjdGVkRGF0ZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IGZyb20gdHJpZ2dlcmluZyBtdWx0aXBsZSBvblNlbGVjdCBjYWxsYmFjayB3aXRoIHNhbWUgYXJndW1lbnQgKGVtcHR5IHN0cmluZykgaW4gSUUxMC0xMVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3ByZXZPblNlbGVjdFZhbHVlID09PSAnJykgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcHJldk9uU2VsZWN0VmFsdWUgPSAnJztcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdHMub25TZWxlY3QoJycsICcnLCB0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHNlbGVjdGVkRGF0ZXMgPSB0aGlzLnNlbGVjdGVkRGF0ZXMsXHJcbiAgICAgICAgICAgICAgICBwYXJzZWRTZWxlY3RlZCA9IGRhdGVwaWNrZXIuZ2V0UGFyc2VkRGF0ZShzZWxlY3RlZERhdGVzWzBdKSxcclxuICAgICAgICAgICAgICAgIGZvcm1hdHRlZERhdGVzLFxyXG4gICAgICAgICAgICAgICAgX3RoaXMgPSB0aGlzLFxyXG4gICAgICAgICAgICAgICAgZGF0ZXMgPSBuZXcgRGF0ZShcclxuICAgICAgICAgICAgICAgICAgICBwYXJzZWRTZWxlY3RlZC55ZWFyLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlZFNlbGVjdGVkLm1vbnRoLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlZFNlbGVjdGVkLmRhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkU2VsZWN0ZWQuaG91cnMsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkU2VsZWN0ZWQubWludXRlc1xyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZWREYXRlcyA9IHNlbGVjdGVkRGF0ZXMubWFwKGZ1bmN0aW9uIChkYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmZvcm1hdERhdGUoX3RoaXMubG9jLmRhdGVGb3JtYXQsIGRhdGUpXHJcbiAgICAgICAgICAgICAgICB9KS5qb2luKHRoaXMub3B0cy5tdWx0aXBsZURhdGVzU2VwYXJhdG9yKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBuZXcgZGF0ZXMgYXJyYXksIHRvIHNlcGFyYXRlIGl0IGZyb20gb3JpZ2luYWwgc2VsZWN0ZWREYXRlc1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLm11bHRpcGxlRGF0ZXMgfHwgdGhpcy5vcHRzLnJhbmdlKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRlcyA9IHNlbGVjdGVkRGF0ZXMubWFwKGZ1bmN0aW9uKGRhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyc2VkRGF0ZSA9IGRhdGVwaWNrZXIuZ2V0UGFyc2VkRGF0ZShkYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZERhdGUueWVhcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkRGF0ZS5tb250aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkRGF0ZS5kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWREYXRlLmhvdXJzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWREYXRlLm1pbnV0ZXNcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fcHJldk9uU2VsZWN0VmFsdWUgPSBmb3JtYXR0ZWREYXRlcztcclxuICAgICAgICAgICAgdGhpcy5vcHRzLm9uU2VsZWN0KGZvcm1hdHRlZERhdGVzLCBkYXRlcywgdGhpcyk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZCA9IHRoaXMucGFyc2VkRGF0ZSxcclxuICAgICAgICAgICAgICAgIG8gPSB0aGlzLm9wdHM7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy52aWV3KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdkYXlzJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGUgPSBuZXcgRGF0ZShkLnllYXIsIGQubW9udGggKyAxLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoby5vbkNoYW5nZU1vbnRoKSBvLm9uQ2hhbmdlTW9udGgodGhpcy5wYXJzZWREYXRlLm1vbnRoLCB0aGlzLnBhcnNlZERhdGUueWVhcik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdtb250aHMnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0ZSA9IG5ldyBEYXRlKGQueWVhciArIDEsIGQubW9udGgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvLm9uQ2hhbmdlWWVhcikgby5vbkNoYW5nZVllYXIodGhpcy5wYXJzZWREYXRlLnllYXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAneWVhcnMnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0ZSA9IG5ldyBEYXRlKGQueWVhciArIDEwLCAwLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoby5vbkNoYW5nZURlY2FkZSkgby5vbkNoYW5nZURlY2FkZSh0aGlzLmN1ckRlY2FkZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBwcmV2OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBkID0gdGhpcy5wYXJzZWREYXRlLFxyXG4gICAgICAgICAgICAgICAgbyA9IHRoaXMub3B0cztcclxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLnZpZXcpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2RheXMnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0ZSA9IG5ldyBEYXRlKGQueWVhciwgZC5tb250aCAtIDEsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvLm9uQ2hhbmdlTW9udGgpIG8ub25DaGFuZ2VNb250aCh0aGlzLnBhcnNlZERhdGUubW9udGgsIHRoaXMucGFyc2VkRGF0ZS55ZWFyKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ21vbnRocyc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRlID0gbmV3IERhdGUoZC55ZWFyIC0gMSwgZC5tb250aCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG8ub25DaGFuZ2VZZWFyKSBvLm9uQ2hhbmdlWWVhcih0aGlzLnBhcnNlZERhdGUueWVhcik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICd5ZWFycyc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRlID0gbmV3IERhdGUoZC55ZWFyIC0gMTAsIDAsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvLm9uQ2hhbmdlRGVjYWRlKSBvLm9uQ2hhbmdlRGVjYWRlKHRoaXMuY3VyRGVjYWRlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGZvcm1hdERhdGU6IGZ1bmN0aW9uIChzdHJpbmcsIGRhdGUpIHtcclxuICAgICAgICAgICAgZGF0ZSA9IGRhdGUgfHwgdGhpcy5kYXRlO1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gc3RyaW5nLFxyXG4gICAgICAgICAgICAgICAgYm91bmRhcnkgPSB0aGlzLl9nZXRXb3JkQm91bmRhcnlSZWdFeHAsXHJcbiAgICAgICAgICAgICAgICBsb2NhbGUgPSB0aGlzLmxvYyxcclxuICAgICAgICAgICAgICAgIGxlYWRpbmdaZXJvID0gZGF0ZXBpY2tlci5nZXRMZWFkaW5nWmVyb051bSxcclxuICAgICAgICAgICAgICAgIGRlY2FkZSA9IGRhdGVwaWNrZXIuZ2V0RGVjYWRlKGRhdGUpLFxyXG4gICAgICAgICAgICAgICAgZCA9IGRhdGVwaWNrZXIuZ2V0UGFyc2VkRGF0ZShkYXRlKSxcclxuICAgICAgICAgICAgICAgIGZ1bGxIb3VycyA9IGQuZnVsbEhvdXJzLFxyXG4gICAgICAgICAgICAgICAgaG91cnMgPSBkLmhvdXJzLFxyXG4gICAgICAgICAgICAgICAgYW1wbSA9IHN0cmluZy5tYXRjaChib3VuZGFyeSgnYWEnKSkgfHwgc3RyaW5nLm1hdGNoKGJvdW5kYXJ5KCdBQScpKSxcclxuICAgICAgICAgICAgICAgIGRheVBlcmlvZCA9ICdhbScsXHJcbiAgICAgICAgICAgICAgICByZXBsYWNlciA9IHRoaXMuX3JlcGxhY2VyLFxyXG4gICAgICAgICAgICAgICAgdmFsaWRIb3VycztcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdHMudGltZXBpY2tlciAmJiB0aGlzLnRpbWVwaWNrZXIgJiYgYW1wbSkge1xyXG4gICAgICAgICAgICAgICAgdmFsaWRIb3VycyA9IHRoaXMudGltZXBpY2tlci5fZ2V0VmFsaWRIb3Vyc0Zyb21EYXRlKGRhdGUsIGFtcG0pO1xyXG4gICAgICAgICAgICAgICAgZnVsbEhvdXJzID0gbGVhZGluZ1plcm8odmFsaWRIb3Vycy5ob3Vycyk7XHJcbiAgICAgICAgICAgICAgICBob3VycyA9IHZhbGlkSG91cnMuaG91cnM7XHJcbiAgICAgICAgICAgICAgICBkYXlQZXJpb2QgPSB2YWxpZEhvdXJzLmRheVBlcmlvZDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc3dpdGNoICh0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIC9ALy50ZXN0KHJlc3VsdCk6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoL0AvLCBkYXRlLmdldFRpbWUoKSk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIC9hYS8udGVzdChyZXN1bHQpOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlcGxhY2VyKHJlc3VsdCwgYm91bmRhcnkoJ2FhJyksIGRheVBlcmlvZCk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIC9BQS8udGVzdChyZXN1bHQpOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlcGxhY2VyKHJlc3VsdCwgYm91bmRhcnkoJ0FBJyksIGRheVBlcmlvZC50b1VwcGVyQ2FzZSgpKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgL2RkLy50ZXN0KHJlc3VsdCk6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVwbGFjZXIocmVzdWx0LCBib3VuZGFyeSgnZGQnKSwgZC5mdWxsRGF0ZSk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIC9kLy50ZXN0KHJlc3VsdCk6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVwbGFjZXIocmVzdWx0LCBib3VuZGFyeSgnZCcpLCBkLmRhdGUpO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAvREQvLnRlc3QocmVzdWx0KTpcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXBsYWNlcihyZXN1bHQsIGJvdW5kYXJ5KCdERCcpLCBsb2NhbGUuZGF5c1tkLmRheV0pO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAvRC8udGVzdChyZXN1bHQpOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlcGxhY2VyKHJlc3VsdCwgYm91bmRhcnkoJ0QnKSwgbG9jYWxlLmRheXNTaG9ydFtkLmRheV0pO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAvbW0vLnRlc3QocmVzdWx0KTpcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXBsYWNlcihyZXN1bHQsIGJvdW5kYXJ5KCdtbScpLCBkLmZ1bGxNb250aCk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIC9tLy50ZXN0KHJlc3VsdCk6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVwbGFjZXIocmVzdWx0LCBib3VuZGFyeSgnbScpLCBkLm1vbnRoICsgMSk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIC9NTS8udGVzdChyZXN1bHQpOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlcGxhY2VyKHJlc3VsdCwgYm91bmRhcnkoJ01NJyksIHRoaXMubG9jLm1vbnRoc1tkLm1vbnRoXSk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIC9NLy50ZXN0KHJlc3VsdCk6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVwbGFjZXIocmVzdWx0LCBib3VuZGFyeSgnTScpLCBsb2NhbGUubW9udGhzU2hvcnRbZC5tb250aF0pO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAvaWkvLnRlc3QocmVzdWx0KTpcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXBsYWNlcihyZXN1bHQsIGJvdW5kYXJ5KCdpaScpLCBkLmZ1bGxNaW51dGVzKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgL2kvLnRlc3QocmVzdWx0KTpcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXBsYWNlcihyZXN1bHQsIGJvdW5kYXJ5KCdpJyksIGQubWludXRlcyk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIC9oaC8udGVzdChyZXN1bHQpOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlcGxhY2VyKHJlc3VsdCwgYm91bmRhcnkoJ2hoJyksIGZ1bGxIb3Vycyk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIC9oLy50ZXN0KHJlc3VsdCk6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVwbGFjZXIocmVzdWx0LCBib3VuZGFyeSgnaCcpLCBob3Vycyk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIC95eXl5Ly50ZXN0KHJlc3VsdCk6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVwbGFjZXIocmVzdWx0LCBib3VuZGFyeSgneXl5eScpLCBkLnllYXIpO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAveXl5eTEvLnRlc3QocmVzdWx0KTpcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXBsYWNlcihyZXN1bHQsIGJvdW5kYXJ5KCd5eXl5MScpLCBkZWNhZGVbMF0pO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAveXl5eTIvLnRlc3QocmVzdWx0KTpcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXBsYWNlcihyZXN1bHQsIGJvdW5kYXJ5KCd5eXl5MicpLCBkZWNhZGVbMV0pO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAveXkvLnRlc3QocmVzdWx0KTpcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXBsYWNlcihyZXN1bHQsIGJvdW5kYXJ5KCd5eScpLCBkLnllYXIudG9TdHJpbmcoKS5zbGljZSgtMikpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9yZXBsYWNlcjogZnVuY3Rpb24gKHN0ciwgcmVnLCBkYXRhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdHIucmVwbGFjZShyZWcsIGZ1bmN0aW9uIChtYXRjaCwgcDEscDIscDMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwMSArIGRhdGEgKyBwMztcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfZ2V0V29yZEJvdW5kYXJ5UmVnRXhwOiBmdW5jdGlvbiAoc2lnbikge1xyXG4gICAgICAgICAgICB2YXIgc3ltYm9scyA9ICdcXFxcc3xcXFxcLnwtfC98XFxcXFxcXFx8LHxcXFxcJHxcXFxcIXxcXFxcP3w6fDsnO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoJyhefD58JyArIHN5bWJvbHMgKyAnKSgnICsgc2lnbiArICcpKCR8PHwnICsgc3ltYm9scyArICcpJywgJ2cnKTtcclxuICAgICAgICB9LFxyXG5cclxuXHJcbiAgICAgICAgc2VsZWN0RGF0ZTogZnVuY3Rpb24gKGRhdGUpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcyxcclxuICAgICAgICAgICAgICAgIG9wdHMgPSBfdGhpcy5vcHRzLFxyXG4gICAgICAgICAgICAgICAgZCA9IF90aGlzLnBhcnNlZERhdGUsXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZERhdGVzID0gX3RoaXMuc2VsZWN0ZWREYXRlcyxcclxuICAgICAgICAgICAgICAgIGxlbiA9IHNlbGVjdGVkRGF0ZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgbmV3RGF0ZSA9ICcnO1xyXG5cclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgIGRhdGUuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNlbGVjdERhdGUoZClcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIShkYXRlIGluc3RhbmNlb2YgRGF0ZSkpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGFzdFNlbGVjdGVkRGF0ZSA9IGRhdGU7XHJcblxyXG4gICAgICAgICAgICAvLyBTZXQgbmV3IHRpbWUgdmFsdWVzIGZyb20gRGF0ZVxyXG4gICAgICAgICAgICBpZiAodGhpcy50aW1lcGlja2VyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWVwaWNrZXIuX3NldFRpbWUoZGF0ZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIE9uIHRoaXMgc3RlcCB0aW1lcGlja2VyIHdpbGwgc2V0IHZhbGlkIHZhbHVlcyBpbiBpdCdzIGluc3RhbmNlXHJcbiAgICAgICAgICAgIF90aGlzLl90cmlnZ2VyKCdzZWxlY3REYXRlJywgZGF0ZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBTZXQgY29ycmVjdCB0aW1lIHZhbHVlcyBhZnRlciB0aW1lcGlja2VyJ3MgdmFsaWRhdGlvblxyXG4gICAgICAgICAgICAvLyBQcmV2ZW50IGZyb20gc2V0dGluZyBob3VycyBvciBtaW51dGVzIHdoaWNoIHZhbHVlcyBhcmUgbGVzc2VyIHRoZW4gYG1pbmAgdmFsdWUgb3JcclxuICAgICAgICAgICAgLy8gZ3JlYXRlciB0aGVuIGBtYXhgIHZhbHVlXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRpbWVwaWNrZXIpIHtcclxuICAgICAgICAgICAgICAgIGRhdGUuc2V0SG91cnModGhpcy50aW1lcGlja2VyLmhvdXJzKTtcclxuICAgICAgICAgICAgICAgIGRhdGUuc2V0TWludXRlcyh0aGlzLnRpbWVwaWNrZXIubWludXRlcylcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKF90aGlzLnZpZXcgPT0gJ2RheXMnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0ZS5nZXRNb250aCgpICE9IGQubW9udGggJiYgb3B0cy5tb3ZlVG9PdGhlck1vbnRoc09uU2VsZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3RGF0ZSA9IG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpLCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKF90aGlzLnZpZXcgPT0gJ3llYXJzJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGUuZ2V0RnVsbFllYXIoKSAhPSBkLnllYXIgJiYgb3B0cy5tb3ZlVG9PdGhlclllYXJzT25TZWxlY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdEYXRlID0gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCAwLCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKG5ld0RhdGUpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNpbGVudCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5kYXRlID0gbmV3RGF0ZTtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNpbGVudCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMubmF2Ll9yZW5kZXIoKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAob3B0cy5tdWx0aXBsZURhdGVzICYmICFvcHRzLnJhbmdlKSB7IC8vIFNldCBwcmlvcml0eSB0byByYW5nZSBmdW5jdGlvbmFsaXR5XHJcbiAgICAgICAgICAgICAgICBpZiAobGVuID09PSBvcHRzLm11bHRpcGxlRGF0ZXMpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGlmICghX3RoaXMuX2lzU2VsZWN0ZWQoZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZWxlY3RlZERhdGVzLnB1c2goZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob3B0cy5yYW5nZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGxlbiA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2VsZWN0ZWREYXRlcyA9IFtkYXRlXTtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5taW5SYW5nZSA9IGRhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubWF4UmFuZ2UgPSAnJztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGVuID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZWxlY3RlZERhdGVzLnB1c2goZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5tYXhSYW5nZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm1heFJhbmdlID0gZGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5taW5SYW5nZSA9IGRhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFN3YXAgZGF0ZXMgaWYgdGhleSB3ZXJlIHNlbGVjdGVkIHZpYSBkcC5zZWxlY3REYXRlKCkgYW5kIHNlY29uZCBkYXRlIHdhcyBzbWFsbGVyIHRoZW4gZmlyc3RcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0ZXBpY2tlci5iaWdnZXIoX3RoaXMubWF4UmFuZ2UsIF90aGlzLm1pblJhbmdlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5tYXhSYW5nZSA9IF90aGlzLm1pblJhbmdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5taW5SYW5nZSA9IGRhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNlbGVjdGVkRGF0ZXMgPSBbX3RoaXMubWluUmFuZ2UsIF90aGlzLm1heFJhbmdlXVxyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2VsZWN0ZWREYXRlcyA9IFtkYXRlXTtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5taW5SYW5nZSA9IGRhdGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZWxlY3RlZERhdGVzID0gW2RhdGVdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBfdGhpcy5fc2V0SW5wdXRWYWx1ZSgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKG9wdHMub25TZWxlY3QpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLl90cmlnZ2VyT25DaGFuZ2UoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKG9wdHMuYXV0b0Nsb3NlICYmICF0aGlzLnRpbWVwaWNrZXJJc0FjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFvcHRzLm11bHRpcGxlRGF0ZXMgJiYgIW9wdHMucmFuZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9wdHMucmFuZ2UgJiYgX3RoaXMuc2VsZWN0ZWREYXRlcy5sZW5ndGggPT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgX3RoaXMudmlld3NbdGhpcy5jdXJyZW50Vmlld10uX3JlbmRlcigpXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgcmVtb3ZlRGF0ZTogZnVuY3Rpb24gKGRhdGUpIHtcclxuICAgICAgICAgICAgdmFyIHNlbGVjdGVkID0gdGhpcy5zZWxlY3RlZERhdGVzLFxyXG4gICAgICAgICAgICAgICAgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgaWYgKCEoZGF0ZSBpbnN0YW5jZW9mIERhdGUpKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gc2VsZWN0ZWQuc29tZShmdW5jdGlvbiAoY3VyRGF0ZSwgaSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGVwaWNrZXIuaXNTYW1lKGN1ckRhdGUsIGRhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQuc3BsaWNlKGksIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLnNlbGVjdGVkRGF0ZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm1pblJhbmdlID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm1heFJhbmdlID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxhc3RTZWxlY3RlZERhdGUgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sYXN0U2VsZWN0ZWREYXRlID0gX3RoaXMuc2VsZWN0ZWREYXRlc1tfdGhpcy5zZWxlY3RlZERhdGVzLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudmlld3NbX3RoaXMuY3VycmVudFZpZXddLl9yZW5kZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc2V0SW5wdXRWYWx1ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMub3B0cy5vblNlbGVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdHJpZ2dlck9uQ2hhbmdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHRvZGF5OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2lsZW50ID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy52aWV3ID0gdGhpcy5vcHRzLm1pblZpZXc7XHJcbiAgICAgICAgICAgIHRoaXMuc2lsZW50ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0ZSA9IG5ldyBEYXRlKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLnRvZGF5QnV0dG9uIGluc3RhbmNlb2YgRGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMub3B0cy50b2RheUJ1dHRvbilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGNsZWFyOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWREYXRlcyA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLm1pblJhbmdlID0gJyc7XHJcbiAgICAgICAgICAgIHRoaXMubWF4UmFuZ2UgPSAnJztcclxuICAgICAgICAgICAgdGhpcy52aWV3c1t0aGlzLmN1cnJlbnRWaWV3XS5fcmVuZGVyKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3NldElucHV0VmFsdWUoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5vblNlbGVjdCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlck9uQ2hhbmdlKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFVwZGF0ZXMgZGF0ZXBpY2tlciBvcHRpb25zXHJcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBwYXJhbSAtIHBhcmFtZXRlcidzIG5hbWUgdG8gdXBkYXRlLiBJZiBvYmplY3QgdGhlbiBpdCB3aWxsIGV4dGVuZCBjdXJyZW50IG9wdGlvbnNcclxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ8T2JqZWN0fSBbdmFsdWVdIC0gbmV3IHBhcmFtIHZhbHVlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdXBkYXRlOiBmdW5jdGlvbiAocGFyYW0sIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHZhciBsZW4gPSBhcmd1bWVudHMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgbGFzdFNlbGVjdGVkRGF0ZSA9IHRoaXMubGFzdFNlbGVjdGVkRGF0ZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChsZW4gPT0gMikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRzW3BhcmFtXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxlbiA9PSAxICYmIHR5cGVvZiBwYXJhbSA9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRzID0gJC5leHRlbmQodHJ1ZSwgdGhpcy5vcHRzLCBwYXJhbSlcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fY3JlYXRlU2hvcnRDdXRzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3N5bmNXaXRoTWluTWF4RGF0ZXMoKTtcclxuICAgICAgICAgICAgdGhpcy5fZGVmaW5lTG9jYWxlKHRoaXMub3B0cy5sYW5ndWFnZSk7XHJcbiAgICAgICAgICAgIHRoaXMubmF2Ll9hZGRCdXR0b25zSWZOZWVkKCk7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5vcHRzLm9ubHlUaW1lcGlja2VyKSB0aGlzLm5hdi5fcmVuZGVyKCk7XHJcbiAgICAgICAgICAgIHRoaXMudmlld3NbdGhpcy5jdXJyZW50Vmlld10uX3JlbmRlcigpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuZWxJc0lucHV0ICYmICF0aGlzLm9wdHMuaW5saW5lKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRQb3NpdGlvbkNsYXNzZXModGhpcy5vcHRzLnBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnZpc2libGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHRoaXMub3B0cy5wb3NpdGlvbilcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5jbGFzc2VzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRkYXRlcGlja2VyLmFkZENsYXNzKHRoaXMub3B0cy5jbGFzc2VzKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLm9ubHlUaW1lcGlja2VyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRkYXRlcGlja2VyLmFkZENsYXNzKCctb25seS10aW1lcGlja2VyLScpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLnRpbWVwaWNrZXIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChsYXN0U2VsZWN0ZWREYXRlKSB0aGlzLnRpbWVwaWNrZXIuX2hhbmRsZURhdGUobGFzdFNlbGVjdGVkRGF0ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWVwaWNrZXIuX3VwZGF0ZVJhbmdlcygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50aW1lcGlja2VyLl91cGRhdGVDdXJyZW50VGltZSgpO1xyXG4gICAgICAgICAgICAgICAgLy8gQ2hhbmdlIGhvdXJzIGFuZCBtaW51dGVzIGlmIGl0J3MgdmFsdWVzIGhhdmUgYmVlbiBjaGFuZ2VkIHRocm91Z2ggbWluL21heCBob3Vycy9taW51dGVzXHJcbiAgICAgICAgICAgICAgICBpZiAobGFzdFNlbGVjdGVkRGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RTZWxlY3RlZERhdGUuc2V0SG91cnModGhpcy50aW1lcGlja2VyLmhvdXJzKTtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0U2VsZWN0ZWREYXRlLnNldE1pbnV0ZXModGhpcy50aW1lcGlja2VyLm1pbnV0ZXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9zZXRJbnB1dFZhbHVlKCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfc3luY1dpdGhNaW5NYXhEYXRlczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY3VyVGltZSA9IHRoaXMuZGF0ZS5nZXRUaW1lKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2lsZW50ID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKHRoaXMubWluVGltZSA+IGN1clRpbWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0ZSA9IHRoaXMubWluRGF0ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMubWF4VGltZSA8IGN1clRpbWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0ZSA9IHRoaXMubWF4RGF0ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNpbGVudCA9IGZhbHNlO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9pc1NlbGVjdGVkOiBmdW5jdGlvbiAoY2hlY2tEYXRlLCBjZWxsVHlwZSkge1xyXG4gICAgICAgICAgICB2YXIgcmVzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWREYXRlcy5zb21lKGZ1bmN0aW9uIChkYXRlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0ZXBpY2tlci5pc1NhbWUoZGF0ZSwgY2hlY2tEYXRlLCBjZWxsVHlwZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXMgPSBkYXRlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcztcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfc2V0SW5wdXRWYWx1ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzLFxyXG4gICAgICAgICAgICAgICAgb3B0cyA9IF90aGlzLm9wdHMsXHJcbiAgICAgICAgICAgICAgICBmb3JtYXQgPSBfdGhpcy5sb2MuZGF0ZUZvcm1hdCxcclxuICAgICAgICAgICAgICAgIGFsdEZvcm1hdCA9IG9wdHMuYWx0RmllbGREYXRlRm9ybWF0LFxyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBfdGhpcy5zZWxlY3RlZERhdGVzLm1hcChmdW5jdGlvbiAoZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5mb3JtYXREYXRlKGZvcm1hdCwgZGF0ZSlcclxuICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgYWx0VmFsdWVzO1xyXG5cclxuICAgICAgICAgICAgaWYgKG9wdHMuYWx0RmllbGQgJiYgX3RoaXMuJGFsdEZpZWxkLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgYWx0VmFsdWVzID0gdGhpcy5zZWxlY3RlZERhdGVzLm1hcChmdW5jdGlvbiAoZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5mb3JtYXREYXRlKGFsdEZvcm1hdCwgZGF0ZSlcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYWx0VmFsdWVzID0gYWx0VmFsdWVzLmpvaW4odGhpcy5vcHRzLm11bHRpcGxlRGF0ZXNTZXBhcmF0b3IpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kYWx0RmllbGQudmFsKGFsdFZhbHVlcyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUuam9pbih0aGlzLm9wdHMubXVsdGlwbGVEYXRlc1NlcGFyYXRvcik7XHJcblxyXG4gICAgICAgICAgICB0aGlzLiRlbC52YWwodmFsdWUpXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ2hlY2sgaWYgZGF0ZSBpcyBiZXR3ZWVuIG1pbkRhdGUgYW5kIG1heERhdGVcclxuICAgICAgICAgKiBAcGFyYW0gZGF0ZSB7b2JqZWN0fSAtIGRhdGUgb2JqZWN0XHJcbiAgICAgICAgICogQHBhcmFtIHR5cGUge3N0cmluZ30gLSBjZWxsIHR5cGVcclxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIF9pc0luUmFuZ2U6IGZ1bmN0aW9uIChkYXRlLCB0eXBlKSB7XHJcbiAgICAgICAgICAgIHZhciB0aW1lID0gZGF0ZS5nZXRUaW1lKCksXHJcbiAgICAgICAgICAgICAgICBkID0gZGF0ZXBpY2tlci5nZXRQYXJzZWREYXRlKGRhdGUpLFxyXG4gICAgICAgICAgICAgICAgbWluID0gZGF0ZXBpY2tlci5nZXRQYXJzZWREYXRlKHRoaXMubWluRGF0ZSksXHJcbiAgICAgICAgICAgICAgICBtYXggPSBkYXRlcGlja2VyLmdldFBhcnNlZERhdGUodGhpcy5tYXhEYXRlKSxcclxuICAgICAgICAgICAgICAgIGRNaW5UaW1lID0gbmV3IERhdGUoZC55ZWFyLCBkLm1vbnRoLCBtaW4uZGF0ZSkuZ2V0VGltZSgpLFxyXG4gICAgICAgICAgICAgICAgZE1heFRpbWUgPSBuZXcgRGF0ZShkLnllYXIsIGQubW9udGgsIG1heC5kYXRlKS5nZXRUaW1lKCksXHJcbiAgICAgICAgICAgICAgICB0eXBlcyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBkYXk6IHRpbWUgPj0gdGhpcy5taW5UaW1lICYmIHRpbWUgPD0gdGhpcy5tYXhUaW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vbnRoOiBkTWluVGltZSA+PSB0aGlzLm1pblRpbWUgJiYgZE1heFRpbWUgPD0gdGhpcy5tYXhUaW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHllYXI6IGQueWVhciA+PSBtaW4ueWVhciAmJiBkLnllYXIgPD0gbWF4LnllYXJcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJldHVybiB0eXBlID8gdHlwZXNbdHlwZV0gOiB0eXBlcy5kYXlcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfZ2V0RGltZW5zaW9uczogZnVuY3Rpb24gKCRlbCkge1xyXG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gJGVsLm9mZnNldCgpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAkZWwub3V0ZXJXaWR0aCgpLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAkZWwub3V0ZXJIZWlnaHQoKSxcclxuICAgICAgICAgICAgICAgIGxlZnQ6IG9mZnNldC5sZWZ0LFxyXG4gICAgICAgICAgICAgICAgdG9wOiBvZmZzZXQudG9wXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfZ2V0RGF0ZUZyb21DZWxsOiBmdW5jdGlvbiAoY2VsbCkge1xyXG4gICAgICAgICAgICB2YXIgY3VyRGF0ZSA9IHRoaXMucGFyc2VkRGF0ZSxcclxuICAgICAgICAgICAgICAgIHllYXIgPSBjZWxsLmRhdGEoJ3llYXInKSB8fCBjdXJEYXRlLnllYXIsXHJcbiAgICAgICAgICAgICAgICBtb250aCA9IGNlbGwuZGF0YSgnbW9udGgnKSA9PSB1bmRlZmluZWQgPyBjdXJEYXRlLm1vbnRoIDogY2VsbC5kYXRhKCdtb250aCcpLFxyXG4gICAgICAgICAgICAgICAgZGF0ZSA9IGNlbGwuZGF0YSgnZGF0ZScpIHx8IDE7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoeWVhciwgbW9udGgsIGRhdGUpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9zZXRQb3NpdGlvbkNsYXNzZXM6IGZ1bmN0aW9uIChwb3MpIHtcclxuICAgICAgICAgICAgcG9zID0gcG9zLnNwbGl0KCcgJyk7XHJcbiAgICAgICAgICAgIHZhciBtYWluID0gcG9zWzBdLFxyXG4gICAgICAgICAgICAgICAgc2VjID0gcG9zWzFdLFxyXG4gICAgICAgICAgICAgICAgY2xhc3NlcyA9ICdkYXRlcGlja2VyIC0nICsgbWFpbiArICctJyArIHNlYyArICctIC1mcm9tLScgKyBtYWluICsgJy0nO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMudmlzaWJsZSkgY2xhc3NlcyArPSAnIGFjdGl2ZSc7XHJcblxyXG4gICAgICAgICAgICB0aGlzLiRkYXRlcGlja2VyXHJcbiAgICAgICAgICAgICAgICAucmVtb3ZlQXR0cignY2xhc3MnKVxyXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKGNsYXNzZXMpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNldFBvc2l0aW9uOiBmdW5jdGlvbiAocG9zaXRpb24pIHtcclxuICAgICAgICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbiB8fCB0aGlzLm9wdHMucG9zaXRpb247XHJcblxyXG4gICAgICAgICAgICB2YXIgZGltcyA9IHRoaXMuX2dldERpbWVuc2lvbnModGhpcy4kZWwpLFxyXG4gICAgICAgICAgICAgICAgc2VsZkRpbXMgPSB0aGlzLl9nZXREaW1lbnNpb25zKHRoaXMuJGRhdGVwaWNrZXIpLFxyXG4gICAgICAgICAgICAgICAgcG9zID0gcG9zaXRpb24uc3BsaXQoJyAnKSxcclxuICAgICAgICAgICAgICAgIHRvcCwgbGVmdCxcclxuICAgICAgICAgICAgICAgIG9mZnNldCA9IHRoaXMub3B0cy5vZmZzZXQsXHJcbiAgICAgICAgICAgICAgICBtYWluID0gcG9zWzBdLFxyXG4gICAgICAgICAgICAgICAgc2Vjb25kYXJ5ID0gcG9zWzFdO1xyXG5cclxuICAgICAgICAgICAgc3dpdGNoIChtYWluKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICd0b3AnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRvcCA9IGRpbXMudG9wIC0gc2VsZkRpbXMuaGVpZ2h0IC0gb2Zmc2V0O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQgPSBkaW1zLmxlZnQgKyBkaW1zLndpZHRoICsgb2Zmc2V0O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnYm90dG9tJzpcclxuICAgICAgICAgICAgICAgICAgICB0b3AgPSBkaW1zLnRvcCArIGRpbXMuaGVpZ2h0ICsgb2Zmc2V0O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbGVmdCc6XHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdCA9IGRpbXMubGVmdCAtIHNlbGZEaW1zLndpZHRoIC0gb2Zmc2V0O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzd2l0Y2goc2Vjb25kYXJ5KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICd0b3AnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRvcCA9IGRpbXMudG9wO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQgPSBkaW1zLmxlZnQgKyBkaW1zLndpZHRoIC0gc2VsZkRpbXMud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdib3R0b20nOlxyXG4gICAgICAgICAgICAgICAgICAgIHRvcCA9IGRpbXMudG9wICsgZGltcy5oZWlnaHQgLSBzZWxmRGltcy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdsZWZ0JzpcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gZGltcy5sZWZ0O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnY2VudGVyJzpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoL2xlZnR8cmlnaHQvLnRlc3QobWFpbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wID0gZGltcy50b3AgKyBkaW1zLmhlaWdodC8yIC0gc2VsZkRpbXMuaGVpZ2h0LzI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCA9IGRpbXMubGVmdCArIGRpbXMud2lkdGgvMiAtIHNlbGZEaW1zLndpZHRoLzI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLiRkYXRlcGlja2VyXHJcbiAgICAgICAgICAgICAgICAuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiBsZWZ0LFxyXG4gICAgICAgICAgICAgICAgICAgIHRvcDogdG9wXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNob3c6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIG9uU2hvdyA9IHRoaXMub3B0cy5vblNob3c7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHRoaXMub3B0cy5wb3NpdGlvbik7XHJcbiAgICAgICAgICAgIHRoaXMuJGRhdGVwaWNrZXIuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgaWYgKG9uU2hvdykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYmluZFZpc2lvbkV2ZW50cyhvblNob3cpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBoaWRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBvbkhpZGUgPSB0aGlzLm9wdHMub25IaWRlO1xyXG5cclxuICAgICAgICAgICAgdGhpcy4kZGF0ZXBpY2tlclxyXG4gICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogJy0xMDAwMDBweCdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5mb2N1c2VkID0gJyc7XHJcbiAgICAgICAgICAgIHRoaXMua2V5cyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pbkZvY3VzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLiRlbC5ibHVyKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAob25IaWRlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9iaW5kVmlzaW9uRXZlbnRzKG9uSGlkZSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGRvd246IGZ1bmN0aW9uIChkYXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NoYW5nZVZpZXcoZGF0ZSwgJ2Rvd24nKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICB1cDogZnVuY3Rpb24gKGRhdGUpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2hhbmdlVmlldyhkYXRlLCAndXAnKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfYmluZFZpc2lvbkV2ZW50czogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuJGRhdGVwaWNrZXIub2ZmKCd0cmFuc2l0aW9uZW5kLmRwJyk7XHJcbiAgICAgICAgICAgIGV2ZW50KHRoaXMsIGZhbHNlKTtcclxuICAgICAgICAgICAgdGhpcy4kZGF0ZXBpY2tlci5vbmUoJ3RyYW5zaXRpb25lbmQuZHAnLCBldmVudC5iaW5kKHRoaXMsIHRoaXMsIHRydWUpKVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9jaGFuZ2VWaWV3OiBmdW5jdGlvbiAoZGF0ZSwgZGlyKSB7XHJcbiAgICAgICAgICAgIGRhdGUgPSBkYXRlIHx8IHRoaXMuZm9jdXNlZCB8fCB0aGlzLmRhdGU7XHJcblxyXG4gICAgICAgICAgICB2YXIgbmV4dFZpZXcgPSBkaXIgPT0gJ3VwJyA/IHRoaXMudmlld0luZGV4ICsgMSA6IHRoaXMudmlld0luZGV4IC0gMTtcclxuICAgICAgICAgICAgaWYgKG5leHRWaWV3ID4gMikgbmV4dFZpZXcgPSAyO1xyXG4gICAgICAgICAgICBpZiAobmV4dFZpZXcgPCAwKSBuZXh0VmlldyA9IDA7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNpbGVudCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0ZSA9IG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpLCAxKTtcclxuICAgICAgICAgICAgdGhpcy5zaWxlbnQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy52aWV3ID0gdGhpcy52aWV3SW5kZXhlc1tuZXh0Vmlld107XHJcblxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9oYW5kbGVIb3RLZXk6IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgdmFyIGRhdGUgPSBkYXRlcGlja2VyLmdldFBhcnNlZERhdGUodGhpcy5fZ2V0Rm9jdXNlZERhdGUoKSksXHJcbiAgICAgICAgICAgICAgICBmb2N1c2VkUGFyc2VkLFxyXG4gICAgICAgICAgICAgICAgbyA9IHRoaXMub3B0cyxcclxuICAgICAgICAgICAgICAgIG5ld0RhdGUsXHJcbiAgICAgICAgICAgICAgICB0b3RhbERheXNJbk5leHRNb250aCxcclxuICAgICAgICAgICAgICAgIG1vbnRoQ2hhbmdlZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgeWVhckNoYW5nZWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGRlY2FkZUNoYW5nZWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHkgPSBkYXRlLnllYXIsXHJcbiAgICAgICAgICAgICAgICBtID0gZGF0ZS5tb250aCxcclxuICAgICAgICAgICAgICAgIGQgPSBkYXRlLmRhdGU7XHJcblxyXG4gICAgICAgICAgICBzd2l0Y2ggKGtleSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnY3RybFJpZ2h0JzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2N0cmxVcCc6XHJcbiAgICAgICAgICAgICAgICAgICAgbSArPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vbnRoQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdjdHJsTGVmdCc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdjdHJsRG93bic6XHJcbiAgICAgICAgICAgICAgICAgICAgbSAtPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vbnRoQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdzaGlmdFJpZ2h0JzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3NoaWZ0VXAnOlxyXG4gICAgICAgICAgICAgICAgICAgIHllYXJDaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB5ICs9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdzaGlmdExlZnQnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnc2hpZnREb3duJzpcclxuICAgICAgICAgICAgICAgICAgICB5ZWFyQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgeSAtPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnYWx0UmlnaHQnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnYWx0VXAnOlxyXG4gICAgICAgICAgICAgICAgICAgIGRlY2FkZUNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHkgKz0gMTA7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdhbHRMZWZ0JzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2FsdERvd24nOlxyXG4gICAgICAgICAgICAgICAgICAgIGRlY2FkZUNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHkgLT0gMTA7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdjdHJsU2hpZnRVcCc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0b3RhbERheXNJbk5leHRNb250aCA9IGRhdGVwaWNrZXIuZ2V0RGF5c0NvdW50KG5ldyBEYXRlKHksbSkpO1xyXG4gICAgICAgICAgICBuZXdEYXRlID0gbmV3IERhdGUoeSxtLGQpO1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgbmV4dCBtb250aCBoYXMgbGVzcyBkYXlzIHRoYW4gY3VycmVudCwgc2V0IGRhdGUgdG8gdG90YWwgZGF5cyBpbiB0aGF0IG1vbnRoXHJcbiAgICAgICAgICAgIGlmICh0b3RhbERheXNJbk5leHRNb250aCA8IGQpIGQgPSB0b3RhbERheXNJbk5leHRNb250aDtcclxuXHJcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIG5ld0RhdGUgaXMgaW4gdmFsaWQgcmFuZ2VcclxuICAgICAgICAgICAgaWYgKG5ld0RhdGUuZ2V0VGltZSgpIDwgdGhpcy5taW5UaW1lKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdEYXRlID0gdGhpcy5taW5EYXRlO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5ld0RhdGUuZ2V0VGltZSgpID4gdGhpcy5tYXhUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdEYXRlID0gdGhpcy5tYXhEYXRlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZvY3VzZWQgPSBuZXdEYXRlO1xyXG5cclxuICAgICAgICAgICAgZm9jdXNlZFBhcnNlZCA9IGRhdGVwaWNrZXIuZ2V0UGFyc2VkRGF0ZShuZXdEYXRlKTtcclxuICAgICAgICAgICAgaWYgKG1vbnRoQ2hhbmdlZCAmJiBvLm9uQ2hhbmdlTW9udGgpIHtcclxuICAgICAgICAgICAgICAgIG8ub25DaGFuZ2VNb250aChmb2N1c2VkUGFyc2VkLm1vbnRoLCBmb2N1c2VkUGFyc2VkLnllYXIpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHllYXJDaGFuZ2VkICYmIG8ub25DaGFuZ2VZZWFyKSB7XHJcbiAgICAgICAgICAgICAgICBvLm9uQ2hhbmdlWWVhcihmb2N1c2VkUGFyc2VkLnllYXIpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRlY2FkZUNoYW5nZWQgJiYgby5vbkNoYW5nZURlY2FkZSkge1xyXG4gICAgICAgICAgICAgICAgby5vbkNoYW5nZURlY2FkZSh0aGlzLmN1ckRlY2FkZSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9yZWdpc3RlcktleTogZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICB2YXIgZXhpc3RzID0gdGhpcy5rZXlzLnNvbWUoZnVuY3Rpb24gKGN1cktleSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cktleSA9PSBrZXk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFleGlzdHMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMua2V5cy5wdXNoKGtleSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF91blJlZ2lzdGVyS2V5OiBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMua2V5cy5pbmRleE9mKGtleSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmtleXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfaXNIb3RLZXlQcmVzc2VkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50SG90S2V5LFxyXG4gICAgICAgICAgICAgICAgZm91bmQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIF90aGlzID0gdGhpcyxcclxuICAgICAgICAgICAgICAgIHByZXNzZWRLZXlzID0gdGhpcy5rZXlzLnNvcnQoKTtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGhvdEtleSBpbiBob3RLZXlzKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50SG90S2V5ID0gaG90S2V5c1tob3RLZXldO1xyXG4gICAgICAgICAgICAgICAgaWYgKHByZXNzZWRLZXlzLmxlbmd0aCAhPSBjdXJyZW50SG90S2V5Lmxlbmd0aCkgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRIb3RLZXkuZXZlcnkoZnVuY3Rpb24gKGtleSwgaSkgeyByZXR1cm4ga2V5ID09IHByZXNzZWRLZXlzW2ldfSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdHJpZ2dlcignaG90S2V5JywgaG90S2V5KTtcclxuICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBmb3VuZDtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfdHJpZ2dlcjogZnVuY3Rpb24gKGV2ZW50LCBhcmdzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJGVsLnRyaWdnZXIoZXZlbnQsIGFyZ3MpXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX2ZvY3VzTmV4dENlbGw6IGZ1bmN0aW9uIChrZXlDb2RlLCB0eXBlKSB7XHJcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlIHx8IHRoaXMuY2VsbFR5cGU7XHJcblxyXG4gICAgICAgICAgICB2YXIgZGF0ZSA9IGRhdGVwaWNrZXIuZ2V0UGFyc2VkRGF0ZSh0aGlzLl9nZXRGb2N1c2VkRGF0ZSgpKSxcclxuICAgICAgICAgICAgICAgIHkgPSBkYXRlLnllYXIsXHJcbiAgICAgICAgICAgICAgICBtID0gZGF0ZS5tb250aCxcclxuICAgICAgICAgICAgICAgIGQgPSBkYXRlLmRhdGU7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5faXNIb3RLZXlQcmVzc2VkKCkpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzd2l0Y2goa2V5Q29kZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAzNzogLy8gbGVmdFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPT0gJ2RheScgPyAoZCAtPSAxKSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPT0gJ21vbnRoJyA/IChtIC09IDEpIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9PSAneWVhcicgPyAoeSAtPSAxKSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAzODogLy8gdXBcclxuICAgICAgICAgICAgICAgICAgICB0eXBlID09ICdkYXknID8gKGQgLT0gNykgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICB0eXBlID09ICdtb250aCcgPyAobSAtPSAzKSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPT0gJ3llYXInID8gKHkgLT0gNCkgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMzk6IC8vIHJpZ2h0XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9PSAnZGF5JyA/IChkICs9IDEpIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9PSAnbW9udGgnID8gKG0gKz0gMSkgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICB0eXBlID09ICd5ZWFyJyA/ICh5ICs9IDEpIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQwOiAvLyBkb3duXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9PSAnZGF5JyA/IChkICs9IDcpIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9PSAnbW9udGgnID8gKG0gKz0gMykgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICB0eXBlID09ICd5ZWFyJyA/ICh5ICs9IDQpIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBuZCA9IG5ldyBEYXRlKHksbSxkKTtcclxuICAgICAgICAgICAgaWYgKG5kLmdldFRpbWUoKSA8IHRoaXMubWluVGltZSkge1xyXG4gICAgICAgICAgICAgICAgbmQgPSB0aGlzLm1pbkRhdGU7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobmQuZ2V0VGltZSgpID4gdGhpcy5tYXhUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICBuZCA9IHRoaXMubWF4RGF0ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5mb2N1c2VkID0gbmQ7XHJcblxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9nZXRGb2N1c2VkRGF0ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZm9jdXNlZCAgPSB0aGlzLmZvY3VzZWQgfHwgdGhpcy5zZWxlY3RlZERhdGVzW3RoaXMuc2VsZWN0ZWREYXRlcy5sZW5ndGggLSAxXSxcclxuICAgICAgICAgICAgICAgIGQgPSB0aGlzLnBhcnNlZERhdGU7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWZvY3VzZWQpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy52aWV3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGF5cyc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzZWQgPSBuZXcgRGF0ZShkLnllYXIsIGQubW9udGgsIG5ldyBEYXRlKCkuZ2V0RGF0ZSgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbW9udGhzJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXNlZCA9IG5ldyBEYXRlKGQueWVhciwgZC5tb250aCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3llYXJzJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXNlZCA9IG5ldyBEYXRlKGQueWVhciwgMCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZm9jdXNlZDtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfZ2V0Q2VsbDogZnVuY3Rpb24gKGRhdGUsIHR5cGUpIHtcclxuICAgICAgICAgICAgdHlwZSA9IHR5cGUgfHwgdGhpcy5jZWxsVHlwZTtcclxuXHJcbiAgICAgICAgICAgIHZhciBkID0gZGF0ZXBpY2tlci5nZXRQYXJzZWREYXRlKGRhdGUpLFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0b3IgPSAnLmRhdGVwaWNrZXItLWNlbGxbZGF0YS15ZWFyPVwiJyArIGQueWVhciArICdcIl0nLFxyXG4gICAgICAgICAgICAgICAgJGNlbGw7XHJcblxyXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ21vbnRoJzpcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvciA9ICdbZGF0YS1tb250aD1cIicgKyBkLm1vbnRoICsgJ1wiXSc7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdkYXknOlxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yICs9ICdbZGF0YS1tb250aD1cIicgKyBkLm1vbnRoICsgJ1wiXVtkYXRhLWRhdGU9XCInICsgZC5kYXRlICsgJ1wiXSc7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJGNlbGwgPSB0aGlzLnZpZXdzW3RoaXMuY3VycmVudFZpZXddLiRlbC5maW5kKHNlbGVjdG9yKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiAkY2VsbC5sZW5ndGggPyAkY2VsbCA6ICQoJycpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgX3RoaXMuJGVsXHJcbiAgICAgICAgICAgICAgICAub2ZmKCcuYWRwJylcclxuICAgICAgICAgICAgICAgIC5kYXRhKCdkYXRlcGlja2VyJywgJycpO1xyXG5cclxuICAgICAgICAgICAgX3RoaXMuc2VsZWN0ZWREYXRlcyA9IFtdO1xyXG4gICAgICAgICAgICBfdGhpcy5mb2N1c2VkID0gJyc7XHJcbiAgICAgICAgICAgIF90aGlzLnZpZXdzID0ge307XHJcbiAgICAgICAgICAgIF90aGlzLmtleXMgPSBbXTtcclxuICAgICAgICAgICAgX3RoaXMubWluUmFuZ2UgPSAnJztcclxuICAgICAgICAgICAgX3RoaXMubWF4UmFuZ2UgPSAnJztcclxuXHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5vcHRzLmlubGluZSB8fCAhX3RoaXMuZWxJc0lucHV0KSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy4kZGF0ZXBpY2tlci5jbG9zZXN0KCcuZGF0ZXBpY2tlci1pbmxpbmUnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLiRkYXRlcGlja2VyLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX2hhbmRsZUFscmVhZHlTZWxlY3RlZERhdGVzOiBmdW5jdGlvbiAoYWxyZWFkeVNlbGVjdGVkLCBzZWxlY3RlZERhdGUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5yYW5nZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm9wdHMudG9nZ2xlU2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgcG9zc2liaWxpdHkgdG8gc2VsZWN0IHNhbWUgZGF0ZSB3aGVuIHJhbmdlIGlzIHRydWVcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZERhdGVzLmxlbmd0aCAhPSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoJ2NsaWNrQ2VsbCcsIHNlbGVjdGVkRGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZURhdGUoc2VsZWN0ZWREYXRlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLm9wdHMudG9nZ2xlU2VsZWN0ZWQpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVEYXRlKHNlbGVjdGVkRGF0ZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIENoYW5nZSBsYXN0IHNlbGVjdGVkIGRhdGUgdG8gYmUgYWJsZSB0byBjaGFuZ2UgdGltZSB3aGVuIGNsaWNraW5nIG9uIHRoaXMgY2VsbFxyXG4gICAgICAgICAgICBpZiAoIXRoaXMub3B0cy50b2dnbGVTZWxlY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0U2VsZWN0ZWREYXRlID0gYWxyZWFkeVNlbGVjdGVkO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0cy50aW1lcGlja2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lcGlja2VyLl9zZXRUaW1lKGFscmVhZHlTZWxlY3RlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lcGlja2VyLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX29uU2hvd0V2ZW50OiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMudmlzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfb25CbHVyOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pbkZvY3VzICYmIHRoaXMudmlzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfb25Nb3VzZURvd25EYXRlcGlja2VyOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLmluRm9jdXMgPSB0cnVlO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9vbk1vdXNlVXBEYXRlcGlja2VyOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLmluRm9jdXMgPSBmYWxzZTtcclxuICAgICAgICAgICAgZS5vcmlnaW5hbEV2ZW50LmluRm9jdXMgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoIWUub3JpZ2luYWxFdmVudC50aW1lcGlja2VyRm9jdXMpIHRoaXMuJGVsLmZvY3VzKCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX29uS2V5VXBHZW5lcmFsOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICB2YXIgdmFsID0gdGhpcy4kZWwudmFsKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXZhbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX29uUmVzaXplOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnZpc2libGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0UG9zaXRpb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9vbk1vdXNlVXBCb2R5OiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBpZiAoZS5vcmlnaW5hbEV2ZW50LmluRm9jdXMpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnZpc2libGUgJiYgIXRoaXMuaW5Gb2N1cykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfb25Nb3VzZVVwRWw6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGUub3JpZ2luYWxFdmVudC5pbkZvY3VzID0gdHJ1ZTtcclxuICAgICAgICAgICAgc2V0VGltZW91dCh0aGlzLl9vbktleVVwR2VuZXJhbC5iaW5kKHRoaXMpLDQpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9vbktleURvd246IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHZhciBjb2RlID0gZS53aGljaDtcclxuICAgICAgICAgICAgdGhpcy5fcmVnaXN0ZXJLZXkoY29kZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBBcnJvd3NcclxuICAgICAgICAgICAgaWYgKGNvZGUgPj0gMzcgJiYgY29kZSA8PSA0MCkge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZm9jdXNOZXh0Q2VsbChjb2RlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gRW50ZXJcclxuICAgICAgICAgICAgaWYgKGNvZGUgPT0gMTMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZvY3VzZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fZ2V0Q2VsbCh0aGlzLmZvY3VzZWQpLmhhc0NsYXNzKCctZGlzYWJsZWQtJykpIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy52aWV3ICE9IHRoaXMub3B0cy5taW5WaWV3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZG93bigpXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFscmVhZHlTZWxlY3RlZCA9IHRoaXMuX2lzU2VsZWN0ZWQodGhpcy5mb2N1c2VkLCB0aGlzLmNlbGxUeXBlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYWxyZWFkeVNlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50aW1lcGlja2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mb2N1c2VkLnNldEhvdXJzKHRoaXMudGltZXBpY2tlci5ob3Vycyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mb2N1c2VkLnNldE1pbnV0ZXModGhpcy50aW1lcGlja2VyLm1pbnV0ZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuZm9jdXNlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlQWxyZWFkeVNlbGVjdGVkRGF0ZXMoYWxyZWFkeVNlbGVjdGVkLCB0aGlzLmZvY3VzZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBFc2NcclxuICAgICAgICAgICAgaWYgKGNvZGUgPT0gMjcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX29uS2V5VXA6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHZhciBjb2RlID0gZS53aGljaDtcclxuICAgICAgICAgICAgdGhpcy5fdW5SZWdpc3RlcktleShjb2RlKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfb25Ib3RLZXk6IGZ1bmN0aW9uIChlLCBob3RLZXkpIHtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlSG90S2V5KGhvdEtleSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX29uTW91c2VFbnRlckNlbGw6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHZhciAkY2VsbCA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5kYXRlcGlja2VyLS1jZWxsJyksXHJcbiAgICAgICAgICAgICAgICBkYXRlID0gdGhpcy5fZ2V0RGF0ZUZyb21DZWxsKCRjZWxsKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFByZXZlbnQgZnJvbSB1bm5lY2Vzc2FyeSByZW5kZXJpbmcgYW5kIHNldHRpbmcgbmV3IGN1cnJlbnREYXRlXHJcbiAgICAgICAgICAgIHRoaXMuc2lsZW50ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmZvY3VzZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZm9jdXNlZCA9ICcnXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICRjZWxsLmFkZENsYXNzKCctZm9jdXMtJyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZvY3VzZWQgPSBkYXRlO1xyXG4gICAgICAgICAgICB0aGlzLnNpbGVudCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5yYW5nZSAmJiB0aGlzLnNlbGVjdGVkRGF0ZXMubGVuZ3RoID09IDEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubWluUmFuZ2UgPSB0aGlzLnNlbGVjdGVkRGF0ZXNbMF07XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1heFJhbmdlID0gJyc7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0ZXBpY2tlci5sZXNzKHRoaXMubWluUmFuZ2UsIHRoaXMuZm9jdXNlZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1heFJhbmdlID0gdGhpcy5taW5SYW5nZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1pblJhbmdlID0gJyc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdzW3RoaXMuY3VycmVudFZpZXddLl91cGRhdGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9vbk1vdXNlTGVhdmVDZWxsOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICB2YXIgJGNlbGwgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCcuZGF0ZXBpY2tlci0tY2VsbCcpO1xyXG5cclxuICAgICAgICAgICAgJGNlbGwucmVtb3ZlQ2xhc3MoJy1mb2N1cy0nKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2lsZW50ID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5mb2N1c2VkID0gJyc7XHJcbiAgICAgICAgICAgIHRoaXMuc2lsZW50ID0gZmFsc2U7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX29uVGltZUNoYW5nZTogZnVuY3Rpb24gKGUsIGgsIG0pIHtcclxuICAgICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWREYXRlcyA9IHRoaXMuc2VsZWN0ZWREYXRlcyxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWREYXRlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGRhdGUgPSB0aGlzLmxhc3RTZWxlY3RlZERhdGU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGRhdGUuc2V0SG91cnMoaCk7XHJcbiAgICAgICAgICAgIGRhdGUuc2V0TWludXRlcyhtKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghc2VsZWN0ZWQgJiYgIXRoaXMuX2dldENlbGwoZGF0ZSkuaGFzQ2xhc3MoJy1kaXNhYmxlZC0nKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3REYXRlKGRhdGUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0SW5wdXRWYWx1ZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5vblNlbGVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXJPbkNoYW5nZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX29uQ2xpY2tDZWxsOiBmdW5jdGlvbiAoZSwgZGF0ZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy50aW1lcGlja2VyKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRlLnNldEhvdXJzKHRoaXMudGltZXBpY2tlci5ob3Vycyk7XHJcbiAgICAgICAgICAgICAgICBkYXRlLnNldE1pbnV0ZXModGhpcy50aW1lcGlja2VyLm1pbnV0ZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0RGF0ZShkYXRlKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzZXQgZm9jdXNlZCh2YWwpIHtcclxuICAgICAgICAgICAgaWYgKCF2YWwgJiYgdGhpcy5mb2N1c2VkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgJGNlbGwgPSB0aGlzLl9nZXRDZWxsKHRoaXMuZm9jdXNlZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCRjZWxsLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRjZWxsLnJlbW92ZUNsYXNzKCctZm9jdXMtJylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9mb2N1c2VkID0gdmFsO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLnJhbmdlICYmIHRoaXMuc2VsZWN0ZWREYXRlcy5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5taW5SYW5nZSA9IHRoaXMuc2VsZWN0ZWREYXRlc1swXTtcclxuICAgICAgICAgICAgICAgIHRoaXMubWF4UmFuZ2UgPSAnJztcclxuICAgICAgICAgICAgICAgIGlmIChkYXRlcGlja2VyLmxlc3ModGhpcy5taW5SYW5nZSwgdGhpcy5fZm9jdXNlZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1heFJhbmdlID0gdGhpcy5taW5SYW5nZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1pblJhbmdlID0gJyc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuc2lsZW50KSByZXR1cm47XHJcbiAgICAgICAgICAgIHRoaXMuZGF0ZSA9IHZhbDtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBnZXQgZm9jdXNlZCgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvY3VzZWQ7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZ2V0IHBhcnNlZERhdGUoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkYXRlcGlja2VyLmdldFBhcnNlZERhdGUodGhpcy5kYXRlKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzZXQgZGF0ZSAodmFsKSB7XHJcbiAgICAgICAgICAgIGlmICghKHZhbCBpbnN0YW5jZW9mIERhdGUpKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnREYXRlID0gdmFsO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuaW5pdGVkICYmICF0aGlzLnNpbGVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3c1t0aGlzLnZpZXddLl9yZW5kZXIoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubmF2Ll9yZW5kZXIoKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnZpc2libGUgJiYgdGhpcy5lbElzSW5wdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFBvc2l0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHZhbDtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBnZXQgZGF0ZSAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnREYXRlXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgc2V0IHZpZXcgKHZhbCkge1xyXG4gICAgICAgICAgICB0aGlzLnZpZXdJbmRleCA9IHRoaXMudmlld0luZGV4ZXMuaW5kZXhPZih2YWwpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMudmlld0luZGV4IDwgMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnByZXZWaWV3ID0gdGhpcy5jdXJyZW50VmlldztcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50VmlldyA9IHZhbDtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmluaXRlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnZpZXdzW3ZhbF0pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdzW3ZhbF0gPSBuZXcgICQuZm4uZGF0ZXBpY2tlci5Cb2R5KHRoaXMsIHZhbCwgdGhpcy5vcHRzKVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdzW3ZhbF0uX3JlbmRlcigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMudmlld3NbdGhpcy5wcmV2Vmlld10uaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3c1t2YWxdLnNob3coKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubmF2Ll9yZW5kZXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRzLm9uQ2hhbmdlVmlldykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0cy5vbkNoYW5nZVZpZXcodmFsKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZWxJc0lucHV0ICYmIHRoaXMudmlzaWJsZSkgdGhpcy5zZXRQb3NpdGlvbigpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdmFsXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZ2V0IHZpZXcoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRWaWV3O1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGdldCBjZWxsVHlwZSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlldy5zdWJzdHJpbmcoMCwgdGhpcy52aWV3Lmxlbmd0aCAtIDEpXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZ2V0IG1pblRpbWUoKSB7XHJcbiAgICAgICAgICAgIHZhciBtaW4gPSBkYXRlcGlja2VyLmdldFBhcnNlZERhdGUodGhpcy5taW5EYXRlKTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKG1pbi55ZWFyLCBtaW4ubW9udGgsIG1pbi5kYXRlKS5nZXRUaW1lKClcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBnZXQgbWF4VGltZSgpIHtcclxuICAgICAgICAgICAgdmFyIG1heCA9IGRhdGVwaWNrZXIuZ2V0UGFyc2VkRGF0ZSh0aGlzLm1heERhdGUpO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUobWF4LnllYXIsIG1heC5tb250aCwgbWF4LmRhdGUpLmdldFRpbWUoKVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGdldCBjdXJEZWNhZGUoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkYXRlcGlja2VyLmdldERlY2FkZSh0aGlzLmRhdGUpXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyAgVXRpbHNcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICBkYXRlcGlja2VyLmdldERheXNDb3VudCA9IGZ1bmN0aW9uIChkYXRlKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpICsgMSwgMCkuZ2V0RGF0ZSgpO1xyXG4gICAgfTtcclxuXHJcbiAgICBkYXRlcGlja2VyLmdldFBhcnNlZERhdGUgPSBmdW5jdGlvbiAoZGF0ZSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHllYXI6IGRhdGUuZ2V0RnVsbFllYXIoKSxcclxuICAgICAgICAgICAgbW9udGg6IGRhdGUuZ2V0TW9udGgoKSxcclxuICAgICAgICAgICAgZnVsbE1vbnRoOiAoZGF0ZS5nZXRNb250aCgpICsgMSkgPCAxMCA/ICcwJyArIChkYXRlLmdldE1vbnRoKCkgKyAxKSA6IGRhdGUuZ2V0TW9udGgoKSArIDEsIC8vIE9uZSBiYXNlZFxyXG4gICAgICAgICAgICBkYXRlOiBkYXRlLmdldERhdGUoKSxcclxuICAgICAgICAgICAgZnVsbERhdGU6IGRhdGUuZ2V0RGF0ZSgpIDwgMTAgPyAnMCcgKyBkYXRlLmdldERhdGUoKSA6IGRhdGUuZ2V0RGF0ZSgpLFxyXG4gICAgICAgICAgICBkYXk6IGRhdGUuZ2V0RGF5KCksXHJcbiAgICAgICAgICAgIGhvdXJzOiBkYXRlLmdldEhvdXJzKCksXHJcbiAgICAgICAgICAgIGZ1bGxIb3VyczogIGRhdGUuZ2V0SG91cnMoKSA8IDEwID8gJzAnICsgZGF0ZS5nZXRIb3VycygpIDogIGRhdGUuZ2V0SG91cnMoKSAsXHJcbiAgICAgICAgICAgIG1pbnV0ZXM6IGRhdGUuZ2V0TWludXRlcygpLFxyXG4gICAgICAgICAgICBmdWxsTWludXRlczogIGRhdGUuZ2V0TWludXRlcygpIDwgMTAgPyAnMCcgKyBkYXRlLmdldE1pbnV0ZXMoKSA6ICBkYXRlLmdldE1pbnV0ZXMoKVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZGF0ZXBpY2tlci5nZXREZWNhZGUgPSBmdW5jdGlvbiAoZGF0ZSkge1xyXG4gICAgICAgIHZhciBmaXJzdFllYXIgPSBNYXRoLmZsb29yKGRhdGUuZ2V0RnVsbFllYXIoKSAvIDEwKSAqIDEwO1xyXG5cclxuICAgICAgICByZXR1cm4gW2ZpcnN0WWVhciwgZmlyc3RZZWFyICsgOV07XHJcbiAgICB9O1xyXG5cclxuICAgIGRhdGVwaWNrZXIudGVtcGxhdGUgPSBmdW5jdGlvbiAoc3RyLCBkYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8jXFx7KFtcXHddKylcXH0vZywgZnVuY3Rpb24gKHNvdXJjZSwgbWF0Y2gpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGFbbWF0Y2hdIHx8IGRhdGFbbWF0Y2hdID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YVttYXRjaF1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBkYXRlcGlja2VyLmlzU2FtZSA9IGZ1bmN0aW9uIChkYXRlMSwgZGF0ZTIsIHR5cGUpIHtcclxuICAgICAgICBpZiAoIWRhdGUxIHx8ICFkYXRlMikgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHZhciBkMSA9IGRhdGVwaWNrZXIuZ2V0UGFyc2VkRGF0ZShkYXRlMSksXHJcbiAgICAgICAgICAgIGQyID0gZGF0ZXBpY2tlci5nZXRQYXJzZWREYXRlKGRhdGUyKSxcclxuICAgICAgICAgICAgX3R5cGUgPSB0eXBlID8gdHlwZSA6ICdkYXknLFxyXG5cclxuICAgICAgICAgICAgY29uZGl0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgIGRheTogZDEuZGF0ZSA9PSBkMi5kYXRlICYmIGQxLm1vbnRoID09IGQyLm1vbnRoICYmIGQxLnllYXIgPT0gZDIueWVhcixcclxuICAgICAgICAgICAgICAgIG1vbnRoOiBkMS5tb250aCA9PSBkMi5tb250aCAmJiBkMS55ZWFyID09IGQyLnllYXIsXHJcbiAgICAgICAgICAgICAgICB5ZWFyOiBkMS55ZWFyID09IGQyLnllYXJcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGNvbmRpdGlvbnNbX3R5cGVdO1xyXG4gICAgfTtcclxuXHJcbiAgICBkYXRlcGlja2VyLmxlc3MgPSBmdW5jdGlvbiAoZGF0ZUNvbXBhcmVUbywgZGF0ZSwgdHlwZSkge1xyXG4gICAgICAgIGlmICghZGF0ZUNvbXBhcmVUbyB8fCAhZGF0ZSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHJldHVybiBkYXRlLmdldFRpbWUoKSA8IGRhdGVDb21wYXJlVG8uZ2V0VGltZSgpO1xyXG4gICAgfTtcclxuXHJcbiAgICBkYXRlcGlja2VyLmJpZ2dlciA9IGZ1bmN0aW9uIChkYXRlQ29tcGFyZVRvLCBkYXRlLCB0eXBlKSB7XHJcbiAgICAgICAgaWYgKCFkYXRlQ29tcGFyZVRvIHx8ICFkYXRlKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIGRhdGUuZ2V0VGltZSgpID4gZGF0ZUNvbXBhcmVUby5nZXRUaW1lKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGRhdGVwaWNrZXIuZ2V0TGVhZGluZ1plcm9OdW0gPSBmdW5jdGlvbiAobnVtKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KG51bSkgPCAxMCA/ICcwJyArIG51bSA6IG51bTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGNvcHkgb2YgZGF0ZSB3aXRoIGhvdXJzIGFuZCBtaW51dGVzIGVxdWFscyB0byAwXHJcbiAgICAgKiBAcGFyYW0gZGF0ZSB7RGF0ZX1cclxuICAgICAqL1xyXG4gICAgZGF0ZXBpY2tlci5yZXNldFRpbWUgPSBmdW5jdGlvbiAoZGF0ZSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgZGF0ZSAhPSAnb2JqZWN0JykgcmV0dXJuO1xyXG4gICAgICAgIGRhdGUgPSBkYXRlcGlja2VyLmdldFBhcnNlZERhdGUoZGF0ZSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGRhdGUueWVhciwgZGF0ZS5tb250aCwgZGF0ZS5kYXRlKVxyXG4gICAgfTtcclxuXHJcbiAgICAkLmZuLmRhdGVwaWNrZXIgPSBmdW5jdGlvbiAoIG9wdGlvbnMgKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICghJC5kYXRhKHRoaXMsIHBsdWdpbk5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAkLmRhdGEodGhpcywgIHBsdWdpbk5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IERhdGVwaWNrZXIoIHRoaXMsIG9wdGlvbnMgKSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSAkLmRhdGEodGhpcywgcGx1Z2luTmFtZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgX3RoaXMub3B0cyA9ICQuZXh0ZW5kKHRydWUsIF90aGlzLm9wdHMsIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgJC5mbi5kYXRlcGlja2VyLkNvbnN0cnVjdG9yID0gRGF0ZXBpY2tlcjtcclxuXHJcbiAgICAkLmZuLmRhdGVwaWNrZXIubGFuZ3VhZ2UgPSB7XHJcbiAgICAgICAgcnU6IHtcclxuICAgICAgICAgICAgZGF5czogWyfQktC+0YHQutGA0LXRgdC10L3RjNC1JywgJ9Cf0L7QvdC10LTQtdC70YzQvdC40LonLCAn0JLRgtC+0YDQvdC40LonLCAn0KHRgNC10LTQsCcsICfQp9C10YLQstC10YDQsycsICfQn9GP0YLQvdC40YbQsCcsICfQodGD0LHQsdC+0YLQsCddLFxyXG4gICAgICAgICAgICBkYXlzU2hvcnQ6IFsn0JLQvtGBJywn0J/QvtC9Jywn0JLRgtC+Jywn0KHRgNC1Jywn0KfQtdGCJywn0J/Rj9GCJywn0KHRg9CxJ10sXHJcbiAgICAgICAgICAgIGRheXNNaW46IFsn0JLRgScsJ9Cf0L0nLCfQktGCJywn0KHRgCcsJ9Cn0YInLCfQn9GCJywn0KHQsSddLFxyXG4gICAgICAgICAgICBtb250aHM6IFsn0K/QvdCy0LDRgNGMJywgJ9Ck0LXQstGA0LDQu9GMJywgJ9Cc0LDRgNGCJywgJ9CQ0L/RgNC10LvRjCcsICfQnNCw0LknLCAn0JjRjtC90YwnLCAn0JjRjtC70YwnLCAn0JDQstCz0YPRgdGCJywgJ9Ch0LXQvdGC0Y/QsdGA0YwnLCAn0J7QutGC0Y/QsdGA0YwnLCAn0J3QvtGP0LHRgNGMJywgJ9CU0LXQutCw0LHRgNGMJ10sXHJcbiAgICAgICAgICAgIG1vbnRoc1Nob3J0OiBbJ9Cv0L3QsicsICfQpNC10LInLCAn0JzQsNGAJywgJ9CQ0L/RgCcsICfQnNCw0LknLCAn0JjRjtC9JywgJ9CY0Y7QuycsICfQkNCy0LMnLCAn0KHQtdC9JywgJ9Ce0LrRgicsICfQndC+0Y8nLCAn0JTQtdC6J10sXHJcbiAgICAgICAgICAgIHRvZGF5OiAn0KHQtdCz0L7QtNC90Y8nLFxyXG4gICAgICAgICAgICBjbGVhcjogJ9Ce0YfQuNGB0YLQuNGC0YwnLFxyXG4gICAgICAgICAgICBkYXRlRm9ybWF0OiAnZGQubW0ueXl5eScsXHJcbiAgICAgICAgICAgIHRpbWVGb3JtYXQ6ICdoaDppaScsXHJcbiAgICAgICAgICAgIGZpcnN0RGF5OiAxXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAkKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKGF1dG9Jbml0U2VsZWN0b3IpLmRhdGVwaWNrZXIoKTtcclxuICAgIH0pXHJcblxyXG59KSgpO1xyXG5cclxuOyhmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgdGVtcGxhdGVzID0ge1xyXG4gICAgICAgIGRheXM6JycgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci0tZGF5cyBkYXRlcGlja2VyLS1ib2R5XCI+JyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLS1kYXlzLW5hbWVzXCI+PC9kaXY+JyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLS1jZWxscyBkYXRlcGlja2VyLS1jZWxscy1kYXlzXCI+PC9kaXY+JyArXHJcbiAgICAgICAgJzwvZGl2PicsXHJcbiAgICAgICAgbW9udGhzOiAnJyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLS1tb250aHMgZGF0ZXBpY2tlci0tYm9keVwiPicgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci0tY2VsbHMgZGF0ZXBpY2tlci0tY2VsbHMtbW9udGhzXCI+PC9kaXY+JyArXHJcbiAgICAgICAgJzwvZGl2PicsXHJcbiAgICAgICAgeWVhcnM6ICcnICtcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItLXllYXJzIGRhdGVwaWNrZXItLWJvZHlcIj4nICtcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItLWNlbGxzIGRhdGVwaWNrZXItLWNlbGxzLXllYXJzXCI+PC9kaXY+JyArXHJcbiAgICAgICAgJzwvZGl2PidcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRhdGVwaWNrZXIgPSAkLmZuLmRhdGVwaWNrZXIsXHJcbiAgICAgICAgZHAgPSBkYXRlcGlja2VyLkNvbnN0cnVjdG9yO1xyXG5cclxuICAgIGRhdGVwaWNrZXIuQm9keSA9IGZ1bmN0aW9uIChkLCB0eXBlLCBvcHRzKSB7XHJcbiAgICAgICAgdGhpcy5kID0gZDtcclxuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG4gICAgICAgIHRoaXMub3B0cyA9IG9wdHM7XHJcbiAgICAgICAgdGhpcy4kZWwgPSAkKCcnKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMub3B0cy5vbmx5VGltZXBpY2tlcikgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICBkYXRlcGlja2VyLkJvZHkucHJvdG90eXBlID0ge1xyXG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5fYnVpbGRCYXNlSHRtbCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXIoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2JpbmRFdmVudHMoKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfYmluZEV2ZW50czogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLiRlbC5vbignY2xpY2snLCAnLmRhdGVwaWNrZXItLWNlbGwnLCAkLnByb3h5KHRoaXMuX29uQ2xpY2tDZWxsLCB0aGlzKSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX2J1aWxkQmFzZUh0bWw6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy4kZWwgPSAkKHRlbXBsYXRlc1t0aGlzLnR5cGVdKS5hcHBlbmRUbyh0aGlzLmQuJGNvbnRlbnQpO1xyXG4gICAgICAgICAgICB0aGlzLiRuYW1lcyA9ICQoJy5kYXRlcGlja2VyLS1kYXlzLW5hbWVzJywgdGhpcy4kZWwpO1xyXG4gICAgICAgICAgICB0aGlzLiRjZWxscyA9ICQoJy5kYXRlcGlja2VyLS1jZWxscycsIHRoaXMuJGVsKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfZ2V0RGF5TmFtZXNIdG1sOiBmdW5jdGlvbiAoZmlyc3REYXksIGN1ckRheSwgaHRtbCwgaSkge1xyXG4gICAgICAgICAgICBjdXJEYXkgPSBjdXJEYXkgIT0gdW5kZWZpbmVkID8gY3VyRGF5IDogZmlyc3REYXk7XHJcbiAgICAgICAgICAgIGh0bWwgPSBodG1sID8gaHRtbCA6ICcnO1xyXG4gICAgICAgICAgICBpID0gaSAhPSB1bmRlZmluZWQgPyBpIDogMDtcclxuXHJcbiAgICAgICAgICAgIGlmIChpID4gNykgcmV0dXJuIGh0bWw7XHJcbiAgICAgICAgICAgIGlmIChjdXJEYXkgPT0gNykgcmV0dXJuIHRoaXMuX2dldERheU5hbWVzSHRtbChmaXJzdERheSwgMCwgaHRtbCwgKytpKTtcclxuXHJcbiAgICAgICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLS1kYXktbmFtZScgKyAodGhpcy5kLmlzV2Vla2VuZChjdXJEYXkpID8gXCIgLXdlZWtlbmQtXCIgOiBcIlwiKSArICdcIj4nICsgdGhpcy5kLmxvYy5kYXlzTWluW2N1ckRheV0gKyAnPC9kaXY+JztcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXREYXlOYW1lc0h0bWwoZmlyc3REYXksICsrY3VyRGF5LCBodG1sLCArK2kpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9nZXRDZWxsQ29udGVudHM6IGZ1bmN0aW9uIChkYXRlLCB0eXBlKSB7XHJcbiAgICAgICAgICAgIHZhciBjbGFzc2VzID0gXCJkYXRlcGlja2VyLS1jZWxsIGRhdGVwaWNrZXItLWNlbGwtXCIgKyB0eXBlLFxyXG4gICAgICAgICAgICAgICAgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgICAgICAgcGFyZW50ID0gdGhpcy5kLFxyXG4gICAgICAgICAgICAgICAgbWluUmFuZ2UgPSBkcC5yZXNldFRpbWUocGFyZW50Lm1pblJhbmdlKSxcclxuICAgICAgICAgICAgICAgIG1heFJhbmdlID0gZHAucmVzZXRUaW1lKHBhcmVudC5tYXhSYW5nZSksXHJcbiAgICAgICAgICAgICAgICBvcHRzID0gcGFyZW50Lm9wdHMsXHJcbiAgICAgICAgICAgICAgICBkID0gZHAuZ2V0UGFyc2VkRGF0ZShkYXRlKSxcclxuICAgICAgICAgICAgICAgIHJlbmRlciA9IHt9LFxyXG4gICAgICAgICAgICAgICAgaHRtbCA9IGQuZGF0ZTtcclxuXHJcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnZGF5JzpcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50LmlzV2Vla2VuZChkLmRheSkpIGNsYXNzZXMgKz0gXCIgLXdlZWtlbmQtXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQubW9udGggIT0gdGhpcy5kLnBhcnNlZERhdGUubW9udGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlcyArPSBcIiAtb3RoZXItbW9udGgtXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb3B0cy5zZWxlY3RPdGhlck1vbnRocykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlcyArPSBcIiAtZGlzYWJsZWQtXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRzLnNob3dPdGhlck1vbnRocykgaHRtbCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ21vbnRoJzpcclxuICAgICAgICAgICAgICAgICAgICBodG1sID0gcGFyZW50LmxvY1twYXJlbnQub3B0cy5tb250aHNGaWVsZF1bZC5tb250aF07XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICd5ZWFyJzpcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGVjYWRlID0gcGFyZW50LmN1ckRlY2FkZTtcclxuICAgICAgICAgICAgICAgICAgICBodG1sID0gZC55ZWFyO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkLnllYXIgPCBkZWNhZGVbMF0gfHwgZC55ZWFyID4gZGVjYWRlWzFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXMgKz0gJyAtb3RoZXItZGVjYWRlLSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb3B0cy5zZWxlY3RPdGhlclllYXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzICs9IFwiIC1kaXNhYmxlZC1cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdHMuc2hvd090aGVyWWVhcnMpIGh0bWwgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChvcHRzLm9uUmVuZGVyQ2VsbCkge1xyXG4gICAgICAgICAgICAgICAgcmVuZGVyID0gb3B0cy5vblJlbmRlckNlbGwoZGF0ZSwgdHlwZSkgfHwge307XHJcbiAgICAgICAgICAgICAgICBodG1sID0gcmVuZGVyLmh0bWwgPyByZW5kZXIuaHRtbCA6IGh0bWw7XHJcbiAgICAgICAgICAgICAgICBjbGFzc2VzICs9IHJlbmRlci5jbGFzc2VzID8gJyAnICsgcmVuZGVyLmNsYXNzZXMgOiAnJztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKG9wdHMucmFuZ2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkcC5pc1NhbWUobWluUmFuZ2UsIGRhdGUsIHR5cGUpKSBjbGFzc2VzICs9ICcgLXJhbmdlLWZyb20tJztcclxuICAgICAgICAgICAgICAgIGlmIChkcC5pc1NhbWUobWF4UmFuZ2UsIGRhdGUsIHR5cGUpKSBjbGFzc2VzICs9ICcgLXJhbmdlLXRvLSc7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudC5zZWxlY3RlZERhdGVzLmxlbmd0aCA9PSAxICYmIHBhcmVudC5mb2N1c2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoZHAuYmlnZ2VyKG1pblJhbmdlLCBkYXRlKSAmJiBkcC5sZXNzKHBhcmVudC5mb2N1c2VkLCBkYXRlKSkgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGRwLmxlc3MobWF4UmFuZ2UsIGRhdGUpICYmIGRwLmJpZ2dlcihwYXJlbnQuZm9jdXNlZCwgZGF0ZSkpKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlcyArPSAnIC1pbi1yYW5nZS0nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZHAubGVzcyhtYXhSYW5nZSwgZGF0ZSkgJiYgZHAuaXNTYW1lKHBhcmVudC5mb2N1c2VkLCBkYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzICs9ICcgLXJhbmdlLWZyb20tJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZHAuYmlnZ2VyKG1pblJhbmdlLCBkYXRlKSAmJiBkcC5pc1NhbWUocGFyZW50LmZvY3VzZWQsIGRhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXMgKz0gJyAtcmFuZ2UtdG8tJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcmVudC5zZWxlY3RlZERhdGVzLmxlbmd0aCA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRwLmJpZ2dlcihtaW5SYW5nZSwgZGF0ZSkgJiYgZHAubGVzcyhtYXhSYW5nZSwgZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlcyArPSAnIC1pbi1yYW5nZS0nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgaWYgKGRwLmlzU2FtZShjdXJyZW50RGF0ZSwgZGF0ZSwgdHlwZSkpIGNsYXNzZXMgKz0gJyAtY3VycmVudC0nO1xyXG4gICAgICAgICAgICBpZiAocGFyZW50LmZvY3VzZWQgJiYgZHAuaXNTYW1lKGRhdGUsIHBhcmVudC5mb2N1c2VkLCB0eXBlKSkgY2xhc3NlcyArPSAnIC1mb2N1cy0nO1xyXG4gICAgICAgICAgICBpZiAocGFyZW50Ll9pc1NlbGVjdGVkKGRhdGUsIHR5cGUpKSBjbGFzc2VzICs9ICcgLXNlbGVjdGVkLSc7XHJcbiAgICAgICAgICAgIGlmICghcGFyZW50Ll9pc0luUmFuZ2UoZGF0ZSwgdHlwZSkgfHwgcmVuZGVyLmRpc2FibGVkKSBjbGFzc2VzICs9ICcgLWRpc2FibGVkLSc7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgaHRtbDogaHRtbCxcclxuICAgICAgICAgICAgICAgIGNsYXNzZXM6IGNsYXNzZXNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENhbGN1bGF0ZXMgZGF5cyBudW1iZXIgdG8gcmVuZGVyLiBHZW5lcmF0ZXMgZGF5cyBodG1sIGFuZCByZXR1cm5zIGl0LlxyXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRlIC0gRGF0ZSBvYmplY3RcclxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgX2dldERheXNIdG1sOiBmdW5jdGlvbiAoZGF0ZSkge1xyXG4gICAgICAgICAgICB2YXIgdG90YWxNb250aERheXMgPSBkcC5nZXREYXlzQ291bnQoZGF0ZSksXHJcbiAgICAgICAgICAgICAgICBmaXJzdE1vbnRoRGF5ID0gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIDEpLmdldERheSgpLFxyXG4gICAgICAgICAgICAgICAgbGFzdE1vbnRoRGF5ID0gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIHRvdGFsTW9udGhEYXlzKS5nZXREYXkoKSxcclxuICAgICAgICAgICAgICAgIGRheXNGcm9tUGV2TW9udGggPSBmaXJzdE1vbnRoRGF5IC0gdGhpcy5kLmxvYy5maXJzdERheSxcclxuICAgICAgICAgICAgICAgIGRheXNGcm9tTmV4dE1vbnRoID0gNiAtIGxhc3RNb250aERheSArIHRoaXMuZC5sb2MuZmlyc3REYXk7XHJcblxyXG4gICAgICAgICAgICBkYXlzRnJvbVBldk1vbnRoID0gZGF5c0Zyb21QZXZNb250aCA8IDAgPyBkYXlzRnJvbVBldk1vbnRoICsgNyA6IGRheXNGcm9tUGV2TW9udGg7XHJcbiAgICAgICAgICAgIGRheXNGcm9tTmV4dE1vbnRoID0gZGF5c0Zyb21OZXh0TW9udGggPiA2ID8gZGF5c0Zyb21OZXh0TW9udGggLSA3IDogZGF5c0Zyb21OZXh0TW9udGg7XHJcblxyXG4gICAgICAgICAgICB2YXIgc3RhcnREYXlJbmRleCA9IC1kYXlzRnJvbVBldk1vbnRoICsgMSxcclxuICAgICAgICAgICAgICAgIG0sIHksXHJcbiAgICAgICAgICAgICAgICBodG1sID0gJyc7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gc3RhcnREYXlJbmRleCwgbWF4ID0gdG90YWxNb250aERheXMgKyBkYXlzRnJvbU5leHRNb250aDsgaSA8PSBtYXg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgeSA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICAgICAgICAgIG0gPSBkYXRlLmdldE1vbnRoKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaHRtbCArPSB0aGlzLl9nZXREYXlIdG1sKG5ldyBEYXRlKHksIG0sIGkpKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gaHRtbDtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfZ2V0RGF5SHRtbDogZnVuY3Rpb24gKGRhdGUpIHtcclxuICAgICAgICAgICB2YXIgY29udGVudCA9IHRoaXMuX2dldENlbGxDb250ZW50cyhkYXRlLCAnZGF5Jyk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gJzxkaXYgY2xhc3M9XCInICsgY29udGVudC5jbGFzc2VzICsgJ1wiICcgK1xyXG4gICAgICAgICAgICAgICAgJ2RhdGEtZGF0ZT1cIicgKyBkYXRlLmdldERhdGUoKSArICdcIiAnICtcclxuICAgICAgICAgICAgICAgICdkYXRhLW1vbnRoPVwiJyArIGRhdGUuZ2V0TW9udGgoKSArICdcIiAnICtcclxuICAgICAgICAgICAgICAgICdkYXRhLXllYXI9XCInICsgZGF0ZS5nZXRGdWxsWWVhcigpICsgJ1wiPicgKyBjb250ZW50Lmh0bWwgKyAnPC9kaXY+JztcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHZW5lcmF0ZXMgbW9udGhzIGh0bWxcclxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gZGF0ZSAtIGRhdGUgaW5zdGFuY2VcclxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgX2dldE1vbnRoc0h0bWw6IGZ1bmN0aW9uIChkYXRlKSB7XHJcbiAgICAgICAgICAgIHZhciBodG1sID0gJycsXHJcbiAgICAgICAgICAgICAgICBkID0gZHAuZ2V0UGFyc2VkRGF0ZShkYXRlKSxcclxuICAgICAgICAgICAgICAgIGkgPSAwO1xyXG5cclxuICAgICAgICAgICAgd2hpbGUoaSA8IDEyKSB7XHJcbiAgICAgICAgICAgICAgICBodG1sICs9IHRoaXMuX2dldE1vbnRoSHRtbChuZXcgRGF0ZShkLnllYXIsIGkpKTtcclxuICAgICAgICAgICAgICAgIGkrK1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gaHRtbDtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfZ2V0TW9udGhIdG1sOiBmdW5jdGlvbiAoZGF0ZSkge1xyXG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHRoaXMuX2dldENlbGxDb250ZW50cyhkYXRlLCAnbW9udGgnKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiAnPGRpdiBjbGFzcz1cIicgKyBjb250ZW50LmNsYXNzZXMgKyAnXCIgZGF0YS1tb250aD1cIicgKyBkYXRlLmdldE1vbnRoKCkgKyAnXCI+JyArIGNvbnRlbnQuaHRtbCArICc8L2Rpdj4nXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX2dldFllYXJzSHRtbDogZnVuY3Rpb24gKGRhdGUpIHtcclxuICAgICAgICAgICAgdmFyIGQgPSBkcC5nZXRQYXJzZWREYXRlKGRhdGUpLFxyXG4gICAgICAgICAgICAgICAgZGVjYWRlID0gZHAuZ2V0RGVjYWRlKGRhdGUpLFxyXG4gICAgICAgICAgICAgICAgZmlyc3RZZWFyID0gZGVjYWRlWzBdIC0gMSxcclxuICAgICAgICAgICAgICAgIGh0bWwgPSAnJyxcclxuICAgICAgICAgICAgICAgIGkgPSBmaXJzdFllYXI7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGk7IGkgPD0gZGVjYWRlWzFdICsgMTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBodG1sICs9IHRoaXMuX2dldFllYXJIdG1sKG5ldyBEYXRlKGkgLCAwKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBodG1sO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9nZXRZZWFySHRtbDogZnVuY3Rpb24gKGRhdGUpIHtcclxuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSB0aGlzLl9nZXRDZWxsQ29udGVudHMoZGF0ZSwgJ3llYXInKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiAnPGRpdiBjbGFzcz1cIicgKyBjb250ZW50LmNsYXNzZXMgKyAnXCIgZGF0YS15ZWFyPVwiJyArIGRhdGUuZ2V0RnVsbFllYXIoKSArICdcIj4nICsgY29udGVudC5odG1sICsgJzwvZGl2PidcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfcmVuZGVyVHlwZXM6IHtcclxuICAgICAgICAgICAgZGF5czogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRheU5hbWVzID0gdGhpcy5fZ2V0RGF5TmFtZXNIdG1sKHRoaXMuZC5sb2MuZmlyc3REYXkpLFxyXG4gICAgICAgICAgICAgICAgICAgIGRheXMgPSB0aGlzLl9nZXREYXlzSHRtbCh0aGlzLmQuY3VycmVudERhdGUpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuJGNlbGxzLmh0bWwoZGF5cyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRuYW1lcy5odG1sKGRheU5hbWVzKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBtb250aHM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBodG1sID0gdGhpcy5fZ2V0TW9udGhzSHRtbCh0aGlzLmQuY3VycmVudERhdGUpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuJGNlbGxzLmh0bWwoaHRtbClcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgeWVhcnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBodG1sID0gdGhpcy5fZ2V0WWVhcnNIdG1sKHRoaXMuZC5jdXJyZW50RGF0ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy4kY2VsbHMuaHRtbChodG1sKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX3JlbmRlcjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLm9ubHlUaW1lcGlja2VyKSByZXR1cm47XHJcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclR5cGVzW3RoaXMudHlwZV0uYmluZCh0aGlzKSgpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF91cGRhdGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyICRjZWxscyA9ICQoJy5kYXRlcGlja2VyLS1jZWxsJywgdGhpcy4kY2VsbHMpLFxyXG4gICAgICAgICAgICAgICAgX3RoaXMgPSB0aGlzLFxyXG4gICAgICAgICAgICAgICAgY2xhc3NlcyxcclxuICAgICAgICAgICAgICAgICRjZWxsLFxyXG4gICAgICAgICAgICAgICAgZGF0ZTtcclxuICAgICAgICAgICAgJGNlbGxzLmVhY2goZnVuY3Rpb24gKGNlbGwsIGkpIHtcclxuICAgICAgICAgICAgICAgICRjZWxsID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgICAgIGRhdGUgPSBfdGhpcy5kLl9nZXREYXRlRnJvbUNlbGwoJCh0aGlzKSk7XHJcbiAgICAgICAgICAgICAgICBjbGFzc2VzID0gX3RoaXMuX2dldENlbGxDb250ZW50cyhkYXRlLCBfdGhpcy5kLmNlbGxUeXBlKTtcclxuICAgICAgICAgICAgICAgICRjZWxsLmF0dHIoJ2NsYXNzJyxjbGFzc2VzLmNsYXNzZXMpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNob3c6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5vbmx5VGltZXBpY2tlcikgcmV0dXJuO1xyXG4gICAgICAgICAgICB0aGlzLiRlbC5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIHRoaXMuYWNpdHZlID0gdHJ1ZTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBoaWRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJGVsLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvLyAgRXZlbnRzXHJcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgICAgICBfaGFuZGxlQ2xpY2s6IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgICAgICB2YXIgZGF0ZSA9IGVsLmRhdGEoJ2RhdGUnKSB8fCAxLFxyXG4gICAgICAgICAgICAgICAgbW9udGggPSBlbC5kYXRhKCdtb250aCcpIHx8IDAsXHJcbiAgICAgICAgICAgICAgICB5ZWFyID0gZWwuZGF0YSgneWVhcicpIHx8IHRoaXMuZC5wYXJzZWREYXRlLnllYXIsXHJcbiAgICAgICAgICAgICAgICBkcCA9IHRoaXMuZDtcclxuICAgICAgICAgICAgLy8gQ2hhbmdlIHZpZXcgaWYgbWluIHZpZXcgZG9lcyBub3QgcmVhY2ggeWV0XHJcbiAgICAgICAgICAgIGlmIChkcC52aWV3ICE9IHRoaXMub3B0cy5taW5WaWV3KSB7XHJcbiAgICAgICAgICAgICAgICBkcC5kb3duKG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXRlKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gU2VsZWN0IGRhdGUgaWYgbWluIHZpZXcgaXMgcmVhY2hlZFxyXG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWREYXRlID0gbmV3IERhdGUoeWVhciwgbW9udGgsIGRhdGUpLFxyXG4gICAgICAgICAgICAgICAgYWxyZWFkeVNlbGVjdGVkID0gdGhpcy5kLl9pc1NlbGVjdGVkKHNlbGVjdGVkRGF0ZSwgdGhpcy5kLmNlbGxUeXBlKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghYWxyZWFkeVNlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICBkcC5fdHJpZ2dlcignY2xpY2tDZWxsJywgc2VsZWN0ZWREYXRlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZHAuX2hhbmRsZUFscmVhZHlTZWxlY3RlZERhdGVzLmJpbmQoZHAsIGFscmVhZHlTZWxlY3RlZCwgc2VsZWN0ZWREYXRlKSgpO1xyXG5cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfb25DbGlja0NlbGw6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHZhciAkZWwgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCcuZGF0ZXBpY2tlci0tY2VsbCcpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCRlbC5oYXNDbGFzcygnLWRpc2FibGVkLScpKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVDbGljay5iaW5kKHRoaXMpKCRlbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufSkoKTtcclxuXHJcbjsoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHRlbXBsYXRlID0gJycgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci0tbmF2LWFjdGlvblwiIGRhdGEtYWN0aW9uPVwicHJldlwiPiN7cHJldkh0bWx9PC9kaXY+JyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLS1uYXYtdGl0bGVcIj4je3RpdGxlfTwvZGl2PicgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci0tbmF2LWFjdGlvblwiIGRhdGEtYWN0aW9uPVwibmV4dFwiPiN7bmV4dEh0bWx9PC9kaXY+JyxcclxuICAgICAgICBidXR0b25zQ29udGFpbmVyVGVtcGxhdGUgPSAnPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItLWJ1dHRvbnNcIj48L2Rpdj4nLFxyXG4gICAgICAgIGJ1dHRvbiA9ICc8c3BhbiBjbGFzcz1cImRhdGVwaWNrZXItLWJ1dHRvblwiIGRhdGEtYWN0aW9uPVwiI3thY3Rpb259XCI+I3tsYWJlbH08L3NwYW4+JyxcclxuICAgICAgICBkYXRlcGlja2VyID0gJC5mbi5kYXRlcGlja2VyLFxyXG4gICAgICAgIGRwID0gZGF0ZXBpY2tlci5Db25zdHJ1Y3RvcjtcclxuXHJcbiAgICBkYXRlcGlja2VyLk5hdmlnYXRpb24gPSBmdW5jdGlvbiAoZCwgb3B0cykge1xyXG4gICAgICAgIHRoaXMuZCA9IGQ7XHJcbiAgICAgICAgdGhpcy5vcHRzID0gb3B0cztcclxuXHJcbiAgICAgICAgdGhpcy4kYnV0dG9uc0NvbnRhaW5lciA9ICcnO1xyXG5cclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuICAgIH07XHJcblxyXG4gICAgZGF0ZXBpY2tlci5OYXZpZ2F0aW9uLnByb3RvdHlwZSA9IHtcclxuICAgICAgICBpbml0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1aWxkQmFzZUh0bWwoKTtcclxuICAgICAgICAgICAgdGhpcy5fYmluZEV2ZW50cygpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9iaW5kRXZlbnRzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZC4kbmF2Lm9uKCdjbGljaycsICcuZGF0ZXBpY2tlci0tbmF2LWFjdGlvbicsICQucHJveHkodGhpcy5fb25DbGlja05hdkJ1dHRvbiwgdGhpcykpO1xyXG4gICAgICAgICAgICB0aGlzLmQuJG5hdi5vbignY2xpY2snLCAnLmRhdGVwaWNrZXItLW5hdi10aXRsZScsICQucHJveHkodGhpcy5fb25DbGlja05hdlRpdGxlLCB0aGlzKSk7XHJcbiAgICAgICAgICAgIHRoaXMuZC4kZGF0ZXBpY2tlci5vbignY2xpY2snLCAnLmRhdGVwaWNrZXItLWJ1dHRvbicsICQucHJveHkodGhpcy5fb25DbGlja05hdkJ1dHRvbiwgdGhpcykpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9idWlsZEJhc2VIdG1sOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5vcHRzLm9ubHlUaW1lcGlja2VyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW5kZXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9hZGRCdXR0b25zSWZOZWVkKCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX2FkZEJ1dHRvbnNJZk5lZWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy50b2RheUJ1dHRvbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkQnV0dG9uKCd0b2RheScpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5jbGVhckJ1dHRvbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkQnV0dG9uKCdjbGVhcicpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfcmVuZGVyOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciB0aXRsZSA9IHRoaXMuX2dldFRpdGxlKHRoaXMuZC5jdXJyZW50RGF0ZSksXHJcbiAgICAgICAgICAgICAgICBodG1sID0gZHAudGVtcGxhdGUodGVtcGxhdGUsICQuZXh0ZW5kKHt0aXRsZTogdGl0bGV9LCB0aGlzLm9wdHMpKTtcclxuICAgICAgICAgICAgdGhpcy5kLiRuYXYuaHRtbChodG1sKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZC52aWV3ID09ICd5ZWFycycpIHtcclxuICAgICAgICAgICAgICAgICQoJy5kYXRlcGlja2VyLS1uYXYtdGl0bGUnLCB0aGlzLmQuJG5hdikuYWRkQ2xhc3MoJy1kaXNhYmxlZC0nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNldE5hdlN0YXR1cygpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9nZXRUaXRsZTogZnVuY3Rpb24gKGRhdGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZC5mb3JtYXREYXRlKHRoaXMub3B0cy5uYXZUaXRsZXNbdGhpcy5kLnZpZXddLCBkYXRlKVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9hZGRCdXR0b246IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy4kYnV0dG9uc0NvbnRhaW5lci5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2FkZEJ1dHRvbnNDb250YWluZXIoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLmQubG9jW3R5cGVdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgaHRtbCA9IGRwLnRlbXBsYXRlKGJ1dHRvbiwgZGF0YSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoJCgnW2RhdGEtYWN0aW9uPScgKyB0eXBlICsgJ10nLCB0aGlzLiRidXR0b25zQ29udGFpbmVyKS5sZW5ndGgpIHJldHVybjtcclxuICAgICAgICAgICAgdGhpcy4kYnV0dG9uc0NvbnRhaW5lci5hcHBlbmQoaHRtbCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX2FkZEJ1dHRvbnNDb250YWluZXI6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5kLiRkYXRlcGlja2VyLmFwcGVuZChidXR0b25zQ29udGFpbmVyVGVtcGxhdGUpO1xyXG4gICAgICAgICAgICB0aGlzLiRidXR0b25zQ29udGFpbmVyID0gJCgnLmRhdGVwaWNrZXItLWJ1dHRvbnMnLCB0aGlzLmQuJGRhdGVwaWNrZXIpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNldE5hdlN0YXR1czogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoISh0aGlzLm9wdHMubWluRGF0ZSB8fCB0aGlzLm9wdHMubWF4RGF0ZSkgfHwgIXRoaXMub3B0cy5kaXNhYmxlTmF2V2hlbk91dE9mUmFuZ2UpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHZhciBkYXRlID0gdGhpcy5kLnBhcnNlZERhdGUsXHJcbiAgICAgICAgICAgICAgICBtID0gZGF0ZS5tb250aCxcclxuICAgICAgICAgICAgICAgIHkgPSBkYXRlLnllYXIsXHJcbiAgICAgICAgICAgICAgICBkID0gZGF0ZS5kYXRlO1xyXG5cclxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLmQudmlldykge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnZGF5cyc6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmQuX2lzSW5SYW5nZShuZXcgRGF0ZSh5LCBtLTEsIDEpLCAnbW9udGgnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNhYmxlTmF2KCdwcmV2JylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmQuX2lzSW5SYW5nZShuZXcgRGF0ZSh5LCBtKzEsIDEpLCAnbW9udGgnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNhYmxlTmF2KCduZXh0JylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdtb250aHMnOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5kLl9pc0luUmFuZ2UobmV3IERhdGUoeS0xLCBtLCBkKSwgJ3llYXInKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNhYmxlTmF2KCdwcmV2JylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmQuX2lzSW5SYW5nZShuZXcgRGF0ZSh5KzEsIG0sIGQpLCAneWVhcicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVOYXYoJ25leHQnKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3llYXJzJzpcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGVjYWRlID0gZHAuZ2V0RGVjYWRlKHRoaXMuZC5kYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZC5faXNJblJhbmdlKG5ldyBEYXRlKGRlY2FkZVswXSAtIDEsIDAsIDEpLCAneWVhcicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVOYXYoJ3ByZXYnKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZC5faXNJblJhbmdlKG5ldyBEYXRlKGRlY2FkZVsxXSArIDEsIDAsIDEpLCAneWVhcicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVOYXYoJ25leHQnKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9kaXNhYmxlTmF2OiBmdW5jdGlvbiAobmF2KSB7XHJcbiAgICAgICAgICAgICQoJ1tkYXRhLWFjdGlvbj1cIicgKyBuYXYgKyAnXCJdJywgdGhpcy5kLiRuYXYpLmFkZENsYXNzKCctZGlzYWJsZWQtJylcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfYWN0aXZhdGVOYXY6IGZ1bmN0aW9uIChuYXYpIHtcclxuICAgICAgICAgICAgJCgnW2RhdGEtYWN0aW9uPVwiJyArIG5hdiArICdcIl0nLCB0aGlzLmQuJG5hdikucmVtb3ZlQ2xhc3MoJy1kaXNhYmxlZC0nKVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9vbkNsaWNrTmF2QnV0dG9uOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICB2YXIgJGVsID0gJChlLnRhcmdldCkuY2xvc2VzdCgnW2RhdGEtYWN0aW9uXScpLFxyXG4gICAgICAgICAgICAgICAgYWN0aW9uID0gJGVsLmRhdGEoJ2FjdGlvbicpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kW2FjdGlvbl0oKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfb25DbGlja05hdlRpdGxlOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBpZiAoJChlLnRhcmdldCkuaGFzQ2xhc3MoJy1kaXNhYmxlZC0nKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuZC52aWV3ID09ICdkYXlzJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZC52aWV3ID0gJ21vbnRocydcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5kLnZpZXcgPSAneWVhcnMnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn0pKCk7XHJcblxyXG47KGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB0ZW1wbGF0ZSA9ICc8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci0tdGltZVwiPicgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci0tdGltZS1jdXJyZW50XCI+JyArXHJcbiAgICAgICAgJyAgIDxzcGFuIGNsYXNzPVwiZGF0ZXBpY2tlci0tdGltZS1jdXJyZW50LWhvdXJzXCI+I3tob3VyVmlzaWJsZX08L3NwYW4+JyArXHJcbiAgICAgICAgJyAgIDxzcGFuIGNsYXNzPVwiZGF0ZXBpY2tlci0tdGltZS1jdXJyZW50LWNvbG9uXCI+Ojwvc3Bhbj4nICtcclxuICAgICAgICAnICAgPHNwYW4gY2xhc3M9XCJkYXRlcGlja2VyLS10aW1lLWN1cnJlbnQtbWludXRlc1wiPiN7bWluVmFsdWV9PC9zcGFuPicgK1xyXG4gICAgICAgICc8L2Rpdj4nICtcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItLXRpbWUtc2xpZGVyc1wiPicgK1xyXG4gICAgICAgICcgICA8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci0tdGltZS1yb3dcIj4nICtcclxuICAgICAgICAnICAgICAgPGlucHV0IHR5cGU9XCJyYW5nZVwiIG5hbWU9XCJob3Vyc1wiIHZhbHVlPVwiI3tob3VyVmFsdWV9XCIgbWluPVwiI3tob3VyTWlufVwiIG1heD1cIiN7aG91ck1heH1cIiBzdGVwPVwiI3tob3VyU3RlcH1cIi8+JyArXHJcbiAgICAgICAgJyAgIDwvZGl2PicgK1xyXG4gICAgICAgICcgICA8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci0tdGltZS1yb3dcIj4nICtcclxuICAgICAgICAnICAgICAgPGlucHV0IHR5cGU9XCJyYW5nZVwiIG5hbWU9XCJtaW51dGVzXCIgdmFsdWU9XCIje21pblZhbHVlfVwiIG1pbj1cIiN7bWluTWlufVwiIG1heD1cIiN7bWluTWF4fVwiIHN0ZXA9XCIje21pblN0ZXB9XCIvPicgK1xyXG4gICAgICAgICcgICA8L2Rpdj4nICtcclxuICAgICAgICAnPC9kaXY+JyArXHJcbiAgICAgICAgJzwvZGl2PicsXHJcbiAgICAgICAgZGF0ZXBpY2tlciA9ICQuZm4uZGF0ZXBpY2tlcixcclxuICAgICAgICBkcCA9IGRhdGVwaWNrZXIuQ29uc3RydWN0b3I7XHJcblxyXG4gICAgZGF0ZXBpY2tlci5UaW1lcGlja2VyID0gZnVuY3Rpb24gKGluc3QsIG9wdHMpIHtcclxuICAgICAgICB0aGlzLmQgPSBpbnN0O1xyXG4gICAgICAgIHRoaXMub3B0cyA9IG9wdHM7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICBkYXRlcGlja2VyLlRpbWVwaWNrZXIucHJvdG90eXBlID0ge1xyXG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGlucHV0ID0gJ2lucHV0JztcclxuICAgICAgICAgICAgdGhpcy5fc2V0VGltZSh0aGlzLmQuZGF0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1aWxkSFRNTCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL3RyaWRlbnQvZ2kpKSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dCA9ICdjaGFuZ2UnO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmQuJGVsLm9uKCdzZWxlY3REYXRlJywgdGhpcy5fb25TZWxlY3REYXRlLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICB0aGlzLiRyYW5nZXMub24oaW5wdXQsIHRoaXMuX29uQ2hhbmdlUmFuZ2UuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIHRoaXMuJHJhbmdlcy5vbignbW91c2V1cCcsIHRoaXMuX29uTW91c2VVcFJhbmdlLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICB0aGlzLiRyYW5nZXMub24oJ21vdXNlbW92ZSBmb2N1cyAnLCB0aGlzLl9vbk1vdXNlRW50ZXJSYW5nZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgdGhpcy4kcmFuZ2VzLm9uKCdtb3VzZW91dCBibHVyJywgdGhpcy5fb25Nb3VzZU91dFJhbmdlLmJpbmQodGhpcykpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9zZXRUaW1lOiBmdW5jdGlvbiAoZGF0ZSkge1xyXG4gICAgICAgICAgICB2YXIgX2RhdGUgPSBkcC5nZXRQYXJzZWREYXRlKGRhdGUpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlRGF0ZShkYXRlKTtcclxuICAgICAgICAgICAgdGhpcy5ob3VycyA9IF9kYXRlLmhvdXJzIDwgdGhpcy5taW5Ib3VycyA/IHRoaXMubWluSG91cnMgOiBfZGF0ZS5ob3VycztcclxuICAgICAgICAgICAgdGhpcy5taW51dGVzID0gX2RhdGUubWludXRlcyA8IHRoaXMubWluTWludXRlcyA/IHRoaXMubWluTWludXRlcyA6IF9kYXRlLm1pbnV0ZXM7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU2V0cyBtaW5Ib3VycyBhbmQgbWluTWludXRlcyBmcm9tIGRhdGUgKHVzdWFsbHkgaXQncyBhIG1pbkRhdGUpXHJcbiAgICAgICAgICogQWxzbyBjaGFuZ2VzIG1pbk1pbnV0ZXMgaWYgY3VycmVudCBob3VycyBhcmUgYmlnZ2VyIHRoZW4gQGRhdGUgaG91cnNcclxuICAgICAgICAgKiBAcGFyYW0gZGF0ZSB7RGF0ZX1cclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIF9zZXRNaW5UaW1lRnJvbURhdGU6IGZ1bmN0aW9uIChkYXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWluSG91cnMgPSBkYXRlLmdldEhvdXJzKCk7XHJcbiAgICAgICAgICAgIHRoaXMubWluTWludXRlcyA9IGRhdGUuZ2V0TWludXRlcygpO1xyXG5cclxuICAgICAgICAgICAgLy8gSWYsIGZvciBleGFtcGxlLCBtaW4gaG91cnMgYXJlIDEwLCBhbmQgY3VycmVudCBob3VycyBhcmUgMTIsXHJcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBtaW5NaW51dGVzIHRvIGRlZmF1bHQgdmFsdWUsIHRvIGJlIGFibGUgdG8gY2hvb3NlIHdob2xlIHJhbmdlIG9mIHZhbHVlc1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kLmxhc3RTZWxlY3RlZERhdGUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmQubGFzdFNlbGVjdGVkRGF0ZS5nZXRIb3VycygpID4gZGF0ZS5nZXRIb3VycygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5taW5NaW51dGVzID0gdGhpcy5vcHRzLm1pbk1pbnV0ZXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfc2V0TWF4VGltZUZyb21EYXRlOiBmdW5jdGlvbiAoZGF0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLm1heEhvdXJzID0gZGF0ZS5nZXRIb3VycygpO1xyXG4gICAgICAgICAgICB0aGlzLm1heE1pbnV0ZXMgPSBkYXRlLmdldE1pbnV0ZXMoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmQubGFzdFNlbGVjdGVkRGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZC5sYXN0U2VsZWN0ZWREYXRlLmdldEhvdXJzKCkgPCBkYXRlLmdldEhvdXJzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1heE1pbnV0ZXMgPSB0aGlzLm9wdHMubWF4TWludXRlcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9zZXREZWZhdWx0TWluTWF4VGltZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgbWF4SG91cnMgPSAyMyxcclxuICAgICAgICAgICAgICAgIG1heE1pbnV0ZXMgPSA1OSxcclxuICAgICAgICAgICAgICAgIG9wdHMgPSB0aGlzLm9wdHM7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm1pbkhvdXJzID0gb3B0cy5taW5Ib3VycyA8IDAgfHwgb3B0cy5taW5Ib3VycyA+IG1heEhvdXJzID8gMCA6IG9wdHMubWluSG91cnM7XHJcbiAgICAgICAgICAgIHRoaXMubWluTWludXRlcyA9IG9wdHMubWluTWludXRlcyA8IDAgfHwgb3B0cy5taW5NaW51dGVzID4gbWF4TWludXRlcyA/IDAgOiBvcHRzLm1pbk1pbnV0ZXM7XHJcbiAgICAgICAgICAgIHRoaXMubWF4SG91cnMgPSBvcHRzLm1heEhvdXJzIDwgMCB8fCBvcHRzLm1heEhvdXJzID4gbWF4SG91cnMgPyBtYXhIb3VycyA6IG9wdHMubWF4SG91cnM7XHJcbiAgICAgICAgICAgIHRoaXMubWF4TWludXRlcyA9IG9wdHMubWF4TWludXRlcyA8IDAgfHwgb3B0cy5tYXhNaW51dGVzID4gbWF4TWludXRlcyA/IG1heE1pbnV0ZXMgOiBvcHRzLm1heE1pbnV0ZXM7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogTG9va3MgZm9yIG1pbi9tYXggaG91cnMvbWludXRlcyBhbmQgaWYgY3VycmVudCB2YWx1ZXNcclxuICAgICAgICAgKiBhcmUgb3V0IG9mIHJhbmdlIHNldHMgdmFsaWQgdmFsdWVzLlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgX3ZhbGlkYXRlSG91cnNNaW51dGVzOiBmdW5jdGlvbiAoZGF0ZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5ob3VycyA8IHRoaXMubWluSG91cnMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaG91cnMgPSB0aGlzLm1pbkhvdXJzO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaG91cnMgPiB0aGlzLm1heEhvdXJzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhvdXJzID0gdGhpcy5tYXhIb3VycztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMubWludXRlcyA8IHRoaXMubWluTWludXRlcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5taW51dGVzID0gdGhpcy5taW5NaW51dGVzO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMubWludXRlcyA+IHRoaXMubWF4TWludXRlcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5taW51dGVzID0gdGhpcy5tYXhNaW51dGVzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX2J1aWxkSFRNTDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgbHogPSBkcC5nZXRMZWFkaW5nWmVyb051bSxcclxuICAgICAgICAgICAgICAgIGRhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaG91ck1pbjogdGhpcy5taW5Ib3VycyxcclxuICAgICAgICAgICAgICAgICAgICBob3VyTWF4OiBseih0aGlzLm1heEhvdXJzKSxcclxuICAgICAgICAgICAgICAgICAgICBob3VyU3RlcDogdGhpcy5vcHRzLmhvdXJzU3RlcCxcclxuICAgICAgICAgICAgICAgICAgICBob3VyVmFsdWU6IHRoaXMuaG91cnMsXHJcbiAgICAgICAgICAgICAgICAgICAgaG91clZpc2libGU6IGx6KHRoaXMuZGlzcGxheUhvdXJzKSxcclxuICAgICAgICAgICAgICAgICAgICBtaW5NaW46IHRoaXMubWluTWludXRlcyxcclxuICAgICAgICAgICAgICAgICAgICBtaW5NYXg6IGx6KHRoaXMubWF4TWludXRlcyksXHJcbiAgICAgICAgICAgICAgICAgICAgbWluU3RlcDogdGhpcy5vcHRzLm1pbnV0ZXNTdGVwLFxyXG4gICAgICAgICAgICAgICAgICAgIG1pblZhbHVlOiBseih0aGlzLm1pbnV0ZXMpXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgX3RlbXBsYXRlID0gZHAudGVtcGxhdGUodGVtcGxhdGUsIGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy4kdGltZXBpY2tlciA9ICQoX3RlbXBsYXRlKS5hcHBlbmRUbyh0aGlzLmQuJGRhdGVwaWNrZXIpO1xyXG4gICAgICAgICAgICB0aGlzLiRyYW5nZXMgPSAkKCdbdHlwZT1cInJhbmdlXCJdJywgdGhpcy4kdGltZXBpY2tlcik7XHJcbiAgICAgICAgICAgIHRoaXMuJGhvdXJzID0gJCgnW25hbWU9XCJob3Vyc1wiXScsIHRoaXMuJHRpbWVwaWNrZXIpO1xyXG4gICAgICAgICAgICB0aGlzLiRtaW51dGVzID0gJCgnW25hbWU9XCJtaW51dGVzXCJdJywgdGhpcy4kdGltZXBpY2tlcik7XHJcbiAgICAgICAgICAgIHRoaXMuJGhvdXJzVGV4dCA9ICQoJy5kYXRlcGlja2VyLS10aW1lLWN1cnJlbnQtaG91cnMnLCB0aGlzLiR0aW1lcGlja2VyKTtcclxuICAgICAgICAgICAgdGhpcy4kbWludXRlc1RleHQgPSAkKCcuZGF0ZXBpY2tlci0tdGltZS1jdXJyZW50LW1pbnV0ZXMnLCB0aGlzLiR0aW1lcGlja2VyKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmQuYW1wbSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kYW1wbSA9ICQoJzxzcGFuIGNsYXNzPVwiZGF0ZXBpY2tlci0tdGltZS1jdXJyZW50LWFtcG1cIj4nKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmRUbygkKCcuZGF0ZXBpY2tlci0tdGltZS1jdXJyZW50JywgdGhpcy4kdGltZXBpY2tlcikpXHJcbiAgICAgICAgICAgICAgICAgICAgLmh0bWwodGhpcy5kYXlQZXJpb2QpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuJHRpbWVwaWNrZXIuYWRkQ2xhc3MoJy1hbS1wbS0nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF91cGRhdGVDdXJyZW50VGltZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgaCA9ICBkcC5nZXRMZWFkaW5nWmVyb051bSh0aGlzLmRpc3BsYXlIb3VycyksXHJcbiAgICAgICAgICAgICAgICBtID0gZHAuZ2V0TGVhZGluZ1plcm9OdW0odGhpcy5taW51dGVzKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuJGhvdXJzVGV4dC5odG1sKGgpO1xyXG4gICAgICAgICAgICB0aGlzLiRtaW51dGVzVGV4dC5odG1sKG0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuZC5hbXBtKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRhbXBtLmh0bWwodGhpcy5kYXlQZXJpb2QpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX3VwZGF0ZVJhbmdlczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLiRob3Vycy5hdHRyKHtcclxuICAgICAgICAgICAgICAgIG1pbjogdGhpcy5taW5Ib3VycyxcclxuICAgICAgICAgICAgICAgIG1heDogdGhpcy5tYXhIb3Vyc1xyXG4gICAgICAgICAgICB9KS52YWwodGhpcy5ob3Vycyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLiRtaW51dGVzLmF0dHIoe1xyXG4gICAgICAgICAgICAgICAgbWluOiB0aGlzLm1pbk1pbnV0ZXMsXHJcbiAgICAgICAgICAgICAgICBtYXg6IHRoaXMubWF4TWludXRlc1xyXG4gICAgICAgICAgICB9KS52YWwodGhpcy5taW51dGVzKVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNldHMgbWluSG91cnMsIG1pbk1pbnV0ZXMgZXRjLiBmcm9tIGRhdGUuIElmIGRhdGUgaXMgbm90IHBhc3NlZCwgdGhhbiBzZXRzXHJcbiAgICAgICAgICogdmFsdWVzIGZyb20gb3B0aW9uc1xyXG4gICAgICAgICAqIEBwYXJhbSBbZGF0ZV0ge29iamVjdH0gLSBEYXRlIG9iamVjdCwgdG8gZ2V0IHZhbHVlcyBmcm9tXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICBfaGFuZGxlRGF0ZTogZnVuY3Rpb24gKGRhdGUpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2V0RGVmYXVsdE1pbk1heFRpbWUoKTtcclxuICAgICAgICAgICAgaWYgKGRhdGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkcC5pc1NhbWUoZGF0ZSwgdGhpcy5kLm9wdHMubWluRGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXRNaW5UaW1lRnJvbURhdGUodGhpcy5kLm9wdHMubWluRGF0ZSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRwLmlzU2FtZShkYXRlLCB0aGlzLmQub3B0cy5tYXhEYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldE1heFRpbWVGcm9tRGF0ZSh0aGlzLmQub3B0cy5tYXhEYXRlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fdmFsaWRhdGVIb3Vyc01pbnV0ZXMoZGF0ZSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgdXBkYXRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVJhbmdlcygpO1xyXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVDdXJyZW50VGltZSgpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENhbGN1bGF0ZXMgdmFsaWQgaG91ciB2YWx1ZSB0byBkaXNwbGF5IGluIHRleHQgaW5wdXQgYW5kIGRhdGVwaWNrZXIncyBib2R5LlxyXG4gICAgICAgICAqIEBwYXJhbSBkYXRlIHtEYXRlfE51bWJlcn0gLSBkYXRlIG9yIGhvdXJzXHJcbiAgICAgICAgICogQHBhcmFtIFthbXBtXSB7Qm9vbGVhbn0gLSAxMiBob3VycyBtb2RlXHJcbiAgICAgICAgICogQHJldHVybnMge3tob3VyczogKiwgZGF5UGVyaW9kOiBzdHJpbmd9fVxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgX2dldFZhbGlkSG91cnNGcm9tRGF0ZTogZnVuY3Rpb24gKGRhdGUsIGFtcG0pIHtcclxuICAgICAgICAgICAgdmFyIGQgPSBkYXRlLFxyXG4gICAgICAgICAgICAgICAgaG91cnMgPSBkYXRlO1xyXG5cclxuICAgICAgICAgICAgaWYgKGRhdGUgaW5zdGFuY2VvZiBEYXRlKSB7XHJcbiAgICAgICAgICAgICAgICBkID0gZHAuZ2V0UGFyc2VkRGF0ZShkYXRlKTtcclxuICAgICAgICAgICAgICAgIGhvdXJzID0gZC5ob3VycztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIF9hbXBtID0gYW1wbSB8fCB0aGlzLmQuYW1wbSxcclxuICAgICAgICAgICAgICAgIGRheVBlcmlvZCA9ICdhbSc7XHJcblxyXG4gICAgICAgICAgICBpZiAoX2FtcG0pIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCh0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBob3VycyA9PSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBob3VycyA9IDEyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIGhvdXJzID09IDEyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXlQZXJpb2QgPSAncG0nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIGhvdXJzID4gMTE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvdXJzID0gaG91cnMgLSAxMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF5UGVyaW9kID0gJ3BtJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBob3VyczogaG91cnMsXHJcbiAgICAgICAgICAgICAgICBkYXlQZXJpb2Q6IGRheVBlcmlvZFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgc2V0IGhvdXJzICh2YWwpIHtcclxuICAgICAgICAgICAgdGhpcy5faG91cnMgPSB2YWw7XHJcblxyXG4gICAgICAgICAgICB2YXIgZGlzcGxheUhvdXJzID0gdGhpcy5fZ2V0VmFsaWRIb3Vyc0Zyb21EYXRlKHZhbCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlIb3VycyA9IGRpc3BsYXlIb3Vycy5ob3VycztcclxuICAgICAgICAgICAgdGhpcy5kYXlQZXJpb2QgPSBkaXNwbGF5SG91cnMuZGF5UGVyaW9kO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGdldCBob3VycygpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hvdXJzO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8vICBFdmVudHNcclxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgICAgIF9vbkNoYW5nZVJhbmdlOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICB2YXIgJHRhcmdldCA9ICQoZS50YXJnZXQpLFxyXG4gICAgICAgICAgICAgICAgbmFtZSA9ICR0YXJnZXQuYXR0cignbmFtZScpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5kLnRpbWVwaWNrZXJJc0FjdGl2ZSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICB0aGlzW25hbWVdID0gJHRhcmdldC52YWwoKTtcclxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlQ3VycmVudFRpbWUoKTtcclxuICAgICAgICAgICAgdGhpcy5kLl90cmlnZ2VyKCd0aW1lQ2hhbmdlJywgW3RoaXMuaG91cnMsIHRoaXMubWludXRlc10pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlRGF0ZSh0aGlzLmQubGFzdFNlbGVjdGVkRGF0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKClcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfb25TZWxlY3REYXRlOiBmdW5jdGlvbiAoZSwgZGF0YSkge1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVEYXRlKGRhdGEpO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9vbk1vdXNlRW50ZXJSYW5nZTogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgdmFyIG5hbWUgPSAkKGUudGFyZ2V0KS5hdHRyKCduYW1lJyk7XHJcbiAgICAgICAgICAgICQoJy5kYXRlcGlja2VyLS10aW1lLWN1cnJlbnQtJyArIG5hbWUsIHRoaXMuJHRpbWVwaWNrZXIpLmFkZENsYXNzKCctZm9jdXMtJyk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX29uTW91c2VPdXRSYW5nZTogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgdmFyIG5hbWUgPSAkKGUudGFyZ2V0KS5hdHRyKCduYW1lJyk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmQuaW5Gb2N1cykgcmV0dXJuOyAvLyBQcmV2ZW50IHJlbW92aW5nIGZvY3VzIHdoZW4gbW91c2Ugb3V0IG9mIHJhbmdlIHNsaWRlclxyXG4gICAgICAgICAgICAkKCcuZGF0ZXBpY2tlci0tdGltZS1jdXJyZW50LScgKyBuYW1lLCB0aGlzLiR0aW1lcGlja2VyKS5yZW1vdmVDbGFzcygnLWZvY3VzLScpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9vbk1vdXNlVXBSYW5nZTogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5kLnRpbWVwaWNrZXJJc0FjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn0pKCk7XHJcbiB9KSh3aW5kb3csIGpRdWVyeSk7IiwidHJ5IHtcclxuICAgIGNvbnN0IGRhdGVwaWNrZXJBcGlfMmYgPSAkKCcuanMtZGF0ZXBpY2tlci0yZl9faW5wdXQtZmllbGQnKS5kYXRlcGlja2VyKCkuZGF0YSgnZGF0ZXBpY2tlcicpO1xyXG4gICAgY29uc3Qgb3V0RGF0ZUZpZWxkXzJmID0gJChcIi5qcy1kYXRlcGlja2VyLTJmX19vdXQtZGF0ZS1maWVsZFwiKTtcclxuICAgIGNvbnN0IGluRGF0ZUZpZWxkXzJmID0gJChcIi5qcy1kYXRlcGlja2VyLTJmX19pbnB1dC1maWVsZFwiKTtcclxuXHJcbiAgICBpbkRhdGVGaWVsZF8yZi5kYXRlcGlja2VyKHsgICBcclxuICAgICAgICBvblNlbGVjdDogKGZvcm1hdHRlZERhdGUpID0+IHsgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgaW5EYXRlID0gZm9ybWF0dGVkRGF0ZS5tYXRjaCgvLis/KD89XFxzfCQpLykgPyBmb3JtYXR0ZWREYXRlLm1hdGNoKC8uKz8oPz1cXHN8JCkvKVswXSA6IFwiXCI7XHJcbiAgICAgICAgICAgIGxldCBvdXREYXRlID0gZm9ybWF0dGVkRGF0ZS5tYXRjaCgvKD88PVxccy1cXHMpLisvKSA/IGZvcm1hdHRlZERhdGUubWF0Y2goLyg/PD1cXHMtXFxzKS4rLylbMF0gOiBcIlwiO1xyXG4gICAgICAgICAgICBpbkRhdGVGaWVsZF8yZi52YWwoaW5EYXRlKTtcclxuICAgICAgICAgICAgb3V0RGF0ZUZpZWxkXzJmLnZhbChvdXREYXRlKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIGluRGF0ZUZpZWxkXzJmLmRhdGVwaWNrZXIoe2NsZWFyQnV0dG9uOiB0cnVlfSk7XHJcbiAgICBpbkRhdGVGaWVsZF8yZi5kYXRlcGlja2VyKHt0b2RheUJ1dHRvbjogdHJ1ZX0pO1xyXG4gICAgaW5EYXRlRmllbGRfMmYuZGF0ZXBpY2tlcih7cHJldkh0bWw6ICc8aSBjbGFzcyA9IFwiZGItYXJyb3cgbWF0ZXJpYWwtaWNvbnNcIj5hcnJvd19iYWNrPC9pPid9KTtcclxuICAgIGluRGF0ZUZpZWxkXzJmLmRhdGVwaWNrZXIoe25leHRIdG1sOiAnPGkgY2xhc3MgPSBcImRiLWFycm93IG1hdGVyaWFsLWljb25zXCI+YXJyb3dfZm9yd2FyZDwvaT4nfSk7XHJcblxyXG4gICAgY29uc3QgYXBwbHlCdXR0ID0gJChcIi5kYXRlcGlja2VyLS1idXR0b25bZGF0YS1hY3Rpb249J3RvZGF5J11cIik7XHJcbiAgICBhcHBseUJ1dHQuaHRtbChcItCf0YDQuNC80LXQvdC40YLRjFwiKTtcclxuICAgIGFwcGx5QnV0dC5jbGljaygoKSA9PiBkYXRlcGlja2VyQXBpXzJmLmhpZGUoKSk7XHJcblxyXG4gICAgJCgnLmpzLXdyYXBwZXItaW5wdXQnKS5jbGljaygoKSA9PiBkYXRlcGlja2VyQXBpXzJmLnNob3coKSk7XHJcbn0gY2F0Y2gge1xyXG4gICAgY29uc29sZS5sb2coXCJTb21ldGhpbmcgd3Jvbmcgd2l0aCBkYXRlcGlja2VyLTJmXCIpO1xyXG59XHJcblxyXG4iLCJ0cnkge1xyXG4gICAgY29uc3QgaXNHdWVzdHNEcm9wZG93biA9IGZ1bmN0aW9uIChwbGFjZWhvbGRlcikge1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXIuaW5uZXJIVE1MLnNwbGl0KFwiPHNwYW5cIilbMF0gPT09IFwi0KHQutC+0LvRjNC60L4g0LPQvtGB0YLQtdC5XCJcclxuICAgICAgICAgICAgfHwgcGxhY2Vob2xkZXIuaW5uZXJIVE1MLnNwbGl0KFwiIFwiKVswXSA9PT0gXCLQk9C+0YHRgtC10LlcIlxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGlzQmVkc0Ryb3Bkb3duID0gZnVuY3Rpb24gKHBsYWNlaG9sZGVyKSB7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlci5pbm5lckhUTUwuc3BsaXQoXCI8c3BhblwiKVswXSA9PSBcItCS0YvQsdC10YDQuNGC0LUg0YPQtNC+0LHRgdGC0LLQsFwiXHJcbiAgICAgICAgICAgIHx8IHBsYWNlaG9sZGVyLmlubmVySFRNTC5zcGxpdChcIiBcIilbMF0gPT0gXCLQodC/0LDQu9C10L1cIlxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHBsYWNlaG9sZGVyQ2hhbmdlciA9IGZ1bmN0aW9uIChxdWFuTGlzdCwgcGxhY2Vob2xkZXIpIHtcclxuICAgICAgICBjb25zdCBleHBhbmQgPSAnPHNwYW4gY2xhc3MgPSBcIm1hdGVyaWFsLWljb25zXCI+ZXhwYW5kX21vcmU8L3NwYW4+JztcclxuICAgICAgICBpZiAoaXNHdWVzdHNEcm9wZG93bihwbGFjZWhvbGRlcikpIHtcclxuICAgICAgICAgICAgbGV0IHF1YW5QZW9wbGUgPSBwYXJzZUludChxdWFuTGlzdC5pdGVtKDApLmlubmVySFRNTCkgKyBwYXJzZUludChxdWFuTGlzdC5pdGVtKDEpLmlubmVySFRNTCk7XHJcbiAgICAgICAgICAgIGxldCBxdWFuQmFieSA9IHBhcnNlSW50KHF1YW5MaXN0Lml0ZW0oMikuaW5uZXJIVE1MKTtcclxuICAgICAgICAgICAgaWYgKHF1YW5CYWJ5ICE9PSAwKSB7ICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlci5pbm5lckhUTUwgPSBg0JPQvtGB0YLQtdC5IC0gJHtxdWFuUGVvcGxlLnRvU3RyaW5nKCl9LCDQvNC70LDQtNC10L3RhtC10LIgLSAke3F1YW5CYWJ5LnRvU3RyaW5nKCl9YCArIGV4cGFuZDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChxdWFuUGVvcGxlID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXIuaW5uZXJIVE1MID0gXCLQodC60L7Qu9GM0LrQviDQs9C+0YHRgtC10LlcIiArIGV4cGFuZDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXIuaW5uZXJIVE1MID0gYNCT0L7RgdGC0LXQuSAtICR7cXVhblBlb3BsZS50b1N0cmluZygpfWAgKyBleHBhbmQ7XHJcbiAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0gICAgIFxyXG4gICAgICAgIH0gZWxzZSBpZiAoaXNCZWRzRHJvcGRvd24ocGxhY2Vob2xkZXIpKSB7XHJcbiAgICAgICAgICAgIGxldCBxdWFuUm9vbSA9IHBhcnNlSW50KHF1YW5MaXN0Lml0ZW0oMCkuaW5uZXJIVE1MKTtcclxuICAgICAgICAgICAgbGV0IHF1YW5CZWQgPSBwYXJzZUludChxdWFuTGlzdC5pdGVtKDEpLmlubmVySFRNTCk7ICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIChxdWFuQmVkICE9PSAwKSB7ICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlci5pbm5lckhUTUwgPSBg0KHQv9Cw0LvQtdC9IC0gJHtxdWFuUm9vbS50b1N0cmluZygpfSwg0LrRgNC+0LLQsNGC0LXQuSAtICR7cXVhbkJlZC50b1N0cmluZygpfSAuLi5gO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHF1YW5Sb29tID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXIuaW5uZXJIVE1MID0gXCLQktGL0LHQtdGA0LjRgtC1INGD0LTQvtCx0YHRgtCy0LBcIjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXIuaW5uZXJIVE1MID0gYNCh0L/QsNC70LXQvSAtICR7cXVhblJvb20udG9TdHJpbmcoKX0sINGB0L/QsNGC0Ywg0L3QsCDQutC+0LLRgNC40LrQtSAuLi5gO1xyXG4gICAgICAgICAgICAgICAgfSAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9ICAgICBcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbGlzdE1pbnVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImpzLWRyb3Bkb3duX19taW51c1wiKTtcclxuICAgIEFycmF5LmZyb20obGlzdE1pbnVzLCAoaXRlbSkgPT4ge1xyXG4gICAgICAgIGl0ZW0ub25jbGljayA9ICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSBpdGVtLm5leHRTaWJsaW5nLmlubmVySFRNTDtcclxuICAgICAgICAgICAgaWYgKGNvbnRlbnQgIT09IFwiMFwiKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbmV3Q29udGVudCA9IHBhcnNlSW50KGNvbnRlbnQpIC0gMTtcclxuICAgICAgICAgICAgICAgIGl0ZW0ubmV4dFNpYmxpbmcuaW5uZXJIVE1MID0gbmV3Q29udGVudC50b1N0cmluZygpO1xyXG4gICAgICAgICAgICB9ICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBsaXN0UGx1cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJqcy1kcm9wZG93bl9fcGx1c1wiKTtcclxuICAgIEFycmF5LmZyb20obGlzdFBsdXMsIChpdGVtKSA9PiB7XHJcbiAgICAgICAgaXRlbS5vbmNsaWNrID0gKCkgPT4geyAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBjb250ZW50ID0gaXRlbS5wcmV2aW91c1NpYmxpbmcucHJldmlvdXNTaWJsaW5nLmlubmVySFRNTDsgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgbmV3Q29udGVudCA9IHBhcnNlSW50KGNvbnRlbnQpICsgMTsgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgaXRlbS5wcmV2aW91c1NpYmxpbmcucHJldmlvdXNTaWJsaW5nLmlubmVySFRNTCA9IG5ld0NvbnRlbnQudG9TdHJpbmcoKTsgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgbGlzdENsZWFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImpzLWRyb3Bkb3duX19jbGVhclwiKTtcclxuICAgIEFycmF5LmZyb20obGlzdENsZWFyLCAoaXRlbSkgPT4ge1xyXG4gICAgICAgIGl0ZW0ub25jbGljayA9ICgpID0+IHtcclxuICAgICAgICAgICAgaXRlbS5wYXJlbnROb2RlLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvckFsbChcIi5qcy1kcm9wZG93bl9fcXVhbnRpdHlcIikuZm9yRWFjaCgocXVhbikgPT4gcXVhbi5pbm5lckhUTUwgPSBcIjBcIik7XHJcbiAgICAgICAgfSAgICAgICAgICAgXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBsaXN0QXBwbHkgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwianMtZHJvcGRvd25fX2FwcGx5XCIpO1xyXG4gICAgQXJyYXkuZnJvbShsaXN0QXBwbHksIChpdGVtKSA9PiB7XHJcbiAgICAgICAgbGV0IHBsYWNlaG9sZGVyID0gaXRlbS5wYXJlbnROb2RlLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcihcIi5qcy1kcm9wZG93bl9fZmllbGRcIik7ICAgICAgICBcclxuICAgICAgICBsZXQgcXVhbkxpc3QgPSBpdGVtLnBhcmVudE5vZGUucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKFwiLmpzLWRyb3Bkb3duX19xdWFudGl0eVwiKTtcclxuICAgICAgICBpdGVtLm9uY2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyQ2hhbmdlcihxdWFuTGlzdCwgcGxhY2Vob2xkZXIpO1xyXG4gICAgICAgICAgICBpdGVtLnBhcmVudE5vZGUucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKFwiLmpzLWRyb3Bkb3duX191bFwiKS5jbGFzc0xpc3QucmVtb3ZlKFwiZHJvcGRvd25fX3VsX2FjdGl2ZVwiKTtcclxuICAgICAgICAgICAgaXRlbS5wYXJlbnROb2RlLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcihcIi5kcm9wZG93bl9fZmllbGRfYWN0aXZlXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJkcm9wZG93bl9fZmllbGRfYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICBpdGVtLnBhcmVudE5vZGUucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKFwiLmpzLWRyb3Bkb3duX19idXR0b25zXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJkcm9wZG93bl9fYnV0dG9uc19hY3RpdmVcIik7XHJcbiAgICAgICAgfSAgICAgICAgICAgXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBsaXN0RmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwianMtZHJvcGRvd25fX2ZpZWxkXCIpO1xyXG4gICAgQXJyYXkuZnJvbShsaXN0RmllbGQsIChpdGVtKSA9PiB7XHJcbiAgICAgICAgaXRlbS5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgcXVhbkxpc3QgPSBpdGVtLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvckFsbChcIi5qcy1kcm9wZG93bl9fcXVhbnRpdHlcIik7XHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyQ2hhbmdlcihxdWFuTGlzdCwgaXRlbSk7XHJcbiAgICAgICAgICAgIGl0ZW0ucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKFwiLmpzLWRyb3Bkb3duX191bFwiKS5jbGFzc0xpc3QudG9nZ2xlKFwiZHJvcGRvd25fX3VsX2FjdGl2ZVwiKTtcclxuICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QudG9nZ2xlKFwiZHJvcGRvd25fX2ZpZWxkX2FjdGl2ZVwiKTtcclxuICAgICAgICAgICAgaWYgKCFpdGVtLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcihcIi5qcy1kcm9wZG93bl9fYnV0dG9uc1wiKS5jbGFzc0xpc3QuY29udGFpbnMoXCJkcm9wZG93bl9fYnV0dG9uc19ub25lXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcihcIi5qcy1kcm9wZG93bl9fYnV0dG9uc1wiKS5jbGFzc0xpc3QudG9nZ2xlKFwiZHJvcGRvd25fX2J1dHRvbnNfYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSAgICAgICAgXHJcbiAgICB9KTtcclxufSBjYXRjaCB7XHJcbiAgICBjb25zb2xlLmxvZyhcIlRoZXJlIGFyZSBubyBkcm9wZG93bnNcIilcclxufVxyXG4iLCJ0cnkge1xyXG4gICAgY29uc3QgZHJvcGRvd25XcmFwcGVyTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJhcHBhcnRtZW50LWZvcm1fX2Ryb3Bkb3duLXRpdGxlXCIpO1xyXG4gICAgZm9yIChsZXQgaXRlbSBvZiBkcm9wZG93bldyYXBwZXJMaXN0KSB7ICAgICAgICAgICAgICAgXHJcbiAgICAgICAgaXRlbS5vbmNsaWNrID0gKCkgPT4geyAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCBleHBhbmRCdXR0ID0gaXRlbS5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoXCJzcGFuLm1hdGVyaWFsLWljb25zXCIpO1xyXG4gICAgICAgICAgICBjb25zdCBjaGVja2JveGVzID0gaXRlbS5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoXCIuYXBwYXJ0bWVudC1mb3JtX19jaGVja2JveGVzXCIpO1xyXG4gICAgICAgICAgICBjaGVja2JveGVzLmNsYXNzTGlzdC50b2dnbGUoXCJhcHBhcnRtZW50LWZvcm1fX2NoZWNrYm94ZXNfZGlzc2FwcGVhclwiKTtcclxuICAgICAgICAgICAgZXhwYW5kQnV0dC5jbGFzc0xpc3QudG9nZ2xlKFwiYXBwYXJ0bWVudC1mb3JtX19leHBhbmQtYnV0dF9yb3RhdGVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IGNhdGNoIHsgY29uc29sZS5sb2coXCJUaGVyZSBpcyBubyBkcm9wZG93biBtZW51LlwiKX0iLCJ0cnkge1xyXG4gICAgY29uc3Qgbm9VaVNsaWRlciA9IHJlcXVpcmUoXCIuL25vdWlzbGlkZXIuanNcIik7XHJcbiAgICBjb25zdCBzbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNsaWRlclwiKTtcclxuXHJcbiAgICBub1VpU2xpZGVyLmNyZWF0ZShzbGlkZXIsIHtcclxuICAgICAgICBzdGFydDogWzIwMDAsIDgwMDBdLFxyXG4gICAgICAgIGNvbm5lY3Q6IHRydWUsXHJcbiAgICAgICAgc3RlcDogMTAwLFxyXG4gICAgICAgIHJhbmdlOiB7XHJcbiAgICAgICAgICAgICdtaW4nOiAwLFxyXG4gICAgICAgICAgICAnbWF4JzogMTUwMDBcclxuICAgICAgICB9LCAgICAgICAgIFxyXG4gICAgfSk7XHJcbiAgICBzbGlkZXIubm9VaVNsaWRlci5vbihcInVwZGF0ZVwiLCAoKSA9PiB7XHJcbiAgICAgICAgbGV0IG1pbiA9IHNsaWRlci5ub1VpU2xpZGVyLmdldCgpWzBdXHJcbiAgICAgICAgICAgIC5tYXRjaCgvLisoPz1cXC4wMCkvKVswXVxyXG4gICAgICAgICAgICAucmVwbGFjZSgvKFxcZCspKFxcZHszfSQpLywgJyQxICQy4oK9Jyk7XHJcbiAgICAgICAgbGV0IG1heCA9IHNsaWRlci5ub1VpU2xpZGVyLmdldCgpWzFdXHJcbiAgICAgICAgICAgIC5tYXRjaCgvLisoPz1cXC4wMCkvKVswXVxyXG4gICAgICAgICAgICAucmVwbGFjZSgvKFxcZCspKFxcZHszfSQpLywgJyQxICQy4oK9Jyk7ICAgIFxyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9ybS1wcmljZVwiKS5pbm5lckhUTUwgPSBgJHttaW59IC0gJHttYXh9YDsgICAgICAgXHJcbiAgICB9KTtcclxufSBjYXRjaCB7IGNvbnNvbGUubG9nKFwiVGhlcmUgaXMgbm8gdWlzbGlkZXIuXCIpfVxyXG4iLCJjb25zdCBkYXRlcGlja2VyQXBpXzFmID0gJCgnLmRhdGVwaWNrZXItMWYgLmRhdGVwaWNrZXItMWZfX2lucHV0LWZpZWxkJykuZGF0ZXBpY2tlcigpLmRhdGEoJ2RhdGVwaWNrZXInKTtcclxuY29uc3QgaW5EYXRlRmllbGRfMWYgPSAkKFwiLmRhdGVwaWNrZXItMWYgLmRhdGVwaWNrZXItMWZfX2lucHV0LWZpZWxkXCIpO1xyXG5cclxuaW5EYXRlRmllbGRfMWYuZGF0ZXBpY2tlcih7ICAgXHJcbiAgICBvblNlbGVjdDogKGZvcm1hdHRlZERhdGUpID0+IHtcclxuICAgICAgICBsZXQgcmVzRGF0ZSA9IFwiXCI7XHJcbiAgICAgICAgaWYgKGZvcm1hdHRlZERhdGUuc3BsaXQoXCIgLSBcIikubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICBsZXQgYXJyRGF0ZXMgPSBmb3JtYXR0ZWREYXRlLnNwbGl0KFwiIC0gXCIpO1xyXG4gICAgICAgICAgICBhcnJEYXRlcyA9IGFyckRhdGVzLm1hcCh2YWwgPT4gdmFsLm1hdGNoKC9cXGR7Mn1cXHNb0LAt0Y/QkC3Qr117M30vKVswXSk7XHJcbiAgICAgICAgICAgIHJlc0RhdGUgPSBhcnJEYXRlcy5qb2luKFwiIC0gXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlc0RhdGUgPSBmb3JtYXR0ZWREYXRlLm1hdGNoKC9cXGR7Mn1cXHNb0LAt0Y/QkC3Qr117M30vKVswXTtcclxuICAgICAgICB9ICAgICAgICAgICAgICAgXHJcbiAgICAgICAgaW5EYXRlRmllbGRfMWYudmFsKHJlc0RhdGUpOyAgICAgICBcclxuICAgIH1cclxufSlcclxuXHJcbmluRGF0ZUZpZWxkXzFmLmRhdGVwaWNrZXIoe2NsZWFyQnV0dG9uOiB0cnVlfSk7XHJcbmluRGF0ZUZpZWxkXzFmLmRhdGVwaWNrZXIoe3RvZGF5QnV0dG9uOiB0cnVlfSk7XHJcbmluRGF0ZUZpZWxkXzFmLmRhdGVwaWNrZXIoe2RhdGVGb3JtYXQ6IFwiZGQgTU1cIn0pO1xyXG5pbkRhdGVGaWVsZF8xZi5kYXRlcGlja2VyKHtwcmV2SHRtbDogJzxpIGNsYXNzID0gXCJkYi1hcnJvdyBtYXRlcmlhbC1pY29uc1wiPmFycm93X2JhY2s8L2k+J30pO1xyXG5pbkRhdGVGaWVsZF8xZi5kYXRlcGlja2VyKHtuZXh0SHRtbDogJzxpIGNsYXNzID0gXCJkYi1hcnJvdyBtYXRlcmlhbC1pY29uc1wiPmFycm93X2ZvcndhcmQ8L2k+J30pO1xyXG5cclxubGV0IGFwcGx5QnV0dCA9ICQoXCIuZGF0ZXBpY2tlci0tYnV0dG9uW2RhdGEtYWN0aW9uPSd0b2RheSddXCIpO1xyXG5hcHBseUJ1dHQuaHRtbChcItCf0YDQuNC80LXQvdC40YLRjFwiKTtcclxuYXBwbHlCdXR0LmNsaWNrKCgpID0+IGRhdGVwaWNrZXJBcGlfMWYuaGlkZSgpKTtcclxuXHJcbiQoJy5kYXRlcGlja2VyLTFmX193cmFwcGVyLWlucHV0LWZpZWxkJykuY2xpY2soKCkgPT4gZGF0ZXBpY2tlckFwaV8xZi5zaG93KCkpO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL2NhcmRzLzg4OC5qcGdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL2NhcmRzLzg0MC5qcGdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL2NhcmRzLzk4MC5qcGdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL2NhcmRzLzg1Ni5qcGdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL2NhcmRzLzc0MC5qcGdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL2NhcmRzLzk4Mi5qcGdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL2NhcmRzLzY3OC5qcGdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL2NhcmRzLzQ1MC5qcGdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL2NhcmRzLzM1MC5qcGdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL2NhcmRzLzY2Ni5qcGdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL2NhcmRzLzQ0NC5qcGdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL2NhcmRzLzM1Mi5qcGdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL2NoZWNrLW1hcmsucG5nXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImltYWdlcy91c2Vycy8xLmpwZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWFnZXMvdXNlcnMvMi5qcGdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL2NhcmRzLzg4OF9hLmpwZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWFnZXMvY2FyZHMvODg4X2IuanBnXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImltYWdlcy9jYXJkcy84ODhfYy5qcGdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL3JlZ2lzdHJhdGlvbi5qcGdcIjsiLCJpbXBvcnQgXCIuL2ltYWdlcy9yZWdpc3RyYXRpb24uanBnXCI7XHJcblxyXG5jb25zdCBpbkJ1dHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmpzLWluLWJ1dHRcIik7XHJcbmNvbnN0IHJlZ0J1dHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmpzLXJlZy1idXR0XCIpO1xyXG5jb25zdCBpbkZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmpzLWluLWZvcm1cIik7XHJcbmNvbnN0IHJlZ0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmpzLXJlZy1mb3JtXCIpO1xyXG5cclxuaW5CdXR0Lm9uY2xpY2sgPSAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHJlZ0Zvcm0uY2xhc3NMaXN0LmFkZChcIndyYXBwZXItcmVnaXN0cmF0aW9uLWZvcm1faGlkZGVuXCIpO1xyXG4gICAgICAgIGluRm9ybS5jbGFzc0xpc3QuYWRkKFwid3JhcHBlci1pbi1mb3JtX3Zpc2libGVkXCIpO1xyXG4gICAgfSBjYXRjaCB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJUaGVyZSBhcmUgbm8gcmVnIGFuZChvcikgc2lnbi1pbiBmb3Jtc1wiKTtcclxuICAgIH1cclxufVxyXG5cclxucmVnQnV0dC5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICByZWdGb3JtLmNsYXNzTGlzdC5yZW1vdmUoXCJ3cmFwcGVyLXJlZ2lzdHJhdGlvbi1mb3JtX2hpZGRlblwiKTtcclxuICAgICAgICBpbkZvcm0uY2xhc3NMaXN0LnJlbW92ZShcIndyYXBwZXItaW4tZm9ybV92aXNpYmxlZFwiKVxyXG4gICAgfSBjYXRjaCB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJUaGVyZSBhcmUgbm8gcmVnIGFuZChvcikgc2lnbi1pbiBmb3Jtc1wiKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImltYWdlcy9sb2dvLXRveGluLnBuZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWFnZXMvbGFuZGluZ3BhZ2UtYmcuanBnXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImltYWdlcy9mLnBuZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWFnZXMvdC5wbmdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL2kucG5nXCI7Il0sInNvdXJjZVJvb3QiOiIifQ==